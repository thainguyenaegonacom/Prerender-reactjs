{"version":3,"sources":["containers/BrandProductPage/index.tsx","images/icons/ic-facebook.svg","images/icons/ic-insta.svg","images/icons/ic-linkedin.svg","components/Footer/footerItem.tsx","components/Footer/index.tsx","images/icons/addToCart-white.svg","components/BlockIcon/index.tsx","components/BlockTitle/index.tsx","images/block-questionnaire/logo.png","components/BlockQuestionnaire/BlockProduct/itemProduct.tsx","components/BlockQuestionnaire/BlockProduct/index.tsx","images/block-questionnaire/left-arrow.svg","images/block-questionnaire/home.svg","components/BlockQuestionnaire/index.tsx","components/BlockCollectEmail/index.tsx","images/logo-collect-email.png","components/FilterProductBox/index.tsx","utils/helpers/colorCodeToFilter.js","utils/helpers/setColor.ts","../node_modules/react-iframe-form/build/index.js","components/BlockAllBrands/index.tsx"],"names":["VideoBlock","lazy","BlockCarousel","BlockSpotlight","CountDownBlock","BlockBlogs","BlockFormField","BrandProductPage","props","dispatch","useDispatch","stateProduct","useSelector","state","productReducer","refFooter","useRef","useState","dataNav","setDataNav","loading","setLoading","dataFooter","setDataFooter","dataCMS","setDataCMS","dataBody","setDataBody","visibleModalEmail","setVisibleModalEmail","dataFormField","setDataFormField","timeStamp","setTimeStamp","next","paging","setPaging","search","setSearch","loadingProduct","setLoadingProduct","filterData","setFilterData","searchReady","setSearchReady","dataIcon","value","icons","fetchDataProduct","isFetch","a","brandID","action","params","URLSearchParams","location","searchValue","get","sortQuery","minQuery","maxQuery","collectionsQuery","scentQuery","tagsQuery","brandsQuery","sortQueryString","minQueryString","maxQueryString","collectionsQueryString","brandsQueryString","brand","id","scentQueryString","tagsQueryString","cloneSearch","sortData","find","sortOptions","i","push","minMax","type","minPrice","maxPrice","setPriceRange","parseInt","split","map","result","item","res","setFilterSelection","queryString","trim","options","url","GET_ALL_PRODUCT","method","body","pending","fetchClient","Promise","all","results","dataSearchResult","fetchDataInit","slug","pathname","undefined","isEmpty","fetchDynamicCMSPage","substring","cmsData","cmsDataBody","filter","visible","dataDynamicLinks","optionsFilterBox","GET_FILTER_BOX_PRODUCT","then","footer","navigation","form_fields","timestamp","show_highlight_message","highlight_message","homeAction","handleSortProduct","index","findIndex","title","priceRange","validateFilter","setValidateFilter","filterSelection","handleChange","event","inputValue","target","replace","currentTarget","name","handleRemovePriceFilter","cloneArr","e","cloneArrSearch","indexSearch","splice","handleBlurPrice","useEffect","handleFilterProduct","productStore","seachFilterValue","Object","assign","filterMinPrice","filterMaxPrice","handleCheckOther","copyArr","data","handleCheckBrand","handleCheckScent","handleRemoveOtherFilter","coppyArrSearch","handleRemoveScentFilter","handleRemoveBrandsFilter","handleClearFilter","handleLoadmore","obj","ordering","min_price","max_price","otherQuery","collections","toString","scents","brands","seachValueQueryString","reduce","key","isNull","isUndefined","isArray","result1","value1","slice","objectToQueryString","history","match","openFilterBox","filteredboxQuantity","handelToggleModal","getBreadCrumb","link","meta","parent","locationState","useLocation","backgroundColor","main_color","foregroundColor","separator_color","setColorHeaderIcons","setColorSearchBox","setColorCartBadge","setColorFooter","setColorBlkIcons","setColorBreadcrumbBlkIcons","setColorResetFilterButton","setColorResultFilterBox","setColorWrapperFilterBox","className","property","content","featured_image","fullwidth","isMobile","iconList","to","href","dataOther","dataScents","dataBrands","onClick","placeholder","searchable","labelField","onChange","valueField","values","sortValue","allProduct","length","style","marginBottom","productList","paddingBottom","marginTop","slides","dragOrAuto","maxWidth","max_width","maxHeight","max_height","headline","items","rows","showReadmore","products","dangerouslySetInnerHTML","__html","text","images","big","top_left","bottom_left","blogList","modal","isOpen","minWidth","maskBg","onKeyPress","onClickAway","formField","html_url","closeModal","icon_image","original","width","height","webp","mobile","alt","ref","memo","footerItem","children","relative_url","external_url","top","left","menu_icon","Footer","PHONE_CONTACT","encodeURI","rel","src","icLinkedIn","icFaceBook","icInsta","BlockIcon","BlockTitle","styleDiv","styleText","itemProduct","productItem","itemProductRef","image","setImage","keyEndpoint","useHistory","current","clientHeight","fixed_rebate","visibility","Picture","sale","moneyFormater","product_variants","price","handle","brandName","brand_page","page_ptr","stopPropagation","variant","variant_id","quantity","lineItems","newData","addProductToCart","actionHome","icAddToCart","BlockProduct","subTitle","selectedIndex","setSelectedIndex","handleSlider","selected","fillParent","mobileTouch","buttons","bullets","onTransitionEnd","currentIndex","BlockQuestionnaire","dataQuestionnaire","setDataQuestionnaire","question","setQuestion","questionSliderIndex","setQuestionSliderIndex","questionIndex","answerKey","answerTemp","setAnswerTemp","dotClick","setDotClick","setProducts","productNotExists","setProductNotExists","lastQuestion","setLastQuestion","GET_QUESTIONNAIRE","handleBackOrReStartQuestion","questionClone","pop","handleGetProduct","childQuestion","parent_answer","questionnaire_id","collection","scent","questionParent","answer","questionTemp","handleQuestion","backgroundImage","background","backgroundSize","DotLoader","icBack","icHome","SundoraLogo","padding","handleAnswerTemp","Array","from","keys","handleQuestionSliderDot","inputKey","BlockCollectEmail","form","setForm","view","setView","logo","config","API_URL","onSubmit","preventDefault","POST_NEWSLETTER_EMAIL","customer","success","toastrSuccess","isError","toastrError","choices","field_type","clean_name","defaultValue","default_value","required","FilterProductBox","toogleRow","setToogleRow","r","group","isDefaultPriceRange","setIsDefaultPriceRange","resultGroupObjectAlphabet","isOpenFilterBox","closeFilterBox","window","scroll","behavior","activeRowMobile","idRow","isActive","isDesktop","slugToTitle","handleRemoveTagsFilter","step","minValue","maxValue","formatLabel","min","max","onChangeComplete","color","fontSize","checked","isPerfume","sort","b","localeCompare","dataTags","Color","g","this","set","Math","round","componentToHex","c","hex","rgbToHex","clamp","angle","PI","sin","cos","multiply","matrix","newR","newG","newB","linear","slope","intercept","h","s","l","d","Solver","targetHSL","hsl","reusedColor","solveNarrow","solveWide","loss","css","filterRaw","raw","best","Infinity","spsa","wide","A","A1","iters","bestLoss","deltas","highArgs","lowArgs","k","ck","pow","random","lossDiff","ak","fix","idx","filters","invert","sepia","saturate","hueRotate","brightness","contrast","colorHSL","abs","fmt","multiplier","compute","input","rgb","m","exec","hexToRgb","solve","validateColor","test","headerIcons","document","querySelector","setProperty","searchBox","querySelectorAll","forEach","cartBadge","borderColor","blkIcons","button","filterBoxs","wrapper","factory","self","modules","installedModules","__webpack_require__","moduleId","exports","module","call","getter","o","defineProperty","configurable","enumerable","n","__esModule","object","prototype","hasOwnProperty","p","AsyncForm","_slicedToArray","arr","Symbol","iterator","_arr","_n","_d","_e","_s","_i","done","err","sliceIterator","TypeError","React","newObj","default","_interopRequireWildcard","_Form","_ref","fetchConfig","_React$useState","_React$useState2","setConfig","createElement","Form","displayName","isSent","setIsSent","submitOnMount","useCallback","submit","Fragment","JSON","stringify","_AsyncForm","0","require","alphabet","BlockAllBrands","indexOf","resultGroupBrandsAlphabet"],"mappings":"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","file":"static/js/28.a85ec351.chunk.js","sourcesContent":["import {\r\n  map,\r\n  isEmpty,\r\n  get,\r\n  isUndefined,\r\n  find,\r\n  reduce,\r\n  isArray,\r\n  isNull,\r\n  findIndex,\r\n} from 'lodash';\r\nimport React, { memo, useEffect, useState, useRef, lazy } from 'react';\r\nimport { isMobile } from '../../DetectScreen';\r\nimport '../../components/BlockBlogs/block-blogs.scss';\r\nimport './styles.scss';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport BlockProduct from '../../components/BlockProduct';\r\nimport Select from 'react-dropdown-select';\r\nimport * as action from '../../redux/product/actions';\r\nimport * as homeAction from '../../redux/home/actions';\r\nimport { useDispatch, useSelector, RootStateOrAny } from 'react-redux';\r\nimport BlockModal from '../../components/BlockModal';\r\nimport BlockCollectEmail from '../../components/BlockCollectEmail';\r\nimport Picture from '../../components/Picture';\r\nimport { fetchClient, fetchDynamicCMSPage } from '../../redux/Helpers';\r\nimport BlockQuestionnaire from '../../components/BlockQuestionnaire';\r\nimport { GET_ALL_PRODUCT, GET_FILTER_BOX_PRODUCT } from '../../config';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport BlockTitle from '../../components/BlockTitle';\r\nimport BlockAllBrands from '../../components/BlockAllBrands';\r\n\r\nimport DotLoader from '../../components/DotLoader';\r\n\r\nimport Footer from '../../components/Footer';\r\nconst VideoBlock = lazy(() => import('../../components/BlockVideo'));\r\nimport BlockIcon from '../../components/BlockIcon';\r\nconst BlockCarousel = lazy(() => import('../../components/BlockCarousel'));\r\nconst BlockSpotlight = lazy(() => import('../../components/BlockSpotlight'));\r\nconst CountDownBlock = lazy(() => import('../../components/BlockCountDown'));\r\nconst BlockBlogs = lazy(() => import('../../components/BlockBlogs'));\r\nimport FilterProductBox from '../../components/FilterProductBox';\r\nimport {\r\n  setColorBlkIcons,\r\n  setColorBreadcrumbBlkIcons,\r\n  setColorCartBadge,\r\n  setColorFooter,\r\n  setColorHeaderIcons,\r\n  setColorResetFilterButton,\r\n  setColorResultFilterBox,\r\n  setColorSearchBox,\r\n  setColorWrapperFilterBox,\r\n} from '../../utils/helpers/setColor';\r\nconst BlockFormField = lazy(() => import('../../components/BlockFormField'));\r\n\r\nfunction BrandProductPage({ props }: any) {\r\n  const dispatch = useDispatch();\r\n  const stateProduct = useSelector((state: RootStateOrAny) => state.productReducer);\r\n  const refFooter = useRef<any>(null);\r\n  const [dataNav, setDataNav] = useState<any>([]);\r\n  const [loading, setLoading] = useState<any>([]);\r\n  const [dataFooter, setDataFooter] = useState<any>([]);\r\n  const [dataCMS, setDataCMS] = useState<any>({});\r\n  const [dataBody, setDataBody] = useState<any>([]);\r\n  const [visibleModalEmail, setVisibleModalEmail] = useState<boolean>(false);\r\n  const [dataFormField, setDataFormField] = useState<any>([]);\r\n  const [timeStamp, setTimeStamp] = useState<any>('');\r\n  const [paging, setPaging] = useState<any>({ next: '', loading: false });\r\n  const [search, setSearch] = useState<any>([]);\r\n  const [loadingProduct, setLoadingProduct] = useState<boolean>(true);\r\n  const [filterData, setFilterData] = useState<any>(null);\r\n  const [searchReady, setSearchReady] = useState<boolean>(false);\r\n\r\n  const dataIcon = {\r\n    value: {\r\n      icons: [\r\n        // {\r\n        //   text: '100% AUTHENTIC',\r\n        //   icon_image: {\r\n        //     original: AuthPrimaryIcon,\r\n        //     width: 29,\r\n        //     height: 29,\r\n        //     webp: AuthPrimaryIcon,\r\n        //     mobile: AuthPrimaryIcon,\r\n        //     alt: 'auth_icon.png',\r\n        //   },\r\n        // },\r\n        // {\r\n        //   text: 'FREE SHIPPING',\r\n        //   icon_image: {\r\n        //     original: freeShippingPrimaryIcon,\r\n        //     width: 52,\r\n        //     height: 27,\r\n        //     webp: freeShippingPrimaryIcon,\r\n        //     mobile: freeShippingPrimaryIcon,\r\n        //     alt: 'free_shipping_icon.png',\r\n        //   },\r\n        // },\r\n      ],\r\n    },\r\n  };\r\n\r\n  const fetchDataProduct = async (isFetch: boolean, brandID: any = null) => {\r\n    dispatch(action.getAllProduct([]));\r\n    const params = new URLSearchParams(props.location.search);\r\n    const searchValue = params.get('search');\r\n    const sortQuery = params.get('ordering');\r\n    const minQuery = params.get('min_price');\r\n    const maxQuery = params.get('max_price');\r\n    const collectionsQuery = params.get('collections');\r\n    const scentQuery = params.get('scents');\r\n    const tagsQuery = params.get('tags_and');\r\n    const brandsQuery = params.get('brands');\r\n    const sortQueryString = sortQuery ? '&ordering=' + sortQuery : '';\r\n    const minQueryString = minQuery ? '&min_price=' + minQuery : '';\r\n    const maxQueryString = maxQuery ? '&max_price=' + maxQuery : '';\r\n    const collectionsQueryString = collectionsQuery ? '&collections=' + collectionsQuery : '';\r\n    const brandsQueryString = '&brands=' + (brandID ? brandID : dataCMS?.brand?.id);\r\n    const scentQueryString = scentQuery ? '&scents=' + scentQuery : '';\r\n    const tagsQueryString = tagsQuery ? '&tags_and=' + tagsQuery : '';\r\n\r\n    if (isFetch) {\r\n      const cloneSearch = [];\r\n      if (sortQuery) {\r\n        const sortData = find(sortOptions, (i) => i.value == sortQuery);\r\n        cloneSearch.push(sortData);\r\n      }\r\n      if (minQuery || maxQuery) {\r\n        const minMax = {\r\n          type: 'minMax',\r\n          value: `${minQuery ? minQuery : ''} - ${maxQuery ? maxQuery : ''}`,\r\n          filterData: {\r\n            minPrice: minQuery ? minQuery : '',\r\n            maxPrice: maxQuery ? maxQuery : '',\r\n          },\r\n        };\r\n        setPriceRange({\r\n          minPrice: minQuery ? parseInt(minQuery) : '',\r\n          maxPrice: maxQuery ? parseInt(maxQuery) : '',\r\n        });\r\n        cloneSearch.push(minMax);\r\n      }\r\n      if (scentQuery) {\r\n        scentQuery.split(',').map((i) => {\r\n          const result = {\r\n            type: 'scent',\r\n            value: i,\r\n          };\r\n          cloneSearch.push(result);\r\n          return result;\r\n        });\r\n      }\r\n      if (collectionsQuery) {\r\n        collectionsQuery.split(',').map((item) => {\r\n          const res = {\r\n            type: 'other',\r\n            value: item,\r\n          };\r\n          cloneSearch.push(res);\r\n          return res;\r\n        });\r\n      }\r\n      if (brandsQuery) {\r\n        brandsQuery.split(',').map((item) => {\r\n          const res = {\r\n            type: 'brands',\r\n            value: item,\r\n          };\r\n          cloneSearch.push(res);\r\n          return res;\r\n        });\r\n      }\r\n      setSearch(cloneSearch);\r\n      setFilterSelection(cloneSearch);\r\n    }\r\n\r\n    const queryString = `${searchValue ? searchValue.trim() : ''}${\r\n      scentQueryString ? scentQueryString : ''\r\n    }${sortQueryString ? sortQueryString.trim() : ''}${minQueryString ? minQueryString : ''}${\r\n      maxQueryString ? maxQueryString : ''\r\n    }\r\n      ${collectionsQueryString ? collectionsQueryString : ''}${\r\n      brandsQueryString ? brandsQueryString : ''\r\n    }${tagsQueryString ? tagsQueryString : ''}`;\r\n\r\n    const options = {\r\n      url: `${GET_ALL_PRODUCT}?search=${queryString}`,\r\n      method: 'GET',\r\n      body: null,\r\n    };\r\n\r\n    const pending = [fetchClient(options)];\r\n    try {\r\n      const results = await Promise.all(pending);\r\n\r\n      const dataSearchResult = results[0];\r\n\r\n      dataSearchResult?.results\r\n        ? dispatch(action.getAllProduct(dataSearchResult.results))\r\n        : '';\r\n      setPaging({ next: dataSearchResult?.next, loading: false });\r\n      setLoadingProduct(false);\r\n      if (isFetch) {\r\n        setSearchReady(true);\r\n      }\r\n    } catch (error) {\r\n      // toastrError(error.message);\r\n      // this.props.loadingPage(false);\r\n      // setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchDataInit = async () => {\r\n    // console.log(dataCMSProps);\r\n    const slug = props.location.pathname ? props.location.pathname : undefined;\r\n    if (isEmpty(dataNav) || slug || isEmpty(dataCMS) || isEmpty(dataFormField)) {\r\n      const pending = [fetchDynamicCMSPage(`${props.location.pathname.substring(1)}`)];\r\n      try {\r\n        const results = await Promise.all(pending);\r\n        const cmsData = results[0];\r\n        const cmsDataBody = results[0]?.body.filter(\r\n          (item: any) => item?.value?.visible != 'product',\r\n        );\r\n        const dataDynamicLinks = get(cmsData, 'dynamic_links');\r\n        const optionsFilterBox = {\r\n          url: `${GET_FILTER_BOX_PRODUCT}?fields=collections,scents,max_price&brands=${cmsData?.brand?.id}`,\r\n          method: 'GET',\r\n          body: null,\r\n        };\r\n        fetchClient(optionsFilterBox).then((res: any) => {\r\n          setFilterData(res);\r\n        });\r\n\r\n        setDataFooter(dataDynamicLinks?.footer);\r\n        setDataNav(dataDynamicLinks?.navigation);\r\n        setDataBody(cmsDataBody);\r\n        setDataFormField(cmsData?.form_fields);\r\n        setDataCMS(cmsData);\r\n        setTimeStamp(cmsData.timestamp);\r\n        setLoading(false);\r\n        fetchDataProduct(true, cmsData?.brand?.id);\r\n        if (cmsData?.show_highlight_message && cmsData.highlight_message) {\r\n          dispatch(homeAction.setGlobalHeaderMessage(cmsData.highlight_message));\r\n        }\r\n        if (!cmsData?.show_highlight_message) {\r\n          dispatch(homeAction.setGlobalHeaderMessage(''));\r\n        }\r\n      } catch (error) {\r\n        // toastrError(error.message);\r\n        // this.props.loadingPage(false);\r\n      }\r\n    }\r\n  };\r\n  const handleSortProduct = (value: any) => {\r\n    // const sortQuerya = filter(sortOptions, (d) => d.value == value[0].value);\r\n\r\n    const cloneSearch = [...search];\r\n    const index = findIndex(search, (i: any) => i.type == 'sort');\r\n\r\n    index == -1 ? cloneSearch.push(value[0]) : (cloneSearch[index] = value[0]);\r\n\r\n    setSearch(cloneSearch);\r\n  };\r\n\r\n  const iconList = [\r\n    {\r\n      text: 'SECURE PAYMENT',\r\n      icon_image: {\r\n        original:\r\n          'https://s.sundora-stage.23c.se/media/images/secure_payment_icon.original.png',\r\n        width: 43,\r\n        height: 28,\r\n        webp:\r\n          'https://s.sundora-stage.23c.se/media/images/secure_payment_icon.original.format-webp.webp',\r\n        mobile:\r\n          'https://s.sundora-stage.23c.se/media/images/secure_payment_icon.width-768.format-webp.webp',\r\n        alt: 'secure_payment_icon.png',\r\n      },\r\n    },\r\n    {\r\n      text: 'FREE SHIPPING*',\r\n      icon_image: {\r\n        original:\r\n          'https://s.sundora-stage.23c.se/media/images/free_shipping_icon.original.png',\r\n        width: 52,\r\n        height: 27,\r\n        webp:\r\n          'https://s.sundora-stage.23c.se/media/images/free_shipping_icon.original.format-webp.webp',\r\n        mobile:\r\n          'https://s.sundora-stage.23c.se/media/images/free_shipping_icon.width-768.format-webp.webp',\r\n        alt: 'free_shipping_icon.png',\r\n      },\r\n    },\r\n    {\r\n      text: '100% AUTHENTIC',\r\n      icon_image: {\r\n        original: 'https://s.sundora-stage.23c.se/media/images/auth_icon.original.png',\r\n        width: 29,\r\n        height: 29,\r\n        webp:\r\n          'https://s.sundora-stage.23c.se/media/images/auth_icon.original.format-webp.webp',\r\n        mobile:\r\n          'https://s.sundora-stage.23c.se/media/images/auth_icon.width-768.format-webp.webp',\r\n        alt: 'auth_icon.png',\r\n      },\r\n    },\r\n    {\r\n      text: 'OFFICIAL DISTRIBUTOR',\r\n      icon_image: {\r\n        original: 'https://s.sundora-stage.23c.se/media/images/offical_icon.original.png',\r\n        width: 39,\r\n        height: 33,\r\n        webp:\r\n          'https://s.sundora-stage.23c.se/media/images/offical_icon.original.format-webp.webp',\r\n        mobile:\r\n          'https://s.sundora-stage.23c.se/media/images/offical_icon.width-768.format-webp.webp',\r\n        alt: 'offical_icon.png',\r\n      },\r\n    },\r\n    {\r\n      text: 'ON TIME DELIVERY',\r\n      icon_image: {\r\n        original: 'https://s.sundora-stage.23c.se/media/images/time_delivery.original.png',\r\n        width: 36,\r\n        height: 28,\r\n        webp:\r\n          'https://s.sundora-stage.23c.se/media/images/time_delivery.original.format-webp.webp',\r\n        mobile:\r\n          'https://s.sundora-stage.23c.se/media/images/time_delivery.width-768.format-webp.webp',\r\n        alt: 'time_delivery.png',\r\n      },\r\n    },\r\n  ];\r\n\r\n  const sortOptions = [\r\n    {\r\n      value: '-id',\r\n      title: 'Newest',\r\n      type: 'sort',\r\n    },\r\n    {\r\n      value: 'popular',\r\n      title: 'Popular',\r\n      type: 'sort',\r\n    },\r\n    {\r\n      value: 'product_variants__price',\r\n      title: 'Price (low to high)',\r\n      type: 'sort',\r\n    },\r\n    {\r\n      value: '-product_variants__price',\r\n      title: 'Price (high to low)',\r\n      type: 'sort',\r\n    },\r\n  ];\r\n\r\n  // FILTER FEATURE\r\n  const [priceRange, setPriceRange] = useState<any>({\r\n    minPrice: '',\r\n    maxPrice: '',\r\n  });\r\n\r\n  // const [otherSelect, setOtherSelect] = useState<any>([]);\r\n  const [validateFilter, setValidateFilter] = useState<any>({\r\n    minMax: '',\r\n  });\r\n  const [filterSelection, setFilterSelection] = useState<any>([]);\r\n  // const history = useHistory();\r\n  const handleChange = (event: any) => {\r\n    const inputValue = event.target.value.replace(/[^0-9.-]+/g, '');\r\n    setPriceRange({ ...priceRange, [event.currentTarget.name]: parseInt(inputValue) });\r\n  };\r\n  const handleRemovePriceFilter = () => {\r\n    setPriceRange({\r\n      minPrice: '',\r\n      maxPrice: '',\r\n    });\r\n    // removeQuery('filterMinPrice');\r\n    // removeQuery('filterMaxPrice');\r\n\r\n    const cloneArr = [...filterSelection];\r\n    const index = cloneArr.findIndex(function (e: any) {\r\n      return e.type == 'minMax';\r\n    });\r\n    const cloneArrSearch = [...search];\r\n    const indexSearch = cloneArr.findIndex(function (e: any) {\r\n      return e.type == 'minMax';\r\n    });\r\n\r\n    cloneArrSearch.splice(indexSearch, 1);\r\n    cloneArr.splice(index, 1);\r\n    setSearch(cloneArrSearch);\r\n    setFilterSelection(cloneArr);\r\n    setValidateFilter({\r\n      ...validateFilter,\r\n      minMax: '',\r\n    });\r\n  };\r\n\r\n  const handleBlurPrice = () => {\r\n    if (\r\n      priceRange.minPrice &&\r\n      priceRange.maxPrice &&\r\n      priceRange.minPrice > priceRange.maxPrice\r\n    ) {\r\n      setValidateFilter({\r\n        ...validateFilter,\r\n        minMax: 'Please enter an appropriate price range',\r\n      });\r\n    } else {\r\n      const cloneArr = [...filterSelection];\r\n      const cloneArrSearch = [...search];\r\n      const minMax = {\r\n        type: 'minMax',\r\n        value: `${priceRange.minPrice} - ${priceRange.maxPrice}`,\r\n        filterData: {\r\n          minPrice: priceRange.minPrice,\r\n          maxPrice: priceRange.maxPrice,\r\n        },\r\n      };\r\n      const index = cloneArr.findIndex(function (e: any) {\r\n        return e.type == minMax.type;\r\n      });\r\n\r\n      const indexSearch = cloneArrSearch.findIndex(function (e: any) {\r\n        return e.type == minMax.type;\r\n      });\r\n\r\n      indexSearch != -1 ? (cloneArrSearch[indexSearch] = minMax) : cloneArrSearch.push(minMax);\r\n      index != -1 ? (cloneArr[index] = minMax) : cloneArr.push(minMax);\r\n\r\n      setFilterSelection(cloneArr);\r\n      setSearch(cloneArrSearch);\r\n      setValidateFilter({\r\n        ...validateFilter,\r\n        minMax: '',\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!priceRange.minPrice && !priceRange.maxPrice) {\r\n      const cloneArr = [...filterSelection];\r\n      const index = cloneArr.findIndex(function (e: any) {\r\n        return e.type == 'minMax';\r\n      });\r\n\r\n      cloneArr.splice(index, 1);\r\n      setFilterSelection(cloneArr);\r\n      setValidateFilter({\r\n        ...validateFilter,\r\n        minMax: '',\r\n      });\r\n\r\n      const cloneArrSearch = [...search];\r\n\r\n      const indexSearch = cloneArrSearch.findIndex(function (e: any) {\r\n        return e.type == 'minMax';\r\n      });\r\n\r\n      indexSearch != -1 ? cloneArrSearch.splice(index, 1) : '';\r\n      setSearch(cloneArrSearch);\r\n      return;\r\n    }\r\n\r\n    if (!priceRange.minPrice) {\r\n      // removeQuery('filterMinPrice');\r\n      setValidateFilter({\r\n        ...validateFilter,\r\n        minMax: '',\r\n      });\r\n    } else if (!priceRange.maxPrice) {\r\n      // removeQuery('filterMaxPrice');\r\n      setValidateFilter({\r\n        ...validateFilter,\r\n        minMax: '',\r\n      });\r\n    }\r\n    if (priceRange.minPrice && priceRange.maxPrice) {\r\n      handleBlurPrice();\r\n    }\r\n  }, [priceRange]);\r\n\r\n  // const location = useLocation();\r\n  // const removeQuery = (key: any) => {\r\n  //   const pathname = location.pathname;\r\n  //   const searchParams = new URLSearchParams(location.search);\r\n  //   searchParams.delete(key);\r\n  //   history.push({\r\n  //     pathname: pathname,\r\n  //     search: searchParams.toString(),\r\n  //   });\r\n  // };\r\n  const objectToQueryString = (obj: any) => {\r\n    const qs = reduce(\r\n      obj,\r\n      function (result, value, key) {\r\n        if (!isNull(value) && !isUndefined(value)) {\r\n          if (isArray(value)) {\r\n            result += reduce(\r\n              value,\r\n              function (result1, value1) {\r\n                if (!isNull(value1) && !isUndefined(value1)) {\r\n                  result1 += key + '=' + value1 + '&';\r\n                  return result1;\r\n                } else {\r\n                  return result1;\r\n                }\r\n              },\r\n              '',\r\n            );\r\n          } else {\r\n            result += key + '=' + value + '&';\r\n          }\r\n          return result;\r\n        } else {\r\n          return result;\r\n        }\r\n      },\r\n      '',\r\n    ).slice(0, -1);\r\n    return qs;\r\n  };\r\n\r\n  const handleFilterProduct = async () => {\r\n    dispatch(action.filterProductSuccess([...stateProduct.productStore]));\r\n    let seachFilterValue = {};\r\n    map(filterSelection, (item: any) => {\r\n      if (item.type == 'minMax') {\r\n        if (item.filterData.minPrice) {\r\n          seachFilterValue = Object.assign({\r\n            ...seachFilterValue,\r\n            filterMinPrice: item.filterData.minPrice,\r\n          });\r\n        }\r\n        if (item.filterData.maxPrice) {\r\n          seachFilterValue = Object.assign({\r\n            ...seachFilterValue,\r\n            filterMaxPrice: item.filterData.maxPrice,\r\n          });\r\n        }\r\n      }\r\n    });\r\n    // let otherQuery = [];\r\n    // otherQuery = [\r\n    //   ...filterSelection\r\n    //     .filter((item: any) => item.type == 'other')\r\n    //     .map((i: any) => {\r\n    //       if (i.type == 'other') {\r\n    //         return parseInt(i.value);\r\n    //       }\r\n    //     }),\r\n    // ];\r\n    // const sortQuery = find(filterSelection, (d) => d.type == 'sort');\r\n    // const seachValueQueryString =\r\n    //   objectToQueryString(seachValue) +\r\n    //   (otherQuery && otherQuery.length > 0\r\n    //     ? `&other=${otherQuery.toString().replace(/,$/, '')}`\r\n    //     : '') +\r\n    //   (sortQuery ? '&sort=' + sortQuery.value : '');\r\n    // props.history.push({\r\n    //   search: seachValueQueryString,\r\n    // });\r\n  };\r\n\r\n  const handleCheckOther = (event: any) => {\r\n    const copyArr = [...filterSelection];\r\n    const data = {\r\n      type: 'other',\r\n      value: event?.target?.value,\r\n      name: event?.target?.name,\r\n    };\r\n    // const index = copyArr.findIndex(function (e: any) {\r\n    //   return e.value == data.value;\r\n    // });\r\n    // index != -1 ? copyArr.splice(index, 1) : copyArr.push(data);\r\n    const index = copyArr.findIndex(function (e: any) {\r\n      return e.type == 'other';\r\n    });\r\n\r\n    // index != -1 ? copyArr.splice(index, 1) : (copyArr = data);\r\n    if (index != -1) {\r\n      if (copyArr[index].value == data.value) {\r\n        copyArr.splice(index, 1);\r\n      } else {\r\n        copyArr.splice(index, 1);\r\n        copyArr.push(data);\r\n      }\r\n    } else {\r\n      copyArr.push(data);\r\n    }\r\n\r\n    const cloneArrSearch = [...search];\r\n\r\n    const indexSearch = cloneArrSearch.findIndex(function (e: any) {\r\n      return e.type == 'other';\r\n    });\r\n\r\n    // indexSearch != -1 ? cloneArrSearch.splice(index, 1) : cloneArrSearch.push(data);\r\n    if (indexSearch != -1) {\r\n      if (cloneArrSearch[indexSearch].value == data.value) {\r\n        cloneArrSearch.splice(indexSearch, 1);\r\n      } else {\r\n        cloneArrSearch.splice(indexSearch, 1);\r\n        cloneArrSearch.push(data);\r\n      }\r\n    } else {\r\n      cloneArrSearch.push(data);\r\n    }\r\n\r\n    setSearch(cloneArrSearch);\r\n\r\n    setFilterSelection(copyArr);\r\n  };\r\n  const handleCheckBrand = (event: any) => {\r\n    const copyArr = [...filterSelection];\r\n    const data = {\r\n      type: 'brands',\r\n      value: event?.target?.value,\r\n      name: event?.target?.name,\r\n    };\r\n    const index = copyArr.findIndex(function (e: any) {\r\n      return e.value == data.value;\r\n    });\r\n    index != -1 ? copyArr.splice(index, 1) : copyArr.push(data);\r\n\r\n    const cloneArrSearch = [...search];\r\n\r\n    const indexSearch = cloneArrSearch.findIndex(function (e: any) {\r\n      return e.value == event?.target?.value;\r\n    });\r\n\r\n    indexSearch != -1 ? cloneArrSearch.splice(index, 1) : cloneArrSearch.push(data);\r\n    setSearch(cloneArrSearch);\r\n\r\n    setFilterSelection(copyArr);\r\n  };\r\n  const handleCheckScent = (event: any) => {\r\n    const copyArr = [...filterSelection];\r\n    const data = {\r\n      type: 'scent',\r\n      value: event?.target?.value,\r\n      name: event?.target?.name,\r\n    };\r\n    const index = copyArr.findIndex(function (e: any) {\r\n      return e.value == data.value;\r\n    });\r\n    index != -1 ? copyArr.splice(index, 1) : copyArr.push(data);\r\n\r\n    const cloneArrSearch = [...search];\r\n\r\n    const indexSearch = cloneArrSearch.findIndex(function (e: any) {\r\n      return e.value == event?.target?.value;\r\n    });\r\n\r\n    indexSearch != -1 ? cloneArrSearch.splice(index, 1) : cloneArrSearch.push(data);\r\n    setSearch(cloneArrSearch);\r\n\r\n    setFilterSelection(copyArr);\r\n  };\r\n\r\n  const handleRemoveOtherFilter = (value: any) => {\r\n    const copyArr = [...filterSelection];\r\n    const index = copyArr.findIndex(function (e: any) {\r\n      return e.type == 'other' && e.value == value;\r\n    });\r\n    index != -1 ? copyArr.splice(index, 1) : '';\r\n    const coppyArrSearch = [...search];\r\n    const indexSearch = coppyArrSearch.findIndex(function (e: any) {\r\n      return e.type == 'other' && e.value == value;\r\n    });\r\n    index != -1 ? coppyArrSearch.splice(indexSearch, 1) : '';\r\n    setSearch(coppyArrSearch);\r\n    setFilterSelection(copyArr);\r\n  };\r\n\r\n  const handleRemoveScentFilter = (value: any) => {\r\n    const copyArr = [...filterSelection];\r\n    const index = copyArr.findIndex(function (e: any) {\r\n      return e.type == 'scent' && e.value == value;\r\n    });\r\n    index != -1 ? copyArr.splice(index, 1) : '';\r\n    const coppyArrSearch = [...search];\r\n    const indexSearch = coppyArrSearch.findIndex(function (e: any) {\r\n      return e.type == 'scent' && e.value == value;\r\n    });\r\n    index != -1 ? coppyArrSearch.splice(indexSearch, 1) : '';\r\n    setSearch(coppyArrSearch);\r\n    setFilterSelection(copyArr);\r\n  };\r\n\r\n  const handleRemoveBrandsFilter = (value: any) => {\r\n    const copyArr = [...filterSelection];\r\n    const index = copyArr.findIndex(function (e: any) {\r\n      return e.type == 'brands' && e.value == value;\r\n    });\r\n    index != -1 ? copyArr.splice(index, 1) : '';\r\n    const coppyArrSearch = [...search];\r\n    const indexSearch = coppyArrSearch.findIndex(function (e: any) {\r\n      return e.type == 'brands' && e.value == value;\r\n    });\r\n    index != -1 ? coppyArrSearch.splice(indexSearch, 1) : '';\r\n    setSearch(coppyArrSearch);\r\n\r\n    setFilterSelection(copyArr);\r\n  };\r\n\r\n  const handleClearFilter = () => {\r\n    const copyArr = [...stateProduct.productStore];\r\n    setPriceRange({\r\n      minPrice: '',\r\n      maxPrice: '',\r\n    });\r\n    setValidateFilter({ minMax: '' });\r\n    setFilterSelection([]);\r\n    setSearch([]);\r\n    // removeQuery('filterMinPrice');\r\n    // removeQuery('filterMaxPrice');\r\n    dispatch(action.filterProductSuccess(copyArr));\r\n  };\r\n\r\n  const handleLoadmore = () => {\r\n    const options = {\r\n      url: paging.next,\r\n      method: 'GET',\r\n      body: null,\r\n    };\r\n    setPaging({ ...paging, loading: true });\r\n    fetchClient(options).then((res) => {\r\n      res?.results ? dispatch(action.loadMoreProduct(res.results)) : '';\r\n      setPaging({ next: res.next, loading: false });\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    fetchDataInit();\r\n  }, []);\r\n  const handleKeyPress = () => {\r\n    setVisibleModalEmail(false);\r\n  };\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(props.location.search);\r\n    // const sortValueParam = params.get('sort');\r\n    // const filterOptionsSort = filter(sortOptions, (i) => i.value == sortValueParam);\r\n    const searchValue = params.get('search');\r\n    let obj = {};\r\n    if (find(search, (i: any) => i?.type == 'search') || searchValue) {\r\n      obj = Object.assign({\r\n        ...obj,\r\n        search:\r\n          search.find((i: any) => i?.type == 'search')?.value?.trim() || searchValue?.trim(),\r\n      });\r\n    }\r\n\r\n    if (search.find((i: any) => i?.type == 'sort')) {\r\n      obj = Object.assign({\r\n        ...obj,\r\n        ordering: search.find((i: any) => i?.type == 'sort').value,\r\n      });\r\n    }\r\n    if (search.find((i: any) => i?.type == 'minMax')) {\r\n      const minPrice = search.find((i: any) => i?.type == 'minMax')?.filterData?.minPrice;\r\n      const maxPrice = search.find((i: any) => i?.type == 'minMax')?.filterData?.maxPrice;\r\n      if (minPrice) {\r\n        obj = Object.assign({\r\n          ...obj,\r\n          min_price: search.find((i: any) => i?.type == 'minMax')?.filterData?.minPrice,\r\n        });\r\n      }\r\n\r\n      if (maxPrice) {\r\n        obj = Object.assign({\r\n          ...obj,\r\n          max_price: search.find((i: any) => i?.type == 'minMax')?.filterData?.maxPrice,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (find(search, (i: any) => i?.type == 'other')) {\r\n      let otherQuery = [];\r\n      otherQuery = [\r\n        ...search\r\n          .filter((item: any) => item?.type == 'other')\r\n          .map((i: any) => {\r\n            if (i.type == 'other') {\r\n              return i.value;\r\n            }\r\n          }),\r\n      ];\r\n\r\n      obj = Object.assign({\r\n        ...obj,\r\n        collections: otherQuery.toString().replace(/,$/, ''),\r\n      });\r\n    }\r\n\r\n    if (find(search, (i: any) => i?.type == 'scent')) {\r\n      let scentQuery = [];\r\n      scentQuery = [\r\n        ...search\r\n          .filter((item: any) => item?.type == 'scent')\r\n          .map((i: any) => {\r\n            if (i.type == 'scent') {\r\n              return i.value;\r\n            }\r\n          }),\r\n      ];\r\n\r\n      obj = Object.assign({\r\n        ...obj,\r\n        scents: scentQuery.toString().replace(/,$/, ''),\r\n      });\r\n    }\r\n\r\n    if (find(search, (i: any) => i?.type == 'brands')) {\r\n      let brandsQuery = [];\r\n      brandsQuery = [\r\n        ...search\r\n          .filter((item: any) => item.type == 'brands')\r\n          .map((i: any) => {\r\n            if (i.type == 'brands') {\r\n              return parseInt(i.value);\r\n            }\r\n          }),\r\n      ];\r\n\r\n      obj = Object.assign({\r\n        ...obj,\r\n        brands: brandsQuery.toString().replace(/,$/, ''),\r\n      });\r\n    }\r\n\r\n    const seachValueQueryString = objectToQueryString(obj);\r\n    props.history.push({\r\n      search: seachValueQueryString,\r\n    });\r\n  }, [search]);\r\n\r\n  useEffect(() => {\r\n    if (!isEmpty(dataCMS) && searchReady) {\r\n      setLoadingProduct(true);\r\n      fetchDataProduct(false);\r\n    }\r\n  }, [props.match]);\r\n\r\n  useEffect(() => {\r\n    handleFilterProduct();\r\n  }, [filterSelection]);\r\n\r\n  const openFilterBox = () => {\r\n    dispatch(action.toogleFilterBox(true));\r\n  };\r\n\r\n  let filteredboxQuantity = 0;\r\n  const handelToggleModal = () => {\r\n    setVisibleModalEmail(!visibleModalEmail);\r\n  };\r\n\r\n  const getBreadCrumb = (data: any): string => {\r\n    let link = '/';\r\n    const title = data?.meta?.parent.title;\r\n    if (title.match(/brand/gi)) {\r\n      link = '/brands/all';\r\n    }\r\n    return link;\r\n  };\r\n\r\n  const locationState: any = useLocation();\r\n  useEffect(() => {\r\n    const backgroundColor: any = dataCMS?.main_color;\r\n    const foregroundColor: any = dataCMS?.separator_color;\r\n    setColorHeaderIcons(backgroundColor);\r\n    setColorSearchBox(backgroundColor);\r\n    setColorCartBadge(backgroundColor);\r\n    setColorFooter(backgroundColor, foregroundColor);\r\n    setColorBlkIcons(backgroundColor);\r\n    setColorBreadcrumbBlkIcons(backgroundColor);\r\n    setColorResetFilterButton(backgroundColor);\r\n    setColorResultFilterBox(backgroundColor);\r\n    setColorWrapperFilterBox(backgroundColor, foregroundColor);\r\n  }, [dataCMS, locationState.search]);\r\n\r\n  return (\r\n    <div className=\"site-allProductPage\">\r\n      {loading ? <DotLoader /> : ''}\r\n      <Helmet>\r\n        <meta property=\"og:title\" content={`${dataCMS?.title} page | Sundora`} />\r\n        <meta property=\"og:description\" content={`${dataCMS?.title} page | Sundora`} />\r\n        <title>{`${dataCMS?.title ?? 'Filter'} page | Sundora`}</title>\r\n        <meta name=\"description\" content={`${dataCMS?.title} page | Sundora`} />\r\n      </Helmet>\r\n      {/* <Banner /> */}\r\n\r\n      {dataCMS?.featured_image ? (\r\n        <div\r\n          className={`banner-all-product ${dataCMS?.fullwidth ? '' : 'container m-0-auto'}`}\r\n        >\r\n          <Picture data={dataCMS?.featured_image} />\r\n        </div>\r\n      ) : (\r\n        ''\r\n      )}\r\n      <div className=\"container\">\r\n        {isMobile ? (\r\n          <>\r\n            <div className=\"block-icon-1\">\r\n              <BlockIcon iconList={dataIcon.value.icons} />\r\n            </div>\r\n            {dataCMS?.meta ? (\r\n              <div className=\"breadcrumb\">\r\n                <ul>\r\n                  <li>\r\n                    <Link to=\"/\">Home</Link>\r\n                  </li>\r\n                  <li>\r\n                    {/* <Link to={props.match.params.brand ? props.match.params.brand : '/'}> */}\r\n                    <a href={getBreadCrumb(dataCMS)}>{dataCMS?.meta?.parent.title}</a>\r\n                    {/* </Link> */}\r\n                  </li>\r\n                  <li>{dataCMS?.title}</li>\r\n                </ul>\r\n              </div>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </>\r\n        ) : (\r\n          <div className=\"wrapper-breadcrumb\">\r\n            <div className=\"block-icon-1\">\r\n              <BlockIcon iconList={dataIcon.value.icons} />\r\n            </div>\r\n            {dataCMS?.meta ? (\r\n              <div className=\"breadcrumb\">\r\n                <ul>\r\n                  <li>\r\n                    <Link to=\"/\">Home</Link>\r\n                  </li>\r\n                  <li>\r\n                    <a href={getBreadCrumb(dataCMS)}>{dataCMS?.meta?.parent.title}</a>\r\n                  </li>\r\n                  <li>{dataCMS?.title}</li>\r\n                </ul>\r\n              </div>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </div>\r\n        )}\r\n        {find(dataCMS?.body, (item: any) => item.type == 'filtered_products') ? (\r\n          ''\r\n        ) : (\r\n          <main className=\"blk-filter-results\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-3 col-md-12 col-12\">\r\n                <section className=\"sidebar-left\">\r\n                  <FilterProductBox\r\n                    brandID={dataCMS?.brand?.id}\r\n                    dataOther={filterData?.collections}\r\n                    dataScents={filterData?.scents}\r\n                    maxPrice={filterData?.max_price}\r\n                    dataBrands={dataCMS?.brands}\r\n                    handleSortProduct={handleSortProduct}\r\n                    filterSelection={filterSelection}\r\n                    handleRemovePriceFilter={handleRemovePriceFilter}\r\n                    handleRemoveOtherFilter={handleRemoveOtherFilter}\r\n                    handleRemoveScentFilter={handleRemoveScentFilter}\r\n                    handleRemoveBrandsFilter={handleRemoveBrandsFilter}\r\n                    handleClearFilter={handleClearFilter}\r\n                    handleFilterProduct={handleFilterProduct}\r\n                    priceRange={priceRange}\r\n                    handleChange={handleChange}\r\n                    handleBlurPrice={handleBlurPrice}\r\n                    validateFilter={validateFilter}\r\n                    handleCheckOther={handleCheckOther}\r\n                    handleCheckBrand={handleCheckBrand}\r\n                    handleCheckScent={handleCheckScent}\r\n                    setPriceRange={setPriceRange}\r\n                  />\r\n                </section>\r\n              </div>\r\n              <div className=\"col-lg-9 col-md-12 col-12\">\r\n                <section className=\"sort-box\">\r\n                  {isMobile ? (\r\n                    <button className=\"btn-filter-mobile\" onClick={openFilterBox}>\r\n                      FILTERS\r\n                    </button>\r\n                  ) : (\r\n                    ''\r\n                  )}\r\n                  <Select\r\n                    placeholder=\"Sort by\"\r\n                    className=\"primary-select\"\r\n                    searchable={false}\r\n                    labelField=\"title\"\r\n                    onChange={(value) => handleSortProduct(value)}\r\n                    valueField=\"value\"\r\n                    options={sortOptions}\r\n                    values={stateProduct.sortValue}\r\n                  />\r\n                </section>\r\n                {stateProduct.allProduct && stateProduct.allProduct.length > 0 ? (\r\n                  !loading ? (\r\n                    <div style={{ marginBottom: '3em' }} className=\"animated faster fade-in\">\r\n                      <BlockProduct productList={stateProduct.allProduct} title=\"\" />\r\n                      {paging.next ? (\r\n                        <button\r\n                          className={`btn-loadmore ${paging.loading ? 'loading' : ''}`}\r\n                          onClick={handleLoadmore}\r\n                        >\r\n                          {paging.loading ? (\r\n                            <div className=\"lds-roller\">\r\n                              <div></div>\r\n                              <div></div>\r\n                              <div></div>\r\n                              <div></div>\r\n                              <div></div>\r\n                              <div></div>\r\n                              <div></div>\r\n                              <div></div>\r\n                            </div>\r\n                          ) : (\r\n                            ''\r\n                          )}\r\n                          Load more\r\n                        </button>\r\n                      ) : (\r\n                        ''\r\n                      )}\r\n                    </div>\r\n                  ) : (\r\n                    ''\r\n                  )\r\n                ) : loadingProduct == true ? (\r\n                  <div className=\"lds-roller product-loading\">\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                  </div>\r\n                ) : (\r\n                  <div>\r\n                    <p className=\"loading-product not-found\">\r\n                      No products are matching your filters\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </main>\r\n        )}\r\n      </div>\r\n      <div style={{ paddingBottom: '0' }}>\r\n        {map(dataBody, (item: any, index: any) => {\r\n          switch (item.type) {\r\n            case 'carousel':\r\n              return (\r\n                <div style={{ marginTop: '1rem' }}>\r\n                  <BlockCarousel\r\n                    slides={item && item.value ? item?.value.slides : []}\r\n                    key={index}\r\n                    dragOrAuto={false}\r\n                    maxWidth={item && item?.value?.max_width ? item?.value?.max_width : ''}\r\n                    maxHeight={item && item?.value?.max_height ? item?.value?.max_height : ''}\r\n                  />\r\n                </div>\r\n              );\r\n            case 'spotlight':\r\n              return (\r\n                <BlockSpotlight\r\n                  headline={item?.value.headline}\r\n                  items={item?.value.rows}\r\n                  key={index}\r\n                />\r\n              );\r\n            case 'countdown':\r\n              return <CountDownBlock data={item?.value} key={index} timestamp={timeStamp} />;\r\n            case 'video':\r\n              return (\r\n                <VideoBlock\r\n                  data={item?.value}\r\n                  title={item?.value?.title || ''}\r\n                  showReadmore={true}\r\n                  key={index}\r\n                />\r\n              );\r\n            case 'icons':\r\n              return <BlockIcon iconList={item.value?.icons || []} />;\r\n            case 'product':\r\n              return (\r\n                <BlockProduct\r\n                  productList={item?.value.products}\r\n                  title={item?.value?.headline}\r\n                  key={index}\r\n                />\r\n              );\r\n            case 'paragraph':\r\n              return (\r\n                <div className=\"container\" key={index}>\r\n                  <div\r\n                    className=\"content-block\"\r\n                    dangerouslySetInnerHTML={{ __html: item?.value?.text }}\r\n                  ></div>\r\n                </div>\r\n              );\r\n            case 'title':\r\n              return <BlockTitle key={index} title={item?.value?.title} />;\r\n            case 'images':\r\n              return (\r\n                <div className=\"container\" key={index}>\r\n                  <div className=\"images-box-default\">\r\n                    <div className=\"wrapper-img row-span\">\r\n                      <Picture data={item?.value?.images?.big} />\r\n                    </div>\r\n                    <div className=\"wrapper-img\">\r\n                      <Picture data={item?.value?.images?.top_left} />\r\n                    </div>\r\n                    <div className=\"wrapper-img\">\r\n                      <Picture data={item?.value?.images?.bottom_left} />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            case 'filtered_products':\r\n              filteredboxQuantity++;\r\n              return filteredboxQuantity <= 1 ? (\r\n                <div className=\"container\" key={index}>\r\n                  <main className=\"blk-filter-results\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-lg-3 col-md-12 col-12\">\r\n                        <section className=\"sidebar-left\">\r\n                          <FilterProductBox\r\n                            brandID={dataCMS?.brand?.id}\r\n                            dataOther={filterData?.collections}\r\n                            dataScents={filterData?.scents}\r\n                            priceRange={priceRange}\r\n                            maxPrice={filterData?.max_price}\r\n                            // dataBrands={dataCMS?.all_brands}\r\n                            handleSortProduct={handleSortProduct}\r\n                            filterSelection={filterSelection}\r\n                            handleRemovePriceFilter={handleRemovePriceFilter}\r\n                            handleRemoveOtherFilter={handleRemoveOtherFilter}\r\n                            handleRemoveScentFilter={handleRemoveScentFilter}\r\n                            handleRemoveBrandsFilter={handleRemoveBrandsFilter}\r\n                            handleClearFilter={handleClearFilter}\r\n                            handleFilterProduct={handleFilterProduct}\r\n                            handleChange={handleChange}\r\n                            handleBlurPrice={handleBlurPrice}\r\n                            validateFilter={validateFilter}\r\n                            handleCheckOther={handleCheckOther}\r\n                            handleCheckBrand={handleCheckBrand}\r\n                            handleCheckScent={handleCheckScent}\r\n                            setPriceRange={setPriceRange}\r\n                          />\r\n                        </section>\r\n                      </div>\r\n                      <div className=\"col-lg-9 col-md-12 col-12\">\r\n                        <section className=\"sort-box\">\r\n                          {isMobile ? (\r\n                            <button className=\"btn-filter-mobile\" onClick={openFilterBox}>\r\n                              FILTERS\r\n                            </button>\r\n                          ) : (\r\n                            ''\r\n                          )}\r\n                          <Select\r\n                            placeholder=\"Sort by\"\r\n                            className=\"primary-select\"\r\n                            searchable={false}\r\n                            labelField=\"title\"\r\n                            onChange={(value) => handleSortProduct(value)}\r\n                            valueField=\"value\"\r\n                            options={sortOptions}\r\n                            values={stateProduct.sortValue}\r\n                          />\r\n                        </section>\r\n                        {stateProduct.allProduct && stateProduct.allProduct.length > 0 ? (\r\n                          !loading ? (\r\n                            <div\r\n                              style={{ marginBottom: '3em' }}\r\n                              className=\"animated faster fade-in\"\r\n                            >\r\n                              <BlockProduct productList={stateProduct.allProduct} title=\"\" />\r\n                              {paging.next ? (\r\n                                <button\r\n                                  className={`btn-loadmore ${paging.loading ? 'loading' : ''}`}\r\n                                  onClick={handleLoadmore}\r\n                                >\r\n                                  {paging.loading ? (\r\n                                    <div className=\"lds-roller\">\r\n                                      <div></div>\r\n                                      <div></div>\r\n                                      <div></div>\r\n                                      <div></div>\r\n                                      <div></div>\r\n                                      <div></div>\r\n                                      <div></div>\r\n                                      <div></div>\r\n                                    </div>\r\n                                  ) : (\r\n                                    ''\r\n                                  )}\r\n                                  Load more\r\n                                </button>\r\n                              ) : (\r\n                                ''\r\n                              )}\r\n                            </div>\r\n                          ) : (\r\n                            ''\r\n                          )\r\n                        ) : loadingProduct == true ? (\r\n                          <div className=\"lds-roller product-loading\">\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                          </div>\r\n                        ) : (\r\n                          <div>\r\n                            <p className=\"loading-product not-found\">\r\n                              No products are matching your filters\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </main>\r\n                </div>\r\n              ) : (\r\n                <></>\r\n              );\r\n            case 'bloglist':\r\n              return <BlockBlogs blogList={item?.value} title=\"Sundora Blogs\" key={index} />;\r\n            case 'form':\r\n              return item?.value?.modal == 'True' ? (\r\n                <BlockModal\r\n                  isOpen={visibleModalEmail}\r\n                  minWidth=\"36%\"\r\n                  maskBg={false}\r\n                  onKeyPress={() => handleKeyPress()}\r\n                  onClickAway={() => handelToggleModal()}\r\n                  key={index}\r\n                >\r\n                  <BlockCollectEmail\r\n                    content={item?.value}\r\n                    formField={dataFormField}\r\n                    url={dataCMS?.meta?.html_url}\r\n                    closeModal={handelToggleModal}\r\n                  />\r\n                </BlockModal>\r\n              ) : (\r\n                <BlockFormField\r\n                  content={item?.value}\r\n                  formField={dataFormField}\r\n                  url={dataCMS?.meta?.html_url}\r\n                  key={index}\r\n                />\r\n              );\r\n            case 'recommended':\r\n              return (\r\n                <BlockProduct\r\n                  productList={item?.value?.products}\r\n                  title={item?.value?.headline}\r\n                  key={index}\r\n                />\r\n              );\r\n            case 'questionnaire':\r\n              return <BlockQuestionnaire data={item?.value} key={index} />;\r\n            case 'allbrands':\r\n              return <BlockAllBrands data={item?.value} key={index} />;\r\n            default:\r\n              break;\r\n          }\r\n        })}\r\n      </div>\r\n      <div\r\n        // className={`main-content ${isSticky ? 'stick-icon' : ''}`}\r\n        className=\"main-content\"\r\n      >\r\n        <BlockIcon iconList={iconList} />\r\n      </div>\r\n      <div ref={refFooter}>\r\n        <Footer data={dataFooter} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(BrandProductPage);\r\n","export default __webpack_public_path__ + \"static/media/ic-facebook.1490317c.svg\";","export default __webpack_public_path__ + \"static/media/ic-insta.091b579b.svg\";","export default __webpack_public_path__ + \"static/media/ic-linkedin.fb119a0a.svg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { map } from 'lodash';\r\n\r\nfunction footerItem({ data = {} }: { data: any }) {\r\n  const { children } = data;\r\n  return (\r\n    <div className=\"item-box\">\r\n      {data?.relative_url ? (\r\n        <Link to={data?.relative_url} className=\"py-1\">\r\n          {data.title}\r\n        </Link>\r\n      ) : (\r\n        <h3>{data.title}</h3>\r\n      )}\r\n      <ul>\r\n        {map(children, (item: any, index: number) => (\r\n          <li key={index}>\r\n            <a\r\n              href={\r\n                item?.external_url\r\n                  ? item?.external_url\r\n                  : item?.relative_url\r\n                  ? item?.relative_url\r\n                  : '/'\r\n              }\r\n              className=\"py-1\"\r\n            >\r\n              <span className=\"icon-format material-icons\" style={{ top: 0, left: -28 }}>\r\n                {item?.menu_icon}\r\n              </span>\r\n              <span>{item.title} </span>\r\n            </a>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nfooterItem.propTypes = {\r\n  data: PropTypes.object,\r\n};\r\n\r\nexport default footerItem;\r\n","import React, { memo } from 'react';\r\nimport icFaceBook from '../../images/icons/ic-facebook.svg';\r\nimport icInsta from '../../images/icons/ic-insta.svg';\r\nimport icLinkedIn from '../../images/icons/ic-linkedin.svg';\r\nimport PropTypes from 'prop-types';\r\nimport { map } from 'lodash';\r\nimport FooterItem from './footerItem';\r\nimport { PHONE_CONTACT } from '../../config';\r\n\r\nfunction Footer({ data = [] }: { data: any }) {\r\n  return (\r\n    <footer className=\"blk-footer\">\r\n      <div className=\"content container\">\r\n        <div>\r\n          <div className=\"item-box\">\r\n            <h3>contact</h3>\r\n            <ul>\r\n              <li>\r\n                <a>\r\n                  <span className=\"icon-format material-icons\" style={{ top: -4, left: -28 }}>\r\n                    call\r\n                  </span>\r\n                  {PHONE_CONTACT}\r\n                </a>\r\n              </li>\r\n              <li>Sun - Thu 10.00 AM - 8.00 PM</li>\r\n              <li>\r\n                <a href=\"mailto:support@sundora.com.bd\">\r\n                  <span className=\"icon-format material-icons\" style={{ top: -4, left: -28 }}>\r\n                    email\r\n                  </span>\r\n                  support@sundora.com.bd\r\n                </a>\r\n              </li>\r\n              <li style={{ marginTop: '1rem' }}>\r\n                <a\r\n                  href={`https://www.google.com/maps/search/${encodeURI(\r\n                    'Anabil Tower, Plot #3, Block - NW(J), Gulshan North Avenue, Kemal Ataturk Ave, Dhaka -1212, Bangladesh',\r\n                  )}/`}\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                >\r\n                  <span className=\"icon-format material-icons\" style={{ top: -4, left: -28 }}>\r\n                    location_on\r\n                  </span>\r\n                  <p className=\"location\">\r\n                    Anabil Tower, Plot #3, Block - NW(J), Gulshan North Avenue, Kemal Ataturk\r\n                    Ave, Dhaka -1212, Bangladesh\r\n                  </p>\r\n                </a>\r\n              </li>\r\n            </ul>\r\n            <ul className=\"social-group\">\r\n              <li>\r\n                <a\r\n                  target=\"__blank\"\r\n                  href=\"https://bd.linkedin.com/company/sundora?trk=public_profile_topcard-current-company\"\r\n                >\r\n                  <img className=\"linkedin\" src={icLinkedIn} alt=\"ic-linkedin\" />\r\n                </a>\r\n              </li>\r\n              <li>\r\n                <a target=\"__blank\" href=\"https://www.facebook.com/sundorabeauty\">\r\n                  <img src={icFaceBook} width={14} height={22.39} alt=\"ic-facebook\" />\r\n                </a>\r\n              </li>\r\n              <li>\r\n                <a target=\"__blank\" href=\"https://www.instagram.com/sundorabeauty\">\r\n                  <img src={icInsta} width={21} height={24} alt=\"ic-instagram\" />\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"item-box\">\r\n            <h3>visit</h3>\r\n            <ul>\r\n              <li>\r\n                <span>\r\n                  <a\r\n                    href={`https://www.google.com/maps/search/${encodeURI(\r\n                      'Green City Square, Gr. Floor - Semi-basement, 750, Satmasjid Road, Dhanmondi',\r\n                    )}/`}\r\n                    target=\"_blank\"\r\n                    rel=\"noreferrer\"\r\n                  >\r\n                    <span\r\n                      className=\"icon-format material-icons\"\r\n                      style={{ top: -4, left: -28 }}\r\n                    >\r\n                      location_on\r\n                    </span>\r\n                    <p className=\"location\">\r\n                      Green City Square, Gr. Floor - Semi-basement, 750, Satmasjid Road,\r\n                      Dhanmondi\r\n                    </p>\r\n                  </a>\r\n                </span>\r\n              </li>\r\n            </ul>\r\n            <ul>\r\n              <li>\r\n                <span>\r\n                  <a\r\n                    href={`https://www.google.com/maps/search/${encodeURI(\r\n                      'Delvista, Banani Rd# 12, FL# 3, H# 44, Banani',\r\n                    )}/`}\r\n                    target=\"_blank\"\r\n                    rel=\"noreferrer\"\r\n                  >\r\n                    <span\r\n                      className=\"icon-format material-icons\"\r\n                      style={{ top: -4, left: -28 }}\r\n                    >\r\n                      location_on\r\n                    </span>\r\n                    <p className=\"location\">\r\n                      DELVISTA, FL# 3, H# 44,RD# 12, BANANI 1213, DHAKA\r\n                    </p>\r\n                  </a>\r\n                </span>\r\n              </li>\r\n            </ul>\r\n            <ul>\r\n              <li>\r\n                <span>\r\n                  {' '}\r\n                  <a\r\n                    href={`https://www.google.com/maps/search/${encodeURI(\r\n                      'Ventura Agnibeena, Gr. Floor, H#38, Rd#12, Banani',\r\n                    )}/`}\r\n                    target=\"_blank\"\r\n                    rel=\"noreferrer\"\r\n                  >\r\n                    <span\r\n                      className=\"icon-format material-icons\"\r\n                      style={{ top: -4, left: -28 }}\r\n                    >\r\n                      location_on\r\n                    </span>\r\n                    <p className=\"location\">\r\n                      Ventura Agnibeena, Gr. Floor, H#38, Rd#12, Banani\r\n                    </p>\r\n                  </a>\r\n                </span>\r\n              </li>\r\n            </ul>\r\n            <ul>\r\n              <li>\r\n                <span>\r\n                  {' '}\r\n                  <a\r\n                    href={`https://www.google.com/maps/search/${encodeURI(\r\n                      'Casablanca, 114 Gulshan Ave, Gr. Floor, Gulshan',\r\n                    )}/`}\r\n                    target=\"_blank\"\r\n                    rel=\"noreferrer\"\r\n                  >\r\n                    <span\r\n                      className=\"icon-format material-icons\"\r\n                      style={{ top: -4, left: -28 }}\r\n                    >\r\n                      location_on\r\n                    </span>\r\n                    <p className=\"location\">Casablanca, 114 Gulshan Ave, Gr. Floor, Gulshan</p>\r\n                  </a>\r\n                </span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          {map(data, (item: any, index: number) => (\r\n            <FooterItem data={item} key={index} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nFooter.propTypes = {\r\n  iconList: PropTypes.array,\r\n};\r\n\r\nexport default memo(Footer);\r\n","export default __webpack_public_path__ + \"static/media/addToCart-white.47327068.svg\";","import React, { memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Picture from '../Picture';\r\n\r\nfunction BlockIcon({ iconList = [] }: { iconList: any }) {\r\n  return (\r\n    <section className=\"blk-icon\">\r\n      <div className=\"container\">\r\n        <ul>\r\n          {iconList.map((item: any, index: number) => (\r\n            <li key={index}>\r\n              <Picture data={item.icon_image} />\r\n              <span>{item.text}</span>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nBlockIcon.propTypes = {\r\n  iconList: PropTypes.array,\r\n};\r\n\r\nexport default memo(BlockIcon);\r\n","import React, { memo } from 'react';\r\n\r\nfunction BlockTitle(props: any) {\r\n  return (\r\n    <div className=\"container\" style={props?.styleDiv}>\r\n      <h1 className=\"title-block-default\" style={props?.styleText}>\r\n        {props?.title}\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(BlockTitle);\r\n","export default __webpack_public_path__ + \"static/media/logo.d1cd0572.png\";","import React, { useEffect, useRef, useState } from 'react';\r\nimport icAddToCart from '../../../images/icons/addToCart-white.svg';\r\nimport Picture from '../../Picture';\r\nimport { useDispatch, useSelector, RootStateOrAny } from 'react-redux';\r\nimport * as action from '../../../redux/product/actions';\r\nimport * as actionHome from '../../../redux/home/actions';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { moneyFormater } from '../../../redux/Helpers';\r\nimport { addProductToCart } from '../../../utils/helpers/productTracker';\r\n\r\nfunction itemProduct({ productItem }: { productItem: any }) {\r\n  const state = useSelector((state: RootStateOrAny) => state.productReducer);\r\n  const itemProductRef = useRef<any>(null);\r\n  const [image, setImage] = useState({});\r\n  const dispatch = useDispatch();\r\n  const keyEndpoint = productItem?.value ? productItem?.value : productItem;\r\n  const handleCheckoutProduct = (e: any) => {\r\n    e.stopPropagation();\r\n    const variant = keyEndpoint?.product_variants[0] || {};\r\n    const data = {\r\n      // variant_id: 39482168017060,\r\n      variant_id: variant?.variant_id ?? '',\r\n      quantity: 1,\r\n    };\r\n    const index = state?.lineItems.findIndex(function (e: any) {\r\n      return e.variant_id == data.variant_id;\r\n    });\r\n    const copyArr = [...state?.lineItems];\r\n\r\n    if (index != -1) {\r\n      const newData = {\r\n        variant_id: data.variant_id,\r\n        quantity: state?.lineItems[index].quantity + data.quantity,\r\n      };\r\n      copyArr[index] = newData;\r\n    } else {\r\n      copyArr.push(data);\r\n    }\r\n\r\n    addProductToCart({\r\n      ...keyEndpoint,\r\n      variant_id: variant.variant_id,\r\n      price: variant?.price,\r\n      title: variant?.title,\r\n      quantity: 1,\r\n    });\r\n\r\n    dispatch(action.checkoutProduct(copyArr));\r\n\r\n    dispatch(actionHome.toggleShoppingbag(true));\r\n  };\r\n  const history = useHistory();\r\n\r\n  const directDetailProduct = (handle: any, brandName: any) => {\r\n    history.push('/brand/' + brandName + '/' + handle);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (itemProductRef && itemProductRef.current) {\r\n      const width = itemProductRef.current.clientHeight;\r\n      const height = itemProductRef.current.clientHeight;\r\n      setImage({\r\n        ...keyEndpoint.images[0]?.url,\r\n        width: width,\r\n        height: height,\r\n      });\r\n    }\r\n  }, [keyEndpoint, itemProductRef]);\r\n  return (\r\n    <div\r\n      className=\"product-item-box\"\r\n      // onClick={() => {\r\n      //   directDetailProduct(keyEndpoint.handle, keyEndpoint?.brand_page?.page_ptr?.handle);\r\n      // }}\r\n    >\r\n      <div className=\"favorite-box\">\r\n        {/* <img\r\n          src={icHeart}\r\n          alt=\"\"\r\n          style={{ visibility: !productItem.is_favorite ? 'visible' : 'hidden' }}\r\n        /> */}\r\n        <div></div>\r\n\r\n        {keyEndpoint.fixed_rebate ? (\r\n          <span\r\n            className=\"sale-inf\"\r\n            style={{ visibility: keyEndpoint.fixed_rebate > 0 ? 'visible' : 'hidden' }}\r\n          >\r\n            {keyEndpoint.fixed_rebate > 0 ? `-${keyEndpoint.fixed_rebate}%` : ''}\r\n          </span>\r\n        ) : (\r\n          ''\r\n        )}\r\n        {/* <span\r\n          className=\"sale-inf bonus\"\r\n          style={{ display: productItem.bonus ? 'flex' : 'none' }}\r\n        >\r\n          3{' '}\r\n          <span>\r\n            <span>FOR</span> 2\r\n          </span>\r\n        </span> */}\r\n      </div>\r\n      <div className=\"img-product\" ref={itemProductRef}>\r\n        <Picture data={image} />\r\n      </div>\r\n      <div className=\"bot\">\r\n        <div className=\"row\">\r\n          <div className=\"info\">\r\n            <p className=\"title-item\">{keyEndpoint.brand?.name}</p>\r\n            <p className=\"title-info\">{keyEndpoint?.name}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\" info\">\r\n            <span className={`money ${productItem.sale ? 'sale-price' : ''}`}>\r\n              {moneyFormater(keyEndpoint?.product_variants[0].price)}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"btn-detail\"\r\n          onClick={() => {\r\n            directDetailProduct(keyEndpoint.handle, keyEndpoint?.brand_page?.page_ptr?.handle);\r\n          }}\r\n        >\r\n          Discover\r\n        </button>\r\n        <button className=\"btn-add\" onClick={handleCheckoutProduct}>\r\n          ADD TO BAG\r\n          <img src={icAddToCart} alt=\"ic-add-to-cart\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// itemProduct.propTypes = {\r\n//   productItem: PropTypes.object.isRequired,\r\n// };\r\n\r\nexport default itemProduct;\r\n","import React, { memo, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ItemProduct from './itemProduct';\r\nimport { map } from 'lodash';\r\nimport { isMobile } from '../../../DetectScreen';\r\nimport AwesomeSlider from 'react-awesome-slider';\r\n\r\nfunction BlockProduct({\r\n  productList,\r\n  title,\r\n  subTitle,\r\n}: {\r\n  productList: any;\r\n  title: string;\r\n  subTitle: string;\r\n}) {\r\n  const [selectedIndex, setSelectedIndex] = useState<number>(0);\r\n\r\n  const handleSlider = (type: string) => {\r\n    if (type == 'next') {\r\n      setSelectedIndex(\r\n        selectedIndex + 1 >= productList.length ? productList.length - 1 : selectedIndex + 1,\r\n      );\r\n      return;\r\n    }\r\n    if (type == 'prev') {\r\n      setSelectedIndex(selectedIndex - 1 <= 0 ? 0 : selectedIndex - 1);\r\n      return;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"blk-questionnaire-product\">\r\n      <div className=\"container\">\r\n        {/* Title */}\r\n        {title ? <h3 className=\"title-block\">{title}</h3> : ''}\r\n\r\n        {/* Sub title */}\r\n        {subTitle ? <p className=\"sub-title-block\">{subTitle}</p> : ''}\r\n\r\n        {/* line center */}\r\n        <div className=\"line-center\"></div>\r\n\r\n        <div className={`${!isMobile ? 'row' : ''} list-product`}>\r\n          {isMobile ? (\r\n            <>\r\n              <AwesomeSlider\r\n                selected={selectedIndex}\r\n                fillParent={false}\r\n                mobileTouch={true}\r\n                buttons={false}\r\n                bullets={true}\r\n                className=\"animation-slider\"\r\n                onTransitionEnd={(e: any) => {\r\n                  setSelectedIndex(e.currentIndex);\r\n                }}\r\n              >\r\n                {map(productList, (item: any, index: number) => (\r\n                  <div\r\n                    className=\"animated fasted fade-in\"\r\n                    key={index}\r\n                    style={{ marginBottom: 16 }}\r\n                  >\r\n                    <ItemProduct productItem={item} />\r\n                  </div>\r\n                ))}\r\n              </AwesomeSlider>\r\n              <div className=\"group-button\">\r\n                <button\r\n                  className={`next ${\r\n                    selectedIndex == productList.length - 1 ? 'btn-end' : ''\r\n                  }`}\r\n                  onClick={() => {\r\n                    handleSlider('next');\r\n                  }}\r\n                >\r\n                  <span className=\"material-icons\">navigate_next</span>\r\n                </button>\r\n                <button\r\n                  className={`prev ${selectedIndex == 0 ? 'btn-end' : ''}`}\r\n                  onClick={() => {\r\n                    handleSlider('prev');\r\n                  }}\r\n                >\r\n                  <span className=\"material-icons\">navigate_next</span>\r\n                </button>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              {map(productList, (item: any, index: number) => (\r\n                <div\r\n                  className=\"col-lg-3 col-md-4 col-6 animated fasted fade-in\"\r\n                  key={index}\r\n                  style={{ marginBottom: 16 }}\r\n                >\r\n                  <ItemProduct productItem={item} />\r\n                </div>\r\n              ))}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nBlockProduct.propTypes = {\r\n  productList: PropTypes.array,\r\n  title: PropTypes.string,\r\n};\r\n\r\nexport default memo(BlockProduct);\r\n","export default __webpack_public_path__ + \"static/media/left-arrow.3c5c1c94.svg\";","export default __webpack_public_path__ + \"static/media/home.9bf8126f.svg\";","import { isEmpty } from 'lodash';\r\nimport React, { memo, useEffect, useState } from 'react';\r\nimport SundoraLogo from '../../images/block-questionnaire/logo.png';\r\nimport { GET_QUESTIONNAIRE } from '../../config';\r\nimport { fetchClient } from '../../redux/Helpers';\r\nimport AwesomeSlider from 'react-awesome-slider';\r\nimport 'react-awesome-slider/src/core/styles.scss';\r\nimport DotLoader from '../DotLoader';\r\nimport BlockProduct from './BlockProduct';\r\nimport { isMobile } from '../../DetectScreen';\r\nimport icBack from '../../images/block-questionnaire/left-arrow.svg';\r\nimport icHome from '../../images/block-questionnaire/home.svg';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction BlockQuestionnaire({ data }: { data: any }) {\r\n  const [dataQuestionnaire, setDataQuestionnaire] = useState<any>([]);\r\n  const [question, setQuestion] = useState<any>([]);\r\n  const [questionSliderIndex, setQuestionSliderIndex] = useState<any>(0);\r\n  const [answerTemp, setAnswerTemp] = useState<any>({\r\n    questionIndex: null,\r\n    answerKey: null,\r\n  });\r\n  // const [questionReady, setQuestionReady] = useState<boolean>(false);\r\n  const [loadingProduct, setLoadingProduct] = useState<boolean>(false);\r\n  const [dotClick, setDotClick] = useState<boolean>(false);\r\n  const [products, setProducts] = useState<Array<any>>([]);\r\n  const [productNotExists, setProductNotExists] = useState<boolean>(false);\r\n  const [lastQuestion, setLastQuestion] = useState<boolean>(false);\r\n\r\n  const fetchDataInit = async () => {\r\n    if (isEmpty(dataQuestionnaire)) {\r\n      const options = {\r\n        url: `${GET_QUESTIONNAIRE}${data?.value}`,\r\n        method: 'GET',\r\n        body: null,\r\n      };\r\n      try {\r\n        const res = await fetchClient(options);\r\n        if (res.length > 0) {\r\n          setDataQuestionnaire(res);\r\n          setQuestion([...question, { ...res[0] }]);\r\n        }\r\n      } catch (error) {\r\n        // toastrError(error.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleAnswerTemp = (index: any, answerKey: any) => {\r\n    if (index == 5) {\r\n      setLastQuestion(true);\r\n    } else {\r\n      setLastQuestion(false);\r\n    }\r\n    setAnswerTemp({\r\n      ...answerTemp,\r\n      questionIndex: index,\r\n      answerKey: answerKey,\r\n    });\r\n  };\r\n\r\n  const handleQuestionSliderDot = (index: any) => {\r\n    if (index < question.length && index != questionSliderIndex) {\r\n      if (questionSliderIndex > 0) {\r\n        const questionClone = [...question];\r\n        setQuestion(questionClone.slice(0, index + 1));\r\n      }\r\n      setQuestionSliderIndex(index);\r\n      setDotClick(true);\r\n    }\r\n  };\r\n\r\n  const handleBackOrReStartQuestion = () => {\r\n    if (productNotExists || products.length > 0) {\r\n      setProducts([]);\r\n      setQuestion([{ ...dataQuestionnaire[0] }]);\r\n      setQuestionSliderIndex(0);\r\n      setProductNotExists(false);\r\n      return;\r\n    }\r\n    if (questionSliderIndex > 0) {\r\n      const questionClone = [...question];\r\n      questionClone.pop();\r\n      setQuestion(questionClone);\r\n    }\r\n    const index = questionSliderIndex == 0 ? 0 : questionSliderIndex - 1;\r\n    setQuestionSliderIndex(index);\r\n    setDotClick(true);\r\n  };\r\n\r\n  const handleQuestion = () => {\r\n    if (answerTemp.questionIndex == null) {\r\n      return;\r\n    }\r\n    const questionParent = question.find(\r\n      (item: any, index: any) => index == answerTemp.questionIndex,\r\n    );\r\n    if (!lastQuestion && questionParent && questionParent.children) {\r\n      const answer = questionParent.children.find(\r\n        (item: any) => item.data.parent_answer == `answer_${answerTemp.answerKey}`,\r\n      );\r\n      if (answer) {\r\n        if (dotClick) {\r\n          const questionTemp = question.slice(0, answerTemp.questionIndex + 1);\r\n          setQuestion([...questionTemp, { ...answer }]);\r\n          setQuestionSliderIndex(questionTemp.length);\r\n          setDotClick(false);\r\n        } else {\r\n          setQuestion([...question, { ...answer }]);\r\n          setQuestionSliderIndex(question.length);\r\n        }\r\n        setAnswerTemp({\r\n          ...answerTemp,\r\n          questionIndex: null,\r\n          answerKey: null,\r\n        });\r\n        // setQuestionReady(true);\r\n      } else {\r\n        setLoadingProduct(true);\r\n      }\r\n      return;\r\n    }\r\n    setLoadingProduct(true);\r\n  };\r\n\r\n  const handleGetProduct = async () => {\r\n    const lastQuestion = question[question.length - 1];\r\n    let childQuestion = lastQuestion;\r\n    if (lastQuestion?.children && lastQuestion?.children.length > 0) {\r\n      childQuestion = lastQuestion.children.find(\r\n        (item: any) => item.data.parent_answer == `answer_${answerTemp.answerKey}`,\r\n      );\r\n    }\r\n    const params = {\r\n      questionnaire_id: childQuestion?.id,\r\n      collections: childQuestion?.data?.collection,\r\n      scents: childQuestion?.data?.scent,\r\n    };\r\n    const options = {\r\n      url: `${GET_QUESTIONNAIRE}`,\r\n      method: 'POST',\r\n      body: params,\r\n    };\r\n    try {\r\n      const res = await fetchClient(options);\r\n      setProducts(res.products);\r\n      setLoadingProduct(false);\r\n      if (res.products.length == 0) {\r\n        setProductNotExists(true);\r\n      }\r\n    } catch (error) {\r\n      // console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDataInit();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (loadingProduct) {\r\n      handleGetProduct();\r\n    }\r\n  }, [loadingProduct]);\r\n\r\n  useEffect(() => {\r\n    handleQuestion();\r\n  }, [answerTemp]);\r\n\r\n  return (\r\n    <div\r\n      className=\"site-questionnaire\"\r\n      style={{ backgroundImage: `url('${data?.background?.webp}')`, backgroundSize: 'cover' }}\r\n    >\r\n      {loadingProduct ? <DotLoader /> : ''}\r\n      <div className={`container ${products.length > 0 ? 'opacity-none' : ''}`}>\r\n        {/* Posision asoluste */}\r\n        <button className={`btn-back`} onClick={handleBackOrReStartQuestion}>\r\n          {/* <span className=\"material-icons\">trending_flat</span> */}\r\n          <img className=\"ic-back\" src={icBack} alt=\"ic-back\" />\r\n          <span>{productNotExists || products.length > 0 ? 'RESTART QUIZ' : 'BACK'}</span>\r\n        </button>\r\n\r\n        <Link className={`btn-home`} to=\"/\">\r\n          {/* <span className=\"material-icons\">home</span> */}\r\n          <img className=\"ic-home\" src={icHome} alt=\"ic-home\" />\r\n          <br />\r\n          <span>HOME</span>\r\n        </Link>\r\n\r\n        {/* Logo */}\r\n        <div className=\"logo\">\r\n          <img src={SundoraLogo} width={130} height=\"auto\" alt=\"sundora-logo\" />\r\n        </div>\r\n\r\n        {productNotExists ? (\r\n          <div className=\"product-not-exists\">\r\n            <h2>\r\n              There is no suitable product for you,{' '}\r\n              <span onClick={handleBackOrReStartQuestion}>please try again</span>.\r\n            </h2>\r\n          </div>\r\n        ) : products.length > 0 ? (\r\n          <BlockProduct\r\n            productList={products}\r\n            title={'Top products for you:'}\r\n            subTitle={'Based on your answers here it what we recommend'}\r\n          />\r\n        ) : (\r\n          <div className=\"question\">\r\n            {/* Text question */}\r\n            <h2 className=\"text-question-step\">Question {questionSliderIndex + 1} / 6</h2>\r\n\r\n            <AwesomeSlider\r\n              selected={questionSliderIndex}\r\n              fillParent={false}\r\n              mobileTouch={false}\r\n              bullets={false}\r\n              className=\"animation-slider\"\r\n              buttons={false}\r\n            >\r\n              {question.map((item: any, index: any) => (\r\n                <div key={index} className=\"detail-question\">\r\n                  {/* Text question name */}\r\n                  <h1 className=\"text-question-name\">{item.data.question}</h1>\r\n\r\n                  {/* line center */}\r\n                  <div className=\"line-center\"></div>\r\n\r\n                  {/* Block answer */}\r\n                  <div className=\"row\" style={{ padding: isMobile ? 20 : 13 }}>\r\n                    {[1, 2, 3, 4].map((answer: any) => (\r\n                      <button\r\n                        key={answer}\r\n                        onClick={() => {\r\n                          handleAnswerTemp(index, answer);\r\n                        }}\r\n                        className={`${isMobile ? 'col-12' : 'col'} block-answer ${\r\n                          answerTemp.answerKey == answer ? 'block-answer-active' : ''\r\n                        } ${item.data[`answer_${answer}`] != '' ? '' : 'd-none'}`}\r\n                      >\r\n                        <p>{item.data[`answer_${answer}`]}</p>\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </AwesomeSlider>\r\n\r\n            {/* btn next {question */}\r\n            {/* <button className=\"btn-next\" onClick={handleQuestion}>\r\n              <span>Next question</span>\r\n              <span className=\"material-icons\">\r\n                navigate_next\r\n              </span>\r\n            </button> */}\r\n\r\n            {/* group dot */}\r\n            <div className=\"group-dot\">\r\n              {Array.from(Array(6).keys()).map((item: any, index: any) => (\r\n                <button\r\n                  key={index}\r\n                  className={`btn-dot${index < question.length ? ' btn-dot-active' : ''}`}\r\n                  onClick={() => handleQuestionSliderDot(index)}\r\n                ></button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(BlockQuestionnaire);\r\n","import { map, split } from 'lodash';\r\nimport React, { memo, useEffect, useState } from 'react';\r\nimport logo from '../../images/logo-collect-email.png';\r\nimport { API_URL, POST_NEWSLETTER_EMAIL } from '../../config';\r\nimport Picture from '../Picture';\r\nimport { Form as FormIFrame } from 'react-iframe-form';\r\nimport { fetchClient, toastrError, toastrSuccess } from '../../redux/Helpers';\r\n\r\nconst inputKey = 'email';\r\n\r\nfunction BlockCollectEmail({\r\n  content = {},\r\n  formField = {},\r\n  closeModal = null,\r\n}: {\r\n  content: any;\r\n  formField: any;\r\n  url: any;\r\n  closeModal: any;\r\n}) {\r\n  const [form, setForm] = useState<any>({});\r\n  const [view, setView] = useState<any>(false);\r\n  const handleChange = (event: any) => {\r\n    setForm({ ...form, [inputKey]: event.target.value });\r\n    // setForm({ ...form, [event.currentTarget.name]: event.target.value });\r\n  };\r\n  const handleSubmit = (e: any) => {\r\n    e.preventDefault();\r\n    // if (Object.keys(form).length == 0) {\r\n    //   toastrError('Input is required');\r\n    //   return;\r\n    // }\r\n    setView(true);\r\n    const options = {\r\n      url: POST_NEWSLETTER_EMAIL,\r\n      method: 'POST',\r\n      body: {\r\n        customer: form,\r\n      },\r\n    };\r\n    fetchClient(options).then((res) => {\r\n      if (res.success) {\r\n        toastrSuccess('An email has been sent to your email for verification');\r\n        setView(false);\r\n        closeModal();\r\n      } else if (res.isError) {\r\n        toastrError('Email has already been taken');\r\n      }\r\n    });\r\n    // setView(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!content?.modal) {\r\n      closeModal();\r\n    }\r\n  }, [content]);\r\n\r\n  return (\r\n    <section className=\"blk-collect-email\">\r\n      <Picture data={content?.background} />\r\n      <div className=\"content\">\r\n        <img src={logo} loading=\"lazy\" alt=\"Sundora logotype\" />\r\n        <h3 dangerouslySetInnerHTML={{ __html: content?.text }} />\r\n        {view ? (\r\n          <div className=\"d-none\">\r\n            <FormIFrame\r\n              name=\"collectEmailForm\"\r\n              config={{\r\n                url: `${API_URL}/`,\r\n                method: 'post',\r\n                data: form,\r\n              }}\r\n            />\r\n          </div>\r\n        ) : (\r\n          ''\r\n        )}\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"rowgroup\">\r\n            {map(formField?.values, (item, index) => {\r\n              if (!item.choices && item.field_type != 'dropdown') {\r\n                return (\r\n                  <input\r\n                    key={index}\r\n                    type={item.field_type}\r\n                    name={inputKey}\r\n                    defaultValue={item.default_value}\r\n                    required={item.required}\r\n                    onChange={handleChange}\r\n                  />\r\n                );\r\n              } else {\r\n                return (\r\n                  <select\r\n                    id={item.clean_name}\r\n                    name={item.clean_name}\r\n                    key={index}\r\n                    defaultValue={item.default_value}\r\n                    onChange={handleChange}\r\n                  >\r\n                    {map(split(item.choices, ','), (i, index) => (\r\n                      <option value={i} key={index}>\r\n                        {i}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                );\r\n              }\r\n            })}\r\n          </div>\r\n          <button type=\"submit\" className=\"btn-submit\" value=\"Join now\">\r\n            Join now\r\n          </button>\r\n        </form>\r\n      </div>\r\n      <p dangerouslySetInnerHTML={{ __html: content?.footer }} className=\"footer\" />\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default memo(BlockCollectEmail);\r\n","export default \"data:image/png;base64,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\"","import React, { memo, useEffect, useState } from 'react';\r\nimport { reduce, map, find } from 'lodash';\r\nimport { isMobile } from '../../DetectScreen';\r\nimport { RootStateOrAny, useDispatch, useSelector } from 'react-redux';\r\nimport * as action from '../../redux/product/actions';\r\nimport { moneyFormater, slugToTitle } from '../../redux/Helpers';\r\nimport InputRange from 'react-input-range';\r\nimport 'react-input-range/lib/css/index.css';\r\nimport { isDesktop } from 'react-device-detect';\r\n\r\n// const priceRange = [\r\n//   { id: 1, name: '1,000 - 10,000', min: 1000, max: 10000 },\r\n//   { id: 2, name: '10,000 - 50,000', min: 10000, max: 50000 },\r\n//   { id: 3, name: '50,000 +', min: 50000, max: 999999999 },\r\n// ];\r\n\r\nfunction FilterProductBox(props: any) {\r\n  const dispatch = useDispatch();\r\n  const [toogleRow, setToogleRow] = useState<any>({});\r\n  const data = reduce(\r\n    props?.dataBrands,\r\n    (r: any, e: any) => {\r\n      // get first letter of name of current element\r\n      const group = e.name[0];\r\n      // if there is no property in accumulator with this letter create it\r\n      if (!r[group]) r[group] = { group, children: [e] };\r\n      // if there is push current element to children array for that letter\r\n      else r[group].children.push(e);\r\n      // return accumulator\r\n      return r;\r\n    },\r\n    {},\r\n  );\r\n  // const [dataOther, setDataOther] = useState([]);\r\n  // FILTER FEATURE\r\n  const [priceRange, setPriceRange] = useState<any>({\r\n    minPrice: 500,\r\n    maxPrice: 500,\r\n  });\r\n  const [isDefaultPriceRange, setIsDefaultPriceRange] = useState<boolean>(false);\r\n\r\n  // since data at this point is an object, to get array of values\r\n  // we use Object.values method\r\n  const resultGroupObjectAlphabet = Object.values(data);\r\n\r\n  const isOpenFilterBox = useSelector(\r\n    (state: RootStateOrAny) => state.productReducer.isOpenFilterBox,\r\n  );\r\n\r\n  const closeFilterBox = () => {\r\n    window.scroll({\r\n      top: 0,\r\n      behavior: 'smooth',\r\n    });\r\n    dispatch(action.toogleFilterBox(false));\r\n  };\r\n\r\n  const clearFilterMobile = () => {\r\n    props.handleClearFilter();\r\n  };\r\n\r\n  const activeRowMobile = (idRow: any) => {\r\n    // setForm({ ...form, [event.currentTarget.name]: event.target.value });\r\n    if (idRow == toogleRow.id) {\r\n      setToogleRow({ id: idRow, isActive: !toogleRow.isActive });\r\n    } else {\r\n      setToogleRow({ id: idRow, isActive: true });\r\n    }\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   if (props?.dataOther) {\r\n  //     const dataOther = props?.dataOther.filter((item: any) => {\r\n  //       if (item?.handle != 'man' && item?.handle != 'unisex' && item?.handle != 'woman') {\r\n  //         return item;\r\n  //       }\r\n  //     });\r\n  //     setDataOther(dataOther);\r\n  //   }\r\n  // }, [props?.dataOther]);\r\n\r\n  useEffect(() => {\r\n    if (props.priceRange.minPrice && props.priceRange.maxPrice && !isDefaultPriceRange) {\r\n      setIsDefaultPriceRange(true);\r\n      setPriceRange({\r\n        minPrice: parseInt(props?.priceRange?.minPrice),\r\n        maxPrice: parseInt(props?.priceRange?.maxPrice),\r\n      });\r\n    }\r\n  }, [props?.priceRange]);\r\n\r\n  return (\r\n    <section\r\n      className={`filter-box ${isMobile ? 'filter-box-mobile' : ''} ${\r\n        isMobile && isOpenFilterBox ? 'active' : ''\r\n      }`}\r\n    >\r\n      {isMobile ? (\r\n        <div className=\"header-filter-mobile\">\r\n          <button onClick={closeFilterBox}>\r\n            <i className=\"gg-close\"></i>\r\n          </button>\r\n          <h2>FILTER PRODUCTS</h2>\r\n        </div>\r\n      ) : (\r\n        ''\r\n      )}\r\n      <div className=\"header-filter\">\r\n        <p className=\"text-title-filter\">\r\n          <span className=\"material-icons\">filter_list</span>\r\n          Filter results\r\n        </p>\r\n        {isMobile ? (\r\n          ''\r\n        ) : (\r\n          <button className=\"btn-clear\" onClick={props.handleClearFilter}>\r\n            Reset filters\r\n          </button>\r\n        )}\r\n      </div>\r\n      <section className=\"result-filter-box\">\r\n        <ul className=\"result-list\">\r\n          {map(props.filterSelection, (item, index) => {\r\n            switch (item.type) {\r\n              case 'minMax':\r\n                return isDesktop ? (\r\n                  ''\r\n                ) : (\r\n                  <li key={index}>\r\n                    <span>\r\n                      {`${moneyFormater(priceRange.minPrice)} - ${moneyFormater(\r\n                        priceRange.maxPrice,\r\n                      )}`}\r\n                    </span>\r\n                    <button onClick={props.handleRemovePriceFilter}>\r\n                      <i className=\"gg-close\"></i>\r\n                    </button>\r\n                  </li>\r\n                );\r\n              case 'other':\r\n                return (\r\n                  <li key={index}>\r\n                    <span>\r\n                      {props?.dataOther\r\n                        ? find(props?.dataOther, (i) => i.handle == item.value)\r\n                          ? find(props?.dataOther, (i) => i.handle == item.value).title\r\n                          : item.name\r\n                        : item.name}\r\n                    </span>\r\n                    <button>\r\n                      <i\r\n                        onClick={() => props.handleRemoveOtherFilter(item.value)}\r\n                        className=\"gg-close\"\r\n                      ></i>\r\n                    </button>\r\n                  </li>\r\n                );\r\n              case 'scent':\r\n                return (\r\n                  <li key={index}>\r\n                    <span>\r\n                      {props?.dataScents\r\n                        ? find(props?.dataScents, (i) => i.id == item.value)?.name\r\n                        : ''}\r\n                    </span>\r\n                    <button>\r\n                      <i\r\n                        onClick={() => props.handleRemoveScentFilter(item.value)}\r\n                        className=\"gg-close\"\r\n                      ></i>\r\n                    </button>\r\n                  </li>\r\n                );\r\n              case 'tags':\r\n              case 'tags_and':\r\n                return (\r\n                  <li key={index}>\r\n                    <span>{slugToTitle(item.value)}</span>\r\n                    <button>\r\n                      <i\r\n                        onClick={() => props.handleRemoveTagsFilter(item.value)}\r\n                        className=\"gg-close\"\r\n                      ></i>\r\n                    </button>\r\n                  </li>\r\n                );\r\n              case 'brands':\r\n                return (\r\n                  <li key={index}>\r\n                    <span>\r\n                      {props?.dataBrands\r\n                        ? find(props?.dataBrands, (i) => i.id == item.value).name\r\n                        : item.name}\r\n                    </span>\r\n                    <button>\r\n                      <i\r\n                        onClick={() => props.handleRemoveBrandsFilter(item.value)}\r\n                        className=\"gg-close\"\r\n                      ></i>\r\n                    </button>\r\n                  </li>\r\n                );\r\n              default:\r\n                break;\r\n            }\r\n          })}\r\n        </ul>\r\n      </section>\r\n      <div className=\"wrapper-filter-box\">\r\n        <div className=\"min-max\">\r\n          <h3 className=\"flex-icon\" onClick={() => activeRowMobile('min-max')}>\r\n            PRICE <i className=\"gg-chevron-down\" />\r\n          </h3>\r\n          <div\r\n            className={`${\r\n              toogleRow.id == 'min-max' && toogleRow.isActive == true ? 'active-child' : ''\r\n            }`}\r\n          >\r\n            <p className=\"text-price-range\">{`${moneyFormater(priceRange.minPrice)} - ${\r\n              priceRange.maxPrice != 500\r\n                ? moneyFormater(priceRange.maxPrice)\r\n                : moneyFormater(props?.maxPrice)\r\n            }`}</p>\r\n            <InputRange\r\n              step={50}\r\n              minValue={500}\r\n              maxValue={props?.maxPrice ?? 500000}\r\n              formatLabel={(value: any, e: any) => e}\r\n              value={{\r\n                min: priceRange.minPrice,\r\n                max: priceRange.maxPrice != 500 ? priceRange.maxPrice : props?.maxPrice,\r\n              }}\r\n              onChange={(value: any) => {\r\n                if (value.min == 0) {\r\n                  value.min = 500;\r\n                }\r\n                setPriceRange({\r\n                  minPrice: value.min,\r\n                  maxPrice: value.max,\r\n                });\r\n              }}\r\n              onChangeComplete={(value: any) => {\r\n                props.setPriceRange({ minPrice: value.min, maxPrice: value.max });\r\n              }}\r\n            />\r\n          </div>\r\n          {props.validateFilter.minMax ? (\r\n            <p style={{ color: '#f38e8e', fontSize: '12px', marginTop: 8 }}>\r\n              {props.validateFilter.minMax}\r\n            </p>\r\n          ) : (\r\n            ''\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"order\">\r\n          <h3 onClick={() => activeRowMobile('gender')} className=\"flex-icon\">\r\n            Gender <i className=\"gg-chevron-down\" />\r\n          </h3>\r\n          <div\r\n            className={`${\r\n              toogleRow.id == 'gender' && toogleRow.isActive == true ? 'active-child' : ''\r\n            }`}\r\n          >\r\n            {map(props?.dataOther, (item, index) =>\r\n              item?.handle == 'man' || item?.handle == 'unisex' || item?.handle == 'woman' ? (\r\n                <label className=\"checkbox-button\" key={index}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"checkbox-button__input\"\r\n                    id={`choice1-${index}`}\r\n                    name={item?.title}\r\n                    value={item?.handle}\r\n                    onChange={props.handleCheckOther}\r\n                    checked={\r\n                      find(\r\n                        props.filterSelection,\r\n                        (i: any) => item?.handle == i?.value && i?.type == 'other',\r\n                      ) || false\r\n                    }\r\n                  />\r\n                  <span className=\"checkbox-button__control\"></span>\r\n                  <span className=\"checkbox-button__label\">{item?.title}</span>\r\n                </label>\r\n              ) : (\r\n                ''\r\n              ),\r\n            )}\r\n          </div>\r\n          {/* <>\r\n            <h3\r\n              style={{ marginTop: 32 }}\r\n              onClick={() => activeRowMobile('other')}\r\n              className={`flex-icon ${dataOther.length == 0 ? 'd-none' : ''}`}\r\n            >\r\n              Other <i className=\"gg-chevron-down\" />\r\n            </h3>\r\n            <div\r\n              className={`${\r\n                toogleRow.id == 'other' && toogleRow.isActive == true ? 'active-child' : ''\r\n              }`}\r\n            >\r\n              {map(dataOther, (item: any, index: number) => (\r\n                <label className=\"checkbox-button\" key={index}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"checkbox-button__input\"\r\n                    id={`choice1-${index}`}\r\n                    name={item?.title}\r\n                    value={item?.handle}\r\n                    onChange={props.handleCheckOther}\r\n                    checked={\r\n                      find(\r\n                        props.filterSelection,\r\n                        (i: any) => item?.handle == i?.value && i?.type == 'other',\r\n                      ) || false\r\n                    }\r\n                  />\r\n                  <span className=\"checkbox-button__control\"></span>\r\n                  <span className=\"checkbox-button__label\">{item?.title}</span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </> */}\r\n        </div>\r\n        {props?.dataScents && props?.isPerfume ? (\r\n          <div className=\"order\">\r\n            <h3 onClick={() => activeRowMobile('scent')} className=\"flex-icon\">\r\n              SCENT FAMILY <i className=\"gg-chevron-down\" />\r\n            </h3>\r\n            <div\r\n              className={`wrapper-scent ${\r\n                toogleRow.id == 'scent' && toogleRow.isActive == true ? 'active-child' : ''\r\n              }`}\r\n            >\r\n              {map(props?.dataScents, (item, index) => (\r\n                <label className=\"checkbox-button\" key={index}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"checkbox-button__input\"\r\n                    id={`choice1-${index}`}\r\n                    name={item?.name}\r\n                    value={item?.id ? item?.id : ''}\r\n                    onChange={props.handleCheckScent}\r\n                    checked={\r\n                      find(\r\n                        props.filterSelection,\r\n                        (i: any) => item?.id == i?.value && i?.type == 'scent',\r\n                      ) || false\r\n                    }\r\n                  />\r\n                  <span className=\"checkbox-button__control\"></span>\r\n                  <span className=\"checkbox-button__label\">{item?.name}</span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          ''\r\n        )}\r\n        {props?.dataBrands ? (\r\n          <div className=\"order brand-filter\">\r\n            <h3 onClick={() => activeRowMobile('brand')} className=\"flex-icon\">\r\n              Brands <i className=\"gg-chevron-down\" />\r\n            </h3>\r\n            <div\r\n              className={`wrapper-alpha-box ${\r\n                toogleRow.id == 'brand' && toogleRow.isActive == true ? 'active-child' : ''\r\n              }`}\r\n            >\r\n              {resultGroupObjectAlphabet\r\n                .sort((a: any, b: any) => a.group.localeCompare(b.group))\r\n                .map((item: any, index: any) => (\r\n                  <div className=\"alpha-box\" key={index}>\r\n                    <label>{item?.group}</label>\r\n                    <div className=\"check-box-group\">\r\n                      {map(item.children, (i, index) => (\r\n                        <label className=\"checkbox-button\" key={index}>\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            className=\"checkbox-button__input\"\r\n                            id={`choice1-${index}`}\r\n                            name={i?.name}\r\n                            value={i?.id ? i?.id : ''}\r\n                            onChange={props.handleCheckBrand}\r\n                            checked={\r\n                              find(props.filterSelection, (item: any) => {\r\n                                return item?.value == i?.id && item?.type == 'brands';\r\n                              }) || false\r\n                            }\r\n                          />\r\n                          <span className=\"checkbox-button__control\"></span>\r\n                          <span className=\"checkbox-button__label\">{i?.name}</span>\r\n                        </label>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n            </div>\r\n            {/* <div className=\"alpha-box\">\r\n              <label>A</label>\r\n              <div className=\"check-box-group\">\r\n                <label className=\"checkbox-button\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"checkbox-button__input\"\r\n                    id=\"choice1-1\"\r\n                    name=\"choice1\"\r\n                  />\r\n                  <span className=\"checkbox-button__control\"></span>\r\n                  <span className=\"checkbox-button__label\">Wish listed</span>\r\n                </label>\r\n                <label className=\"checkbox-button\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"checkbox-button__input\"\r\n                    id=\"choice1-1\"\r\n                    name=\"choice1\"\r\n                  />\r\n                  <span className=\"checkbox-button__control\"></span>\r\n                  <span className=\"checkbox-button__label\">Wish listed</span>\r\n                </label>\r\n                <label className=\"checkbox-button\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"checkbox-button__input\"\r\n                    id=\"choice1-1\"\r\n                    name=\"choice1\"\r\n                  />\r\n                  <span className=\"checkbox-button__control\"></span>\r\n                  <span className=\"checkbox-button__label\">Wish listed</span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n            <div className=\"alpha-box\">\r\n              <label>B</label>\r\n              <div className=\"check-box-group\">\r\n                <label className=\"checkbox-button\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"checkbox-button__input\"\r\n                    id=\"choice1-1\"\r\n                    name=\"choice1\"\r\n                  />\r\n                  <span className=\"checkbox-button__control\"></span>\r\n                  <span className=\"checkbox-button__label\">Wish listed</span>\r\n                </label>\r\n                <label className=\"checkbox-button\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"checkbox-button__input\"\r\n                    id=\"choice1-1\"\r\n                    name=\"choice1\"\r\n                  />\r\n                  <span className=\"checkbox-button__control\"></span>\r\n                  <span className=\"checkbox-button__label\">Wish listed</span>\r\n                </label>\r\n                <label className=\"checkbox-button\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"checkbox-button__input\"\r\n                    id=\"choice1-1\"\r\n                    name=\"choice1\"\r\n                  />\r\n                  <span className=\"checkbox-button__control\"></span>\r\n                  <span className=\"checkbox-button__label\">Wish listed</span>\r\n                </label>\r\n              </div>\r\n            </div> */}\r\n          </div>\r\n        ) : (\r\n          ''\r\n        )}\r\n        {props?.dataTags && false ? (\r\n          <div className=\"order\">\r\n            <h3 onClick={() => activeRowMobile('tags')} className=\"flex-icon\">\r\n              Tags <i className=\"gg-chevron-down\" />\r\n            </h3>\r\n            <div\r\n              className={`wrapper-scent ${\r\n                toogleRow.id == 'tags' ||\r\n                (toogleRow.id == 'tags_and' && toogleRow.isActive == true)\r\n                  ? 'active-child'\r\n                  : ''\r\n              }`}\r\n            >\r\n              {map(props?.dataTags, (item, index) => (\r\n                <label className=\"checkbox-button\" key={index}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"checkbox-button__input\"\r\n                    id={`choicetags-${index}`}\r\n                    name={item?.name}\r\n                    value={item?.slug ? item?.slug : ''}\r\n                    onChange={props.handleCheckTags}\r\n                    checked={\r\n                      find(\r\n                        props.filterSelection,\r\n                        (i: any) =>\r\n                          (item?.slug == i?.value && i?.type == 'tags') ||\r\n                          (item?.slug == i?.value && i?.type == 'tags_and'),\r\n                      ) || false\r\n                    }\r\n                  />\r\n                  <span className=\"checkbox-button__control\"></span>\r\n                  <span className=\"checkbox-button__label\">{item?.name}</span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          ''\r\n        )}\r\n\r\n        {isMobile ? (\r\n          <div className=\"btn-group-mobile\">\r\n            <button onClick={clearFilterMobile}>Reset filters</button>\r\n            <button onClick={closeFilterBox}>Show results</button>\r\n          </div>\r\n        ) : (\r\n          ''\r\n        )}\r\n        {/* <div className=\"order\">\r\n          <h3>Brands</h3>\r\n          <div className=\"alpha-box\">\r\n            <label>A</label>\r\n            <div className=\"check-box-group\">\r\n              <label className=\"checkbox-button\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"checkbox-button__input\"\r\n                  id=\"choice1-1\"\r\n                  name=\"choice1\"\r\n                />\r\n                <span className=\"checkbox-button__control\"></span>\r\n                <span className=\"checkbox-button__label\">Wish listed</span>\r\n              </label>\r\n              <label className=\"checkbox-button\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"checkbox-button__input\"\r\n                  id=\"choice1-1\"\r\n                  name=\"choice1\"\r\n                />\r\n                <span className=\"checkbox-button__control\"></span>\r\n                <span className=\"checkbox-button__label\">Wish listed</span>\r\n              </label>\r\n              <label className=\"checkbox-button\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"checkbox-button__input\"\r\n                  id=\"choice1-1\"\r\n                  name=\"choice1\"\r\n                />\r\n                <span className=\"checkbox-button__control\"></span>\r\n                <span className=\"checkbox-button__label\">Wish listed</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div className=\"alpha-box\">\r\n            <label>B</label>\r\n            <div className=\"check-box-group\">\r\n              <label className=\"checkbox-button\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"checkbox-button__input\"\r\n                  id=\"choice1-1\"\r\n                  name=\"choice1\"\r\n                />\r\n                <span className=\"checkbox-button__control\"></span>\r\n                <span className=\"checkbox-button__label\">Wish listed</span>\r\n              </label>\r\n              <label className=\"checkbox-button\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"checkbox-button__input\"\r\n                  id=\"choice1-1\"\r\n                  name=\"choice1\"\r\n                />\r\n                <span className=\"checkbox-button__control\"></span>\r\n                <span className=\"checkbox-button__label\">Wish listed</span>\r\n              </label>\r\n              <label className=\"checkbox-button\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"checkbox-button__input\"\r\n                  id=\"choice1-1\"\r\n                  name=\"choice1\"\r\n                />\r\n                <span className=\"checkbox-button__control\"></span>\r\n                <span className=\"checkbox-button__label\">Wish listed</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div> */}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default memo(FilterProductBox);\r\n","function rgbToHex(r, g, b) {\r\n  function componentToHex(c) {\r\n    var hex = c.toString(16);\r\n    return hex.length == 1 ? '0' + hex : hex;\r\n  }\r\n\r\n  return '#' + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n}\r\n\r\nfunction hexToRgb(hex) {\r\n  // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\r\n  const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n  hex = hex.replace(shorthandRegex, (m, r, g, b) => {\r\n    return r + r + g + g + b + b;\r\n  });\r\n\r\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  return result\r\n    ? [parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)]\r\n    : null;\r\n}\r\n\r\nclass Color {\r\n  constructor(r, g, b) {\r\n    this.set(r, g, b);\r\n  }\r\n\r\n  toRgb() {\r\n    return `rgb(${Math.round(this.r)}, ${Math.round(this.g)}, ${Math.round(this.b)})`;\r\n  }\r\n\r\n  toHex() {\r\n    return rgbToHex(Math.round(this.r), Math.round(this.g), Math.round(this.b));\r\n  }\r\n\r\n  set(r, g, b) {\r\n    this.r = this.clamp(r);\r\n    this.g = this.clamp(g);\r\n    this.b = this.clamp(b);\r\n  }\r\n\r\n  hueRotate(angle = 0) {\r\n    angle = (angle / 180) * Math.PI;\r\n    const sin = Math.sin(angle);\r\n    const cos = Math.cos(angle);\r\n\r\n    this.multiply([\r\n      0.213 + cos * 0.787 - sin * 0.213,\r\n      0.715 - cos * 0.715 - sin * 0.715,\r\n      0.072 - cos * 0.072 + sin * 0.928,\r\n      0.213 - cos * 0.213 + sin * 0.143,\r\n      0.715 + cos * 0.285 + sin * 0.14,\r\n      0.072 - cos * 0.072 - sin * 0.283,\r\n      0.213 - cos * 0.213 - sin * 0.787,\r\n      0.715 - cos * 0.715 + sin * 0.715,\r\n      0.072 + cos * 0.928 + sin * 0.072,\r\n    ]);\r\n  }\r\n\r\n  grayscale(value = 1) {\r\n    this.multiply([\r\n      0.2126 + 0.7874 * (1 - value),\r\n      0.7152 - 0.7152 * (1 - value),\r\n      0.0722 - 0.0722 * (1 - value),\r\n      0.2126 - 0.2126 * (1 - value),\r\n      0.7152 + 0.2848 * (1 - value),\r\n      0.0722 - 0.0722 * (1 - value),\r\n      0.2126 - 0.2126 * (1 - value),\r\n      0.7152 - 0.7152 * (1 - value),\r\n      0.0722 + 0.9278 * (1 - value),\r\n    ]);\r\n  }\r\n\r\n  sepia(value = 1) {\r\n    this.multiply([\r\n      0.393 + 0.607 * (1 - value),\r\n      0.769 - 0.769 * (1 - value),\r\n      0.189 - 0.189 * (1 - value),\r\n      0.349 - 0.349 * (1 - value),\r\n      0.686 + 0.314 * (1 - value),\r\n      0.168 - 0.168 * (1 - value),\r\n      0.272 - 0.272 * (1 - value),\r\n      0.534 - 0.534 * (1 - value),\r\n      0.131 + 0.869 * (1 - value),\r\n    ]);\r\n  }\r\n\r\n  saturate(value = 1) {\r\n    this.multiply([\r\n      0.213 + 0.787 * value,\r\n      0.715 - 0.715 * value,\r\n      0.072 - 0.072 * value,\r\n      0.213 - 0.213 * value,\r\n      0.715 + 0.285 * value,\r\n      0.072 - 0.072 * value,\r\n      0.213 - 0.213 * value,\r\n      0.715 - 0.715 * value,\r\n      0.072 + 0.928 * value,\r\n    ]);\r\n  }\r\n\r\n  multiply(matrix) {\r\n    const newR = this.clamp(this.r * matrix[0] + this.g * matrix[1] + this.b * matrix[2]);\r\n    const newG = this.clamp(this.r * matrix[3] + this.g * matrix[4] + this.b * matrix[5]);\r\n    const newB = this.clamp(this.r * matrix[6] + this.g * matrix[7] + this.b * matrix[8]);\r\n    this.r = newR;\r\n    this.g = newG;\r\n    this.b = newB;\r\n  }\r\n\r\n  brightness(value = 1) {\r\n    this.linear(value);\r\n  }\r\n  contrast(value = 1) {\r\n    this.linear(value, -(0.5 * value) + 0.5);\r\n  }\r\n\r\n  linear(slope = 1, intercept = 0) {\r\n    this.r = this.clamp(this.r * slope + intercept * 255);\r\n    this.g = this.clamp(this.g * slope + intercept * 255);\r\n    this.b = this.clamp(this.b * slope + intercept * 255);\r\n  }\r\n\r\n  invert(value = 1) {\r\n    this.r = this.clamp((value + (this.r / 255) * (1 - 2 * value)) * 255);\r\n    this.g = this.clamp((value + (this.g / 255) * (1 - 2 * value)) * 255);\r\n    this.b = this.clamp((value + (this.b / 255) * (1 - 2 * value)) * 255);\r\n  }\r\n\r\n  hsl() {\r\n    // Code taken from https://stackoverflow.com/a/9493060/2688027, licensed under CC BY-SA.\r\n    const r = this.r / 255;\r\n    const g = this.g / 255;\r\n    const b = this.b / 255;\r\n    const max = Math.max(r, g, b);\r\n    const min = Math.min(r, g, b);\r\n    let h,\r\n      s,\r\n      l = (max + min) / 2;\r\n\r\n    if (max === min) {\r\n      h = s = 0;\r\n    } else {\r\n      const d = max - min;\r\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n      switch (max) {\r\n        case r:\r\n          h = (g - b) / d + (g < b ? 6 : 0);\r\n          break;\r\n\r\n        case g:\r\n          h = (b - r) / d + 2;\r\n          break;\r\n\r\n        case b:\r\n          h = (r - g) / d + 4;\r\n          break;\r\n      }\r\n      h /= 6;\r\n    }\r\n\r\n    return {\r\n      h: h * 100,\r\n      s: s * 100,\r\n      l: l * 100,\r\n    };\r\n  }\r\n\r\n  clamp(value) {\r\n    if (value > 255) {\r\n      value = 255;\r\n    } else if (value < 0) {\r\n      value = 0;\r\n    }\r\n    return value;\r\n  }\r\n}\r\n\r\nclass Solver {\r\n  constructor(target) {\r\n    this.target = target;\r\n    this.targetHSL = target.hsl();\r\n    this.reusedColor = new Color(0, 0, 0);\r\n  }\r\n\r\n  solve() {\r\n    const result = this.solveNarrow(this.solveWide());\r\n    return {\r\n      values: result.values,\r\n      loss: result.loss,\r\n      filter: this.css(result.values),\r\n      filterRaw: this.raw(result.values),\r\n    };\r\n  }\r\n\r\n  solveWide() {\r\n    const A = 5;\r\n    const c = 15;\r\n    const a = [60, 180, 18000, 600, 1.2, 1.2];\r\n\r\n    let best = { loss: Infinity };\r\n    for (let i = 0; best.loss > 25 && i < 3; i++) {\r\n      const initial = [50, 20, 3750, 50, 100, 100];\r\n      const result = this.spsa(A, a, c, initial, 1000);\r\n      if (result.loss < best.loss) {\r\n        best = result;\r\n      }\r\n    }\r\n    return best;\r\n  }\r\n\r\n  solveNarrow(wide) {\r\n    const A = wide.loss;\r\n    const c = 2;\r\n    const A1 = A + 1;\r\n    const a = [0.25 * A1, 0.25 * A1, A1, 0.25 * A1, 0.2 * A1, 0.2 * A1];\r\n    return this.spsa(A, a, c, wide.values, 500);\r\n  }\r\n\r\n  spsa(A, a, c, values, iters) {\r\n    const alpha = 1;\r\n    const gamma = 0.16666666666666666;\r\n\r\n    let best = null;\r\n    let bestLoss = Infinity;\r\n    const deltas = new Array(6);\r\n    const highArgs = new Array(6);\r\n    const lowArgs = new Array(6);\r\n\r\n    for (let k = 0; k < iters; k++) {\r\n      const ck = c / Math.pow(k + 1, gamma);\r\n      for (let i = 0; i < 6; i++) {\r\n        deltas[i] = Math.random() > 0.5 ? 1 : -1;\r\n        highArgs[i] = values[i] + ck * deltas[i];\r\n        lowArgs[i] = values[i] - ck * deltas[i];\r\n      }\r\n\r\n      const lossDiff = this.loss(highArgs) - this.loss(lowArgs);\r\n      for (let i = 0; i < 6; i++) {\r\n        const g = (lossDiff / (2 * ck)) * deltas[i];\r\n        const ak = a[i] / Math.pow(A + k + 1, alpha);\r\n        values[i] = fix(values[i] - ak * g, i);\r\n      }\r\n\r\n      const loss = this.loss(values);\r\n      if (loss < bestLoss) {\r\n        best = values.slice(0);\r\n        bestLoss = loss;\r\n      }\r\n    }\r\n    return { values: best, loss: bestLoss };\r\n\r\n    function fix(value, idx) {\r\n      let max = 100;\r\n      if (idx === 2 /* saturate */) {\r\n        max = 7500;\r\n      } else if (idx === 4 /* brightness */ || idx === 5 /* contrast */) {\r\n        max = 200;\r\n      }\r\n\r\n      if (idx === 3 /* hue-rotate */) {\r\n        if (value > max) {\r\n          value %= max;\r\n        } else if (value < 0) {\r\n          value = max + (value % max);\r\n        }\r\n      } else if (value < 0) {\r\n        value = 0;\r\n      } else if (value > max) {\r\n        value = max;\r\n      }\r\n      return value;\r\n    }\r\n  }\r\n\r\n  loss(filters) {\r\n    // Argument is array of percentages.\r\n    const color = this.reusedColor;\r\n    color.set(0, 0, 0);\r\n\r\n    color.invert(filters[0] / 100);\r\n    color.sepia(filters[1] / 100);\r\n    color.saturate(filters[2] / 100);\r\n    color.hueRotate(filters[3] * 3.6);\r\n    color.brightness(filters[4] / 100);\r\n    color.contrast(filters[5] / 100);\r\n\r\n    const colorHSL = color.hsl();\r\n    return (\r\n      Math.abs(color.r - this.target.r) +\r\n      Math.abs(color.g - this.target.g) +\r\n      Math.abs(color.b - this.target.b) +\r\n      Math.abs(colorHSL.h - this.targetHSL.h) +\r\n      Math.abs(colorHSL.s - this.targetHSL.s) +\r\n      Math.abs(colorHSL.l - this.targetHSL.l)\r\n    );\r\n  }\r\n\r\n  raw(filters) {\r\n    function fmt(idx, multiplier = 1) {\r\n      return Math.round(filters[idx] * multiplier);\r\n    }\r\n    return `brightness(0) saturate(100%) invert(${fmt(0)}%) sepia(${fmt(1)}%) saturate(${fmt(\r\n      2,\r\n    )}%) hue-rotate(${fmt(3, 3.6)}deg) brightness(${fmt(4)}%) contrast(${fmt(5)}%)`;\r\n  }\r\n\r\n  css(filters) {\r\n    function fmt(idx, multiplier = 1) {\r\n      return Math.round(filters[idx] * multiplier);\r\n    }\r\n    return `filter: brightness(0) saturate(100%) invert(${fmt(0)}%) sepia(${fmt(\r\n      1,\r\n    )}%) saturate(${fmt(2)}%) hue-rotate(${fmt(3, 3.6)}deg) brightness(${fmt(\r\n      4,\r\n    )}%) contrast(${fmt(5)}%);`;\r\n  }\r\n}\r\n\r\nexport function compute(input) {\r\n  const rgb = hexToRgb(input);\r\n\r\n  if (rgb?.length !== 3) {\r\n    return;\r\n  }\r\n\r\n  const color = new Color(rgb[0], rgb[1], rgb[2]);\r\n  const solver = new Solver(color);\r\n  const result = solver.solve();\r\n  return result;\r\n}\r\n\r\nexport function validateColor(color) {\r\n  const HEXColorRegExp = /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;\r\n  const isValid = HEXColorRegExp.test(color);\r\n\r\n  if (isValid) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n","import { compute, validateColor } from './colorCodeToFilter';\r\n\r\nexport const setColorHeaderIcons = (color: any) => {\r\n  if (!validateColor(color)) {\r\n    color = '';\r\n  }\r\n  const headerIcons: any = document.querySelector(`.menu-header .banner-item`);\r\n  headerIcons?.style.setProperty('background-color', color, 'important');\r\n};\r\n\r\nexport const setColorSearchBox = (color: any) => {\r\n  if (!validateColor(color)) {\r\n    color = '';\r\n  }\r\n  const searchBox: any = document.querySelectorAll(`.search-box input`);\r\n  searchBox?.forEach((e: any) => {\r\n    e?.style.setProperty('--c', color);\r\n  });\r\n};\r\n\r\nexport const setColorCartBadge = (color: any) => {\r\n  if (!validateColor(color)) {\r\n    color = '';\r\n  }\r\n  const cartBadge: any = document.querySelectorAll(`.icon-bag .badge`);\r\n  cartBadge?.forEach((e: any) => {\r\n    e?.style.setProperty('background-color', color, 'important');\r\n  });\r\n};\r\n\r\nexport const setColorFooter = (color: any, borderColor: any) => {\r\n  if (!validateColor(color)) {\r\n    color = '';\r\n  }\r\n  const footer: any = document.querySelector(`FOOTER.blk-footer`);\r\n  footer?.style.setProperty('background-color', color, 'important');\r\n  if (borderColor) {\r\n    if (!validateColor(borderColor)) {\r\n      borderColor = '';\r\n    }\r\n    footer?.style.setProperty('border-top-color', borderColor, 'important');\r\n  }\r\n};\r\n\r\nexport const setColorBlkIcons = (color: any) => {\r\n  if (!validateColor(color)) {\r\n    color = '';\r\n  }\r\n  const blkIcons: any = document.querySelector(`.main-content .blk-icon`);\r\n  blkIcons?.style.setProperty('background-color', color, 'important');\r\n};\r\n\r\nexport const setColorBreadcrumbBlkIcons = (color: any) => {\r\n  if (!validateColor(color)) {\r\n    color = '';\r\n  }\r\n  const blkIcons: any = document.querySelectorAll(`.wrapper-breadcrumb .blk-icon ul li`);\r\n  blkIcons?.forEach((e: any) => {\r\n    e?.style.setProperty('color', color, 'important');\r\n    e?.style.setProperty('border-color', color, 'important');\r\n    e.querySelector('img')?.style.setProperty(\r\n      'filter',\r\n      compute(color)?.filterRaw,\r\n      'important',\r\n    );\r\n  });\r\n};\r\n\r\nexport const setColorResetFilterButton = (color: any) => {\r\n  if (!validateColor(color)) {\r\n    color = '';\r\n  }\r\n  const button: any = document.querySelector(`.filter-box .btn-clear`);\r\n  button?.style.setProperty('color', color, 'important');\r\n};\r\n\r\nexport const setColorResultFilterBox = (color: any) => {\r\n  if (!validateColor(color)) {\r\n    color = '';\r\n  }\r\n  const filterBoxs: any = document.querySelectorAll(`.filter-box .result-filter-box ul li`);\r\n  filterBoxs?.forEach((e: any) => {\r\n    e?.querySelector('span')?.style.setProperty('color', color, 'important');\r\n    e?.style.setProperty('border-color', color, 'important');\r\n    e?.querySelector('.gg-close')?.style.setProperty('color', color, 'important');\r\n  });\r\n};\r\n\r\nexport const setColorWrapperFilterBox = (color: any, foregroundColor: any) => {\r\n  if (!validateColor(color)) {\r\n    color = '';\r\n  }\r\n  const wrapper: any = document.querySelector(`.wrapper-filter-box`);\r\n  wrapper?.style.setProperty('background-color', color, 'important');\r\n\r\n  if (!validateColor(foregroundColor)) {\r\n    foregroundColor = '';\r\n  }\r\n  wrapper?.querySelectorAll('div')?.forEach((e: any) => {\r\n    e?.style.setProperty('border-bottom-color', foregroundColor, 'important');\r\n  });\r\n};\r\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"react-iframe-form\"] = factory();\n\telse\n\t\troot[\"react-iframe-form\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./src/AsyncForm.tsx\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.AsyncForm = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _react = __webpack_require__(\"react\");\n\nvar React = _interopRequireWildcard(_react);\n\nvar _Form = __webpack_require__(\"./src/Form.tsx\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar AsyncForm = exports.AsyncForm = React.memo(function (_ref) {\n    var fetchConfig = _ref.fetchConfig,\n        name = _ref.name;\n\n    var _React$useState = React.useState(),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        config = _React$useState2[0],\n        setConfig = _React$useState2[1];\n\n    React.useEffect(function () {\n        setConfig(undefined);\n        fetchConfig().then(setConfig);\n    }, [fetchConfig, setConfig]);\n    if (!config) {\n        return null;\n    }\n    return React.createElement(_Form.Form, { name: name, config: config });\n});\nAsyncForm.displayName = \"AsyncIFrameForm\";\n\n/***/ }),\n\n/***/ \"./src/Form.tsx\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Form = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _react = __webpack_require__(\"react\");\n\nvar React = _interopRequireWildcard(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar Form = exports.Form = React.memo(function (_ref) {\n    var config = _ref.config,\n        name = _ref.name;\n\n    var _React$useState = React.useState(false),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        isSent = _React$useState2[0],\n        setIsSent = _React$useState2[1];\n\n    var submitOnMount = React.useCallback(function (form) {\n        if (!form) {\n            return;\n        }\n        form.submit();\n        setIsSent(true);\n    }, [setIsSent]);\n    return React.createElement(React.Fragment, null, React.createElement(\"iframe\", { name: name }), !isSent && React.createElement(\"form\", { target: name, action: config.url, method: config.method, ref: submitOnMount }, Object.keys(config.data).map(function (key) {\n        return React.createElement(\"input\", { type: \"hidden\", name: key, key: key, value: \"string\" === typeof config.data[key] ? config.data[key] : JSON.stringify(config.data[key]) });\n    })));\n});\nForm.displayName = \"IFrameForm\";\n\n/***/ }),\n\n/***/ \"./src/index.ts\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _AsyncForm = __webpack_require__(\"./src/AsyncForm.tsx\");\n\nObject.keys(_AsyncForm).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _AsyncForm[key];\n    }\n  });\n});\n\nvar _Form = __webpack_require__(\"./src/Form.tsx\");\n\nObject.keys(_Form).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Form[key];\n    }\n  });\n});\n\n/***/ }),\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(\"./src/index.ts\");\n\n\n/***/ }),\n\n/***/ \"react\":\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"react\");\n\n/***/ })\n\n/******/ });\n});","import React, { memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { map, reduce } from 'lodash';\r\n\r\nconst alphabet = [\r\n  '#',\r\n  'A',\r\n  'B',\r\n  'C',\r\n  'D',\r\n  'E',\r\n  'F',\r\n  'G',\r\n  'H',\r\n  'I',\r\n  'J',\r\n  'K',\r\n  'L',\r\n  'M',\r\n  'N',\r\n  'O',\r\n  'P',\r\n  'Q',\r\n  'R',\r\n  'S',\r\n  'T',\r\n  'U',\r\n  'V',\r\n  'W',\r\n  'X',\r\n  'Y',\r\n  'Z',\r\n];\r\n\r\nfunction BlockAllBrands({ data }: { data: any }) {\r\n  const brands = reduce(\r\n    data.brands,\r\n    (r: any, e: any) => {\r\n      // get first letter of name of current element\r\n      let group = e.name[0];\r\n      if (group == '#' || (group != '#' && alphabet.indexOf(group) == -1)) {\r\n        group = '#';\r\n      }\r\n\r\n      // if there is no property in accumulator with this letter create it\r\n      if (!r[group]) r[group] = { group, children: [e] };\r\n      // if there is push current element to children array for that letter\r\n      else r[group].children.push(e);\r\n      // return accumulator\r\n      return r;\r\n    },\r\n    {},\r\n  );\r\n  const resultGroupBrandsAlphabet = Object.values(brands);\r\n  return (\r\n    <>\r\n      <section className=\"blk-all-brands container\">\r\n        <div className=\"box-title\">\r\n          <p>{data?.headline}</p>\r\n        </div>\r\n        <div className=\"box-alplabet\">\r\n          {map(alphabet, (i: any, index: number) => (\r\n            <div key={index} className=\"box-alplabet__detail\">\r\n              <a href={`#${i}`}>{i}</a>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"box-all-brands\">\r\n          {resultGroupBrandsAlphabet\r\n            .sort((a: any, b: any) => a.group.localeCompare(b.group))\r\n            .map((item: any, index: any) => (\r\n              <div id={item.group} key={index} className=\"box-all-brands__detail\">\r\n                <span>{item.group}</span>\r\n                <ul>\r\n                  {map(item.children, (i: any) => (\r\n                    <li>\r\n                      <a\r\n                        className={`${i?.brand_page?.relative_url ? '' : 'un-active'}`}\r\n                        href={i?.brand_page?.relative_url}\r\n                        dangerouslySetInnerHTML={{ __html: i.name }}\r\n                      ></a>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\nBlockAllBrands.propTypes = {\r\n  data: PropTypes.object,\r\n};\r\n\r\nexport default memo(BlockAllBrands);\r\n"],"sourceRoot":""}