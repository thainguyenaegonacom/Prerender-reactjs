{"version":3,"sources":["components/CheckoutForm/Step1.tsx","images/icons/cash-on-pickup.svg","images/icons/master-card.svg","images/icons/visa-card.svg","images/icons/Bkash.png","components/SSLCommerzVerify/index.tsx","images/sslcommerz.png","components/CheckoutForm/Step3.tsx","components/CheckoutForm/Step2.tsx","components/CheckoutForm/index.tsx","containers/CheckoutPage/index.tsx","components/ProductBag/EmptyBag.tsx"],"names":["Step1","props","currentStep","stateUser","useSelector","state","userReducer","useState","validEmail","setValidEmail","canToggle","setCanToggle","menuOpen","setMenuOpen","isInit","setIsInit","email","username","password","phone","firstName","lastName","birthday","validateForm","setValidateForm","islogged","localStorage","getItem","checkValidEmail","validCheckPhone","validatePhone","data","trim","validCheckEmail","validateEmail","options","url","POST_CHECK_VALID_EMAIL","method","body","toLowerCase","fetchClient","then","res","success","isError","handleEmailPhoneChange","checkValidPassword","length","checkValidPhone","a","formatPhoneNumber","PHONE_CONTACT","checkValidFirstName","checkValidLastName","checkValidForm","validPassword","validFirstName","validLastName","validPhone","checkValidFormRegisterGuest","checkValidPhoneGuest","validateEmailGuest","undefined","handleLoginRegister","event","preventDefault","handleLogin","resetForm","handleRegister","handleRegisterGuest","useEffect","history","useHistory","className","style","cursor","user","onClick","userInfo","guest","AdaptiveInput","type","for","name","label","value","handleChange","validate","validateContent","handleBlurInput","loginRequestStatus","inProgress","transform","bottom","left","new_register","renderVerificationError","htmlFor","fontWeight","placeholder","required","searchable","labelField","onChange","e","handleChangeSelect","valueField","id","multi","values","error","email_verified","exists","flexWrap","push","width","border","disabled","memo","SSLCommerzVerify","src","alt","Step3","isCashOnDelivery","setIsCashOnDelivery","productState","productReducer","payment","margin","textAlign","lineHeight","loading","confirmAddress","padding","display","justifyContent","alignItems","checked","placeOrderForm","address_id","product","cash_on_delivery","codIC","store_location_id","masterCardIC","visaCardIC","Bkash","marginTop","company_name","Step2","isBillingAddress","setIsBillingAddress","dispatch","useDispatch","productReduceer","selectedAddressId","selectedAddressBillingId","address_billing_id","GET_LOCATION","catch","err","console","log","action","setLoading","prev","actionsProduct","multi_card_name","setCheckoutForm","toogleShowStep2","isShowStep2","isMobile","Map","google","center","lat","lng","height","zoom","confirmAddressStep","isCheckoutForm","fromCheckOut","target","marginBottom","confirmAddressBillingStep","CheckoutForm","register","continueAsGuest","first_name","last_name","confirm_password","setUserInfo","gender","deliveryType","addressInfo","checkoutForm","addressStore","setAddressStore","currentTarget","handleLoading","key","GET_USER_INFO","fetchDataInfoUser","onSubmit","draft_order_id","customer","password_confirmation","note","withTimeout","keyName","toLower","handleSelectAddress","handleDeleteDiscountAndShippingAddress","addressBillingInfo","CheckoutPage","stateProduct","dataNav","setDataNav","dataFooter","setDataFooter","applied_discount","title","discountCode","setDiscountCode","loadingDiscount","setLoadingDiscount","dataSundoraVIP","setDataSundoraVIP","discountCodeAdded","setDiscountCodeAdded","termsAgreed","setTermsAgreed","fetchDataInit","slug","match","params","isEmpty","optionsVoucher","GET_VOUCHER","toaster","pending","fetchCMSHomepage","Promise","all","results","cmsData","dataDynamicLinks","get","navigation","footer","GET_SUNDORA_VIP","handleDeleteDiscount","PUT_DISCOUNT_CODE","setLineItems","line_items","checkoutProductSuccess","voucher","discount","voucher_id","handleSubmitVoucher","loadingPlaceOrder","setLoadingPlaceOrder","Loader","property","content","borderRight","draftOrder","dcFreeShipping","find","note_attributes","i","optionsRemoveShippingAddress","ProductList","DeleteCheckoutProduct","variantID","dataFilter","filter","lineItems","variant_id","dataFilterVariantRemove","removeProductFromCart","actionProduct","discountType","offerData","variants_recommendation","EmptyBag","item","code","_","actionHome","toastrError","message","discount_code","subtotal_price","moneyFormater","parseInt","amount","subtotal_price_with_rebate","tax_lines","rate","total_tax","shipping_line","price","total_price","to","checkoutID","cash_on_pickup","user_id","PUT_PLACE_ORDER_CHECKOUT","order","beginCheckout","window","location","href","redirectGatewayURL","handleClickPlaceOrder","Footer","recommendationData","handleCloseShoppingBag","col"],"mappings":"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","file":"static/js/44.3b9ef3d3.chunk.js","sourcesContent":["import React, { memo, useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport AdaptiveInput from './AdaptiveInput';\r\nimport { RootStateOrAny, useSelector } from 'react-redux';\r\nimport { PHONE_CONTACT, POST_CHECK_VALID_EMAIL } from '../../config';\r\nimport {\r\n  fetchClient,\r\n  formatPhoneNumber,\r\n  validateEmail,\r\n  validatePhone,\r\n} from '../../redux/Helpers';\r\nimport Select from 'react-dropdown-select';\r\n\r\nfunction Step1(props: any) {\r\n  if (props.currentStep !== 1) {\r\n    return <></>;\r\n  }\r\n  const stateUser = useSelector((state: RootStateOrAny) => state.userReducer);\r\n  const [validEmail, setValidEmail] = useState<boolean>(true);\r\n  const [canToggle, setCanToggle] = useState<boolean>(false);\r\n  const [menuOpen, setMenuOpen] = useState<boolean>(true);\r\n  const [isInit, setIsInit] = useState<boolean>(true);\r\n  const [validateForm, setValidateForm] = useState<any>({\r\n    email: '',\r\n    username: '',\r\n    password: '',\r\n    phone: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    birthday: '',\r\n  });\r\n\r\n  const islogged = localStorage.getItem('sundoraToken');\r\n\r\n  const validateEmailGuest = () => {\r\n    const validCheckEmail = validateEmail(props.data.email.trim());\r\n\r\n    if (validCheckEmail == false) {\r\n      return `Please enter valid email`;\r\n    }\r\n  };\r\n\r\n  const checkValidEmail = () => {\r\n    // if (validEmail) {\r\n    // if (!props.data.email) {\r\n    //   return 'Please enter email';\r\n    // }\r\n    const validCheckPhone = validatePhone(props.data.email?.trim());\r\n    const validCheckEmail = validateEmail(props.data.email?.trim());\r\n\r\n    const options = {\r\n      url: POST_CHECK_VALID_EMAIL,\r\n      method: 'POST',\r\n      body: {\r\n        email: props.data.email.trim().toLowerCase().trim(),\r\n      },\r\n    };\r\n    fetchClient(options).then((res) => {\r\n      if (res.success) {\r\n        setValidEmail(true);\r\n      } else if (res.isError) {\r\n        setValidEmail(false);\r\n        if (!validCheckEmail && validCheckPhone) {\r\n          props.handleEmailPhoneChange('', props.data.email);\r\n        }\r\n      }\r\n    });\r\n    if (!validCheckEmail && !validCheckPhone) {\r\n      return `Please enter valid email or phone number`;\r\n    }\r\n    setIsInit(false);\r\n    // }\r\n  };\r\n\r\n  const checkValidPassword = () => {\r\n    if (!props.data.password || props.data?.password == '') {\r\n      return 'Please enter password';\r\n    }\r\n    const validPassword = props.data.password.length >= 8;\r\n\r\n    if (validPassword == false) {\r\n      return `Please enter a password of more than 8 characters`;\r\n    }\r\n  };\r\n\r\n  const checkValidPhoneGuest = () => {\r\n    if (!props.data.phone || props.data?.phone == '') {\r\n      return 'Please enter phone number';\r\n    }\r\n    const phone = formatPhoneNumber(props.data.phone);\r\n    const validPhone = validatePhone(phone);\r\n    if (validPhone == false) {\r\n      return `Error phone, Need help? Please call: ${PHONE_CONTACT}`;\r\n    }\r\n  };\r\n\r\n  const checkValidPhone = async () => {\r\n    if (!props.data.phone || props.data?.phone == '') {\r\n      return 'Please enter phone number';\r\n    }\r\n    const phone = formatPhoneNumber(props.data.phone);\r\n    const validPhone = validatePhone(phone);\r\n    if (validPhone == false) {\r\n      return `Error phone, Need help? Please call: ${PHONE_CONTACT}`;\r\n    }\r\n\r\n    const options = {\r\n      url: POST_CHECK_VALID_EMAIL,\r\n      method: 'POST',\r\n      body: {\r\n        email: phone,\r\n      },\r\n    };\r\n    try {\r\n      const response = await fetchClient(options);\r\n      if (response.success) {\r\n        return `Please choose another phone number`;\r\n      }\r\n    } catch (error) {\r\n      // console.log(error);\r\n    }\r\n  };\r\n\r\n  const checkValidFirstName = () => {\r\n    if (!props.data.firstName || props.data?.firstName == '') {\r\n      return 'Please enter first name';\r\n    }\r\n  };\r\n\r\n  const checkValidLastName = () => {\r\n    if (!props.data.lastName || props.data?.lastName == '') {\r\n      return 'Please enter last name';\r\n    }\r\n  };\r\n\r\n  const checkValidForm = async () => {\r\n    const validEmail = checkValidEmail();\r\n    const validPassword = checkValidPassword();\r\n    const validFirstName = checkValidFirstName();\r\n    const validLastName = checkValidLastName();\r\n    const validPhone = await checkValidPhone();\r\n    setValidateForm({\r\n      ...validateForm,\r\n      ...{\r\n        email: validEmail,\r\n        password: validPassword,\r\n        firstName: validFirstName,\r\n        lastName: validLastName,\r\n        phone: validPhone,\r\n      },\r\n    });\r\n\r\n    if (validEmail || validPassword || validFirstName || validLastName || validPhone) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const checkValidFormRegisterGuest = () => {\r\n    const validPhone = checkValidPhoneGuest();\r\n    const validFirstName = checkValidFirstName();\r\n    const validLastName = checkValidLastName();\r\n    const validEmail = validateEmailGuest();\r\n\r\n    let validPassword = undefined;\r\n    if (props.data.password != '') {\r\n      validPassword = checkValidPassword();\r\n    }\r\n\r\n    setValidateForm({\r\n      ...validateForm,\r\n      ...{\r\n        email: validEmail,\r\n        password: validPassword,\r\n        firstName: validFirstName,\r\n        lastName: validLastName,\r\n        phone: validPhone,\r\n      },\r\n    });\r\n\r\n    if (validEmail || validPassword || validFirstName || validLastName || validPhone) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleLoginRegister = async (event: any) => {\r\n    event.preventDefault();\r\n    if (validEmail) {\r\n      props.handleLogin(event);\r\n      return;\r\n    }\r\n\r\n    const valid = await checkValidForm();\r\n    if (valid) {\r\n      return false;\r\n    }\r\n\r\n    props.resetForm();\r\n    setValidEmail(true);\r\n    setIsInit(true);\r\n\r\n    props.handleRegister(event);\r\n  };\r\n\r\n  const handleRegisterGuest = async (event: any) => {\r\n    event.preventDefault();\r\n\r\n    const valid = await checkValidFormRegisterGuest();\r\n    if (valid) {\r\n      return false;\r\n    }\r\n    setMenuOpen(false);\r\n    props.handleRegisterGuest(event);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const guest = !!localStorage.getItem('sundora_guest_id');\r\n    if (guest) setCanToggle(true);\r\n    !props.data.email?.length\r\n      ? (() => {\r\n          setValidEmail(true);\r\n          setIsInit(true);\r\n        })()\r\n      : null;\r\n  }, []);\r\n\r\n  const history = useHistory();\r\n  const directForgotPassword = () => {\r\n    history.push('/forgot-password');\r\n  };\r\n\r\n  const renderLoginError = () => {\r\n    if (\r\n      validEmail &&\r\n      !stateUser.loginRequestStatus.inProgress &&\r\n      stateUser.loginRequestStatus.error\r\n    ) {\r\n      if (!stateUser.loginRequestStatus.email_verified && stateUser.loginRequestStatus.exists)\r\n        return (\r\n          <p className=\"err-login\">\r\n            Email not verified, new magic link has been sent to your email\r\n          </p>\r\n        );\r\n      else return <p className=\"err-login\">Wrong username or password</p>;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const renderVerificationError = () => {\r\n    if (stateUser?.loginRequestStatus?.new_register) {\r\n      return (\r\n        <p className=\"err-login\">A magic link has been sent to your email for verification</p>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <section className=\"form-step form-step-1\">\r\n      <h2\r\n        style={{ cursor: `${canToggle ? 'pointer' : ''}` }}\r\n        className={`title-form ${islogged || stateUser.user || !menuOpen ? 'logged' : ''}`}\r\n        onClick={() => canToggle && setMenuOpen((state) => !state)}\r\n      >\r\n        <span>\r\n          {islogged || stateUser.user || !menuOpen ? <i className=\"gg-check\"></i> : 1}\r\n        </span>\r\n        {props?.userInfo?.guest ? 'CONTINUE AS GUEST' : 'SIGN IN / GUEST INFO'}\r\n      </h2>\r\n      {islogged || stateUser.user || !menuOpen ? (\r\n        ''\r\n      ) : (\r\n        <>\r\n          <div className=\"form-group\">\r\n            <AdaptiveInput\r\n              type=\"text\"\r\n              for={'email'}\r\n              name={'email'}\r\n              label={`Enter email ${validEmail ? 'or phone' : ''}*`}\r\n              value={props.data.email}\r\n              handleChange={props.handleChange}\r\n              validate={true}\r\n              validateContent={validateForm.email}\r\n              handleBlurInput={checkValidEmail}\r\n            />\r\n          </div>\r\n          {stateUser?.loginRequestStatus?.inProgress ? (\r\n            <div\r\n              className=\"lds-roller\"\r\n              style={{ transform: 'scale(0.5)', bottom: '-5px', left: '-35px' }}\r\n            >\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n            </div>\r\n          ) : null}\r\n          {renderVerificationError()}\r\n          {/* {validEmail && !isInit ? (\r\n            <div className=\"form-group\">\r\n              <AdaptiveInput\r\n                type=\"text\"\r\n                for={'email'}\r\n                name={'email'}\r\n                label={'Enter email*'}\r\n                value={props.data.email}\r\n                handleChange={props.handleChange}\r\n                validate={true}\r\n                validateContent={validateForm.email}\r\n                handleBlurInput={checkValidEmail}\r\n              />\r\n            </div>\r\n          ) : null} */}\r\n\r\n          {/* <div className=\"form-group\">\r\n            {validEmail ? (\r\n              <label htmlFor=\"password\" className=\"animated faster fade-in\">\r\n                Enter your password to login\r\n              </label>\r\n            ) : (\r\n              <label htmlFor=\"password\" className=\"animated faster fade-in\">\r\n                Enter your password to register\r\n                <span style={{ fontWeight: 'bold' }}>(OPTIONAL)</span>\r\n              </label>\r\n            )}\r\n\r\n            <AdaptiveInput\r\n              type=\"password\"\r\n              for=\"password\"\r\n              name=\"password\"\r\n              label=\"Enter password\"\r\n              value={props.data.password}\r\n              validate={validEmail ? false : true}\r\n              validateContent={validateForm.password}\r\n              handleChange={props.handleChange}\r\n            />\r\n          </div> */}\r\n          {validEmail && !isInit ? (\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"password\" className=\"animated faster fade-in\">\r\n                Enter your password to login\r\n              </label>\r\n              <AdaptiveInput\r\n                type=\"password\"\r\n                for=\"password\"\r\n                name=\"password\"\r\n                label=\"Enter password\"\r\n                value={props.data.password}\r\n                validate={validEmail ? false : true}\r\n                validateContent={validateForm.password}\r\n                handleChange={props.handleChange}\r\n              />\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          )}\r\n\r\n          {!validEmail ? (\r\n            <>\r\n              <div className=\"form-group \">\r\n                <label htmlFor=\"password\" className=\"animated faster fade-in\">\r\n                  Enter your password to register\r\n                  <span style={{ fontWeight: 'bold' }}>(OPTIONAL)</span>\r\n                </label>\r\n                <AdaptiveInput\r\n                  type=\"password\"\r\n                  for=\"password\"\r\n                  name=\"password\"\r\n                  label=\"Enter password\"\r\n                  value={props.data.password}\r\n                  validate={validEmail ? false : true}\r\n                  validateContent={validateForm.password}\r\n                  handleChange={props.handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-group phone-input\">\r\n                <label htmlFor=\"phone\" className=\"animated faster fade-in\">\r\n                  Enter your phone number *\r\n                </label>\r\n                <AdaptiveInput\r\n                  type=\"text\"\r\n                  for=\"Phone number\"\r\n                  label=\"Phone number\"\r\n                  name=\"phone\"\r\n                  value={props.data.phone}\r\n                  validate={true}\r\n                  validateContent={validateForm.phone}\r\n                  handleChange={props.handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"first_name\" className=\"animated faster fade-in\">\r\n                  Enter your first name *\r\n                </label>\r\n                <AdaptiveInput\r\n                  type=\"text\"\r\n                  for=\"first_name\"\r\n                  name=\"firstName\"\r\n                  label=\"Enter first name\"\r\n                  value={props.data.firstName}\r\n                  validate={true}\r\n                  validateContent={validateForm.firstName}\r\n                  handleChange={props.handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"last_name\" className=\"animated faster fade-in\">\r\n                  Enter your last name *\r\n                </label>\r\n                <AdaptiveInput\r\n                  type=\"text\"\r\n                  for=\"last_name\"\r\n                  name=\"lastName\"\r\n                  label=\"Enter last name\"\r\n                  value={props.data.lastName}\r\n                  validate={true}\r\n                  validateContent={validateForm.lastName}\r\n                  handleChange={props.handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"last_name\" className=\"animated faster fade-in\">\r\n                  Enter your birthday\r\n                </label>\r\n                <AdaptiveInput\r\n                  type=\"date\"\r\n                  for=\"birthday\"\r\n                  name=\"birthday\"\r\n                  label=\"\"\r\n                  value={props.data.birthday}\r\n                  validate={true}\r\n                  validateContent={validateForm.birthday}\r\n                  handleChange={props.handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor={'gender'} className=\"text-help animated faster fade-in\">\r\n                  Enter gender\r\n                </label>\r\n                <Select\r\n                  placeholder=\"Select\"\r\n                  className=\"primary-select\"\r\n                  name=\"gender\"\r\n                  required={false}\r\n                  searchable={false}\r\n                  labelField=\"name\"\r\n                  onChange={(e: any) => {\r\n                    props.handleChangeSelect('gender', e);\r\n                  }}\r\n                  valueField=\"name\"\r\n                  options={[\r\n                    { id: 1, name: 'Other' },\r\n                    { id: 2, name: 'Male' },\r\n                    { id: 3, name: 'Female' },\r\n                  ]}\r\n                  multi={false}\r\n                  values={[]}\r\n                />\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <div></div>\r\n          )}\r\n          {renderLoginError()}\r\n          {/* {validEmail &&\r\n          stateUser.loginRequestStatus.inProgress == false &&\r\n          stateUser.loginRequestStatus.error == true ? (\r\n            <p className=\"err-login\">*wrong username or password</p>\r\n          ) : (\r\n            ''\r\n          )} */}\r\n          {!validEmail ? (\r\n            <div className=\"row submit-box\">\r\n              {/* {props?.loading?.register ? (\r\n                <div\r\n                  className=\"lds-roller\"\r\n                  style={{ transform: 'scale(0.5)', bottom: '-5px', left: '-35px' }}\r\n                >\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                </div>\r\n              ) : (\r\n                ''\r\n              )} */}\r\n              {stateUser?.loginRequestStatus?.inProgress ? (\r\n                <div\r\n                  className=\"lds-roller\"\r\n                  style={{ transform: 'scale(0.5)', bottom: '-5px', left: '-35px' }}\r\n                >\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                </div>\r\n              ) : (\r\n                ''\r\n              )}\r\n              <button\r\n                style={{\r\n                  width: '100%',\r\n                  border: '0.5px #ffffff solid',\r\n                  cursor: stateUser?.loginRequestStatus?.inProgress ? 'not-allowed' : '',\r\n                }}\r\n                disabled={stateUser?.loginRequestStatus?.inProgress}\r\n                className=\"col-lg-4 col-sm-5 col-12\"\r\n                onClick={(event) => handleLoginRegister(event)}\r\n              >\r\n                REGISTER\r\n              </button>\r\n              <div>\r\n                <span\r\n                  style={{\r\n                    cursor: stateUser?.loginRequestStatus?.inProgress\r\n                      ? 'not-allowed'\r\n                      : 'pointer',\r\n                  }}\r\n                  className=\"continue-guest col disabled={stateUser?.loginRequestStatus?.inProgress}\"\r\n                  onClick={(event) => handleRegisterGuest(event)}\r\n                >\r\n                  CONTINUE AS GUEST\r\n                </span>\r\n              </div>\r\n\r\n              {/* {props?.loading?.continueAsGuest ? (\r\n                <div\r\n                  className=\"lds-roller\"\r\n                  style={{ transform: 'scale(0.5)', bottom: '-5px' }}\r\n                >\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                </div>\r\n              ) : (\r\n                ''\r\n              )} */}\r\n              {/* <button\r\n                className=\"btn-forgot-password\"\r\n                style={{\r\n                  flexBasis: '100%',\r\n                  marginLeft: 'auto',\r\n                  alignSelf: 'flex-end',\r\n                  textAlign: 'right',\r\n                }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  setValidEmail(true);\r\n                }}\r\n              >\r\n                Login\r\n              </button> */}\r\n            </div>\r\n          ) : (\r\n            <div className=\"submit-box\" style={{ flexWrap: 'wrap' }}>\r\n              {validEmail && !isInit ? (\r\n                <>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn-forgot-password\"\r\n                    onClick={directForgotPassword}\r\n                  >\r\n                    Forgot password?\r\n                  </button>\r\n                  <button type=\"submit\" onClick={(event) => handleLoginRegister(event)}>\r\n                    SIGN IN\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <></>\r\n              )}\r\n\r\n              {/* {!validEmail && !isInit ? (\r\n                <button\r\n                  className=\"btn-forgot-password\"\r\n                  style={{\r\n                    flexBasis: '100%',\r\n                    marginLeft: 'auto',\r\n                    alignSelf: 'flex-end',\r\n                    textAlign: 'right',\r\n                  }}\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    setValidEmail(false);\r\n                  }}\r\n                >\r\n                  Register\r\n                </button>\r\n              ) : (\r\n                <></>\r\n              )} */}\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\nexport default memo(Step1);\r\n","export default __webpack_public_path__ + \"static/media/cash-on-pickup.dcd1597e.svg\";","export default __webpack_public_path__ + \"static/media/master-card.d58be188.svg\";","export default __webpack_public_path__ + \"static/media/visa-card.feb273c8.svg\";","export default __webpack_public_path__ + \"static/media/Bkash.4d2bb151.png\";","import React from 'react';\r\n\r\nimport sslLogo from '../../images/sslcommerz.png';\r\n\r\nfunction SSLCommerzVerify() {\r\n  return (\r\n    <div className=\"verify\">\r\n      <div className=\"label\">Verified by</div>\r\n      <img src={sslLogo} alt=\"sslcommesrz\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SSLCommerzVerify;\r\n","export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, RootStateOrAny } from 'react-redux';\r\nimport codIC from '../../images/icons/cash-on-pickup.svg';\r\nimport masterCardIC from '../../images/icons/master-card.svg';\r\nimport visaCardIC from '../../images/icons/visa-card.svg';\r\nimport Bkash from '../../images/icons/Bkash.png';\r\nimport AdaptiveInput from './AdaptiveInput';\r\nimport SSLCommerzVerify from '../SSLCommerzVerify';\r\nfunction Step3(props: any) {\r\n  const [isCashOnDelivery, setIsCashOnDelivery] = useState(true);\r\n  const productState = useSelector((state: RootStateOrAny) => state.productReducer);\r\n\r\n  useEffect(() => {\r\n    if (props.data.payment !== 'cod') setIsCashOnDelivery(false);\r\n  }, []);\r\n\r\n  return (\r\n    <section className=\"form-step form-step-3\">\r\n      <h2 className=\"title-form\">\r\n        <span>3</span>\r\n        CHOOSE PAYMENT OPTION\r\n      </h2>\r\n      <p style={{ margin: '32px 0 8px 0', textAlign: 'justify', lineHeight: '1.5rem' }}>\r\n        Sundora Beauty payment gateway is PCI-DSS certified. PCI DSS stands for Payment Card\r\n        Industry Data Security Standard, which sets the requirements for organizations and\r\n        sellers to safely and securely accept, store, process, and transmit cardholder data\r\n        during credit card transaction to prevent fraud and data breaches.\r\n      </p>\r\n      <div className=\"form-group\">\r\n        {!props?.loading?.confirmAddress ? (\r\n          <>\r\n            <label className=\"radio-custom\">\r\n              <input\r\n                type=\"radio\"\r\n                name=\"payment\"\r\n                value=\"cod\"\r\n                checked={props.data.payment == 'cod'}\r\n                onChange={props.handleChange}\r\n                disabled={\r\n                  props?.placeOrderForm?.address_id && !productState?.product?.cash_on_delivery\r\n                }\r\n              />\r\n              <span\r\n                className={`radio-label payment-ic ${isCashOnDelivery ? 'checked-input' : ''}`}\r\n              >\r\n                <div className=\"ic-group\">\r\n                  <img\r\n                    className={\r\n                      props?.placeOrderForm?.address_id &&\r\n                      !productState?.product?.cash_on_delivery\r\n                        ? 'disabled'\r\n                        : ''\r\n                    }\r\n                    src={codIC}\r\n                    alt=\"cod\"\r\n                  />\r\n                  <p>\r\n                    {props?.placeOrderForm?.store_location_id\r\n                      ? 'Cash on pickup'\r\n                      : 'Cash on delivery'}\r\n                  </p>\r\n                </div>\r\n              </span>\r\n            </label>\r\n            <label className=\"radio-custom\">\r\n              <input\r\n                type=\"radio\"\r\n                name=\"payment\"\r\n                value=\"mastercard\"\r\n                checked={props.data.payment == 'mastercard'}\r\n                onChange={props.handleChange}\r\n              />\r\n\r\n              <span\r\n                className={`radio-label payment-ic ${\r\n                  props.data.payment == 'mastercard' ? 'checked-input' : ''\r\n                }`}\r\n              >\r\n                <div className=\"ic-group\">\r\n                  <img src={masterCardIC} alt=\"master-card\" />\r\n                  <p>MasterCard</p>\r\n                </div>\r\n              </span>\r\n              <div className=\"ssllogo\">\r\n                <SSLCommerzVerify />\r\n              </div>\r\n            </label>\r\n            <label className=\"radio-custom\">\r\n              <input\r\n                type=\"radio\"\r\n                name=\"payment\"\r\n                value=\"visacard\"\r\n                checked={props.data.payment == 'visacard'}\r\n                onChange={props.handleChange}\r\n              />\r\n              <span\r\n                className={`radio-label payment-ic ${\r\n                  props.data.payment == 'visacard' ? 'checked-input' : ''\r\n                }`}\r\n              >\r\n                <div className=\"ic-group\">\r\n                  <img src={visaCardIC} alt=\"visa\" />\r\n                  <p>Visa</p>\r\n                </div>\r\n              </span>\r\n              <div className=\"ssllogo\">\r\n                <SSLCommerzVerify />\r\n              </div>\r\n            </label>\r\n            <label className=\"radio-custom\">\r\n              <input\r\n                type=\"radio\"\r\n                name=\"payment\"\r\n                value=\"mobilebank\"\r\n                checked={props.data.payment == 'mobilebank'}\r\n                onChange={props.handleChange}\r\n                disabled\r\n              />\r\n              <span\r\n                className={`radio-label payment-ic ${\r\n                  props.data.payment == 'visacard' ? 'checked-input' : ''\r\n                }`}\r\n              >\r\n                <div className=\"ic-group\">\r\n                  <img\r\n                    className=\"disabled\"\r\n                    src={Bkash}\r\n                    alt=\"mobile-card\"\r\n                    style={{ padding: 6 }}\r\n                  />\r\n                  <p>Bkash</p>\r\n                </div>\r\n              </span>\r\n              <div className=\"ssllogo comming-soon\">Coming soon ...</div>\r\n            </label>\r\n          </>\r\n        ) : (\r\n          <div\r\n            style={{\r\n              padding: '3.5vw 0',\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              transform: 'translate(-5%, 0%)',\r\n            }}\r\n          >\r\n            <div className=\"lds-roller\">\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div style={{ marginTop: 8 }}>\r\n          <AdaptiveInput\r\n            type=\"text\"\r\n            for=\"company_name\"\r\n            name=\"company_name\"\r\n            label=\"Company name (optional)\"\r\n            value={props.data.company_name}\r\n            handleChange={props.handleChange}\r\n          />\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default Step3;\r\n","import React, { memo, useEffect, useState } from 'react';\r\nimport { GET_LOCATION } from '../../config';\r\nimport { fetchClient } from '../../redux/Helpers';\r\nimport Map from '../Map';\r\nimport { RootStateOrAny, useDispatch, useSelector } from 'react-redux';\r\nimport * as action from '../../redux/auth/actions';\r\nimport { isMobile } from '../../DetectScreen';\r\nimport * as actionsProduct from '../../redux/product/actions';\r\n\r\nfunction Step2(props: any) {\r\n  const [isBillingAddress, setIsBillingAddress] = useState<any>(true);\r\n  const placeOrderForm = useSelector(\r\n    (state: RootStateOrAny) => state.productReducer.placeOrderForm,\r\n  );\r\n  const dispatch = useDispatch();\r\n\r\n  const productReduceer = useSelector((state: RootStateOrAny) => state.productReducer);\r\n  const selectedAddressId = productReduceer?.placeOrderForm?.address_id || null;\r\n  const selectedAddressBillingId = productReduceer?.placeOrderForm?.address_billing_id || null;\r\n\r\n  useEffect(() => {\r\n    const options = {\r\n      url: `${GET_LOCATION}`,\r\n      method: 'GET',\r\n      body: null,\r\n    };\r\n    fetchClient(options)\r\n      .then()\r\n      .catch((err) => console.log(err));\r\n    if (localStorage.getItem('sundoraToken')) {\r\n      dispatch(action.getAddressActions('billing'));\r\n    }\r\n  }, []);\r\n\r\n  const onChangeBilling = (event: any) => {\r\n    setIsBillingAddress(event.target.checked);\r\n  };\r\n\r\n  useEffect(() => {\r\n    props?.setLoading((prev: any) => ({ ...prev, confirmAddress: false }));\r\n    dispatch(\r\n      actionsProduct.setMultiCardNamePlaceOrderForm({\r\n        multi_card_name: '',\r\n      }),\r\n    );\r\n    props?.setCheckoutForm((prev: any) => ({ ...prev, payment: '' }));\r\n  }, [productReduceer?.placeOrderForm?.address_id]);\r\n\r\n  return (\r\n    <section className=\"form-step form-step-2\">\r\n      <h2\r\n        className={`title-form title-step-2 ${\r\n          placeOrderForm?.address_id || placeOrderForm?.store_location_id ? 'step-done' : ''\r\n        }`}\r\n        onClick={props.toogleShowStep2}\r\n      >\r\n        <span>\r\n          {placeOrderForm?.address_id || placeOrderForm?.store_location_id ? (\r\n            <i className=\"gg-check\"></i>\r\n          ) : (\r\n            2\r\n          )}\r\n        </span>\r\n        CHOOSE DELIVERY ADDRESS\r\n      </h2>\r\n      <div style={{ display: props.data.isShowStep2 ? '' : 'none' }}>\r\n        <p\r\n          style={{\r\n            margin: !isMobile ? '32px 0 8px 0' : '24px 0 8px 0',\r\n            textAlign: 'justify',\r\n            lineHeight: '1.5rem',\r\n          }}\r\n        ></p>\r\n        <div className=\"form-group\">\r\n          <label className=\"radio-custom\">\r\n            <input\r\n              id=\"store\"\r\n              type=\"radio\"\r\n              name=\"deliveryType\"\r\n              value=\"delivery\"\r\n              checked={true}\r\n              onChange={props.handleChange}\r\n            />\r\n            <span className=\"radio-label\">Standard delivery</span>\r\n          </label>\r\n        </div>\r\n        <>\r\n          <Map\r\n            google={props.google}\r\n            center={{ lat: 18.5204, lng: 73.8567 }}\r\n            height=\"300px\"\r\n            zoom={15}\r\n            confirmAddressStep={props.confirmAddressStep}\r\n            type=\"shipping\"\r\n            isCheckoutForm={true}\r\n            fromCheckOut={true}\r\n            selectedAddressId={selectedAddressId}\r\n            setLoading={props?.setLoading}\r\n            setCheckoutForm={props?.setCheckoutForm}\r\n          />\r\n          <label className=\"checkbox-button\">\r\n            <input\r\n              type=\"checkbox\"\r\n              className=\"checkbox-button__input\"\r\n              id=\"choice1-1\"\r\n              name=\"isBillingAddress\"\r\n              checked={isBillingAddress}\r\n              onChange={onChangeBilling}\r\n            />\r\n            <span className=\"checkbox-button__control\"></span>\r\n            <span className=\"checkbox-button__label\">\r\n              Yes, make this to my billing address\r\n            </span>\r\n          </label>\r\n\r\n          {!isBillingAddress ? (\r\n            <div className=\"row\" style={{ marginBottom: 24, marginTop: 32 }}>\r\n              <div className=\"col-12\">\r\n                <h3>Billing</h3>\r\n              </div>\r\n              <div className=\"col-12\">\r\n                <div className=\"form-group\">\r\n                  <Map\r\n                    google={props.google}\r\n                    center={{ lat: 18.5204, lng: 73.8567 }}\r\n                    height=\"300px\"\r\n                    zoom={15}\r\n                    confirmAddressStep={props.confirmAddressBillingStep}\r\n                    type=\"billing\"\r\n                    fromCheckOut={true}\r\n                    setLoading={props?.setLoading}\r\n                    setCheckoutForm={props?.setCheckoutForm}\r\n                    selectedAddressId={selectedAddressBillingId}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            ''\r\n          )}\r\n        </>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default memo(Step2);\r\n","import React, { memo, useEffect, useState } from 'react';\r\nimport Step1 from './Step1';\r\nimport Step3 from './Step3';\r\nimport Step2 from './Step2';\r\nimport { RootStateOrAny, useDispatch, useSelector } from 'react-redux';\r\nimport * as action from '../../redux/auth/actions';\r\nimport * as actionsProduct from '../../redux/product/actions';\r\nimport { GET_USER_INFO } from '../../config';\r\nimport { fetchClient, formatPhoneNumber } from '../../redux/Helpers';\r\nimport { toLower, trim } from 'lodash';\r\n\r\nfunction CheckoutForm(props: any): JSX.Element {\r\n  const dispatch = useDispatch();\r\n  const placeOrderForm = useSelector(\r\n    (state: RootStateOrAny) => state.productReducer.placeOrderForm,\r\n  );\r\n  const [loading, setLoading] = useState<any>({\r\n    register: false,\r\n    continueAsGuest: false,\r\n    confirmAddress: false,\r\n  });\r\n  const [userInfo, setUserInfo] = useState<any>({\r\n    first_name: null,\r\n    last_name: null,\r\n    password: '',\r\n    confirm_password: '',\r\n    email: null,\r\n    phone: null,\r\n  });\r\n  const [checkoutForm, setCheckoutForm] = useState<any>({\r\n    currentStep: 1, // Default is Step 1\r\n    isShowStep2: true,\r\n    email: '',\r\n    phone: '',\r\n    username: '',\r\n    password: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    birthday: '',\r\n    gender: '',\r\n    deliveryType: 'store',\r\n    payment: 1,\r\n    addressInfo: null,\r\n    company_name: '',\r\n  });\r\n  const [addressStore, setAddressStore] = useState<any>([]);\r\n\r\n  const resetForm = () => {\r\n    setCheckoutForm({\r\n      currentStep: 1, // Default is Step 1\r\n      isShowStep2: true,\r\n      email: '',\r\n      phone: '',\r\n      username: '',\r\n      password: '',\r\n      firstName: '',\r\n      lastName: '',\r\n      birthday: '',\r\n      gender: '',\r\n      deliveryType: 'store',\r\n      payment: 1,\r\n      addressInfo: null,\r\n      company_name: '',\r\n    });\r\n  };\r\n\r\n  const handleChange = (event: any) => {\r\n    const name = event.currentTarget.name;\r\n    const value = event.target.value;\r\n\r\n    setCheckoutForm({ ...checkoutForm, [name]: value });\r\n    if (event.currentTarget.name == 'payment') {\r\n      dispatch(\r\n        actionsProduct.setMultiCardNamePlaceOrderForm({\r\n          multi_card_name: event.target.value,\r\n        }),\r\n      );\r\n    }\r\n    if (event.currentTarget.name == 'company_name') {\r\n      dispatch(\r\n        actionsProduct.setMultiCardNamePlaceOrderForm({\r\n          company_name: event.target.value,\r\n        }),\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleEmailPhoneChange = (email: string, phone: string) => {\r\n    setCheckoutForm((prev: any) => ({ ...prev, email, phone }));\r\n  };\r\n\r\n  const handleLoading = (data: any) => {\r\n    setLoading({ ...loading, [data.key]: data.value });\r\n  };\r\n\r\n  const handleLogin = (event: any) => {\r\n    event.preventDefault();\r\n    const draft_order_id = localStorage.getItem('id_checkout')\r\n      ? localStorage.getItem('id_checkout')\r\n      : null;\r\n    dispatch(\r\n      action.loginActions({\r\n        email: (checkoutForm.email as string).toLowerCase(),\r\n        password: checkoutForm.password,\r\n        draft_order_id: draft_order_id,\r\n      }),\r\n    );\r\n  };\r\n\r\n  const handleRegister = (event: any) => {\r\n    event.preventDefault();\r\n    const draft_order_id = localStorage.getItem('id_checkout');\r\n    handleLoading({ key: 'register', value: true });\r\n    dispatch(\r\n      action.registerActions({\r\n        customer: {\r\n          email: checkoutForm.email ? (checkoutForm.email as string).toLowerCase() : null,\r\n          phone: formatPhoneNumber(checkoutForm.phone),\r\n          first_name: checkoutForm.firstName,\r\n          last_name: checkoutForm.lastName,\r\n          password: checkoutForm.password,\r\n          password_confirmation: checkoutForm.password,\r\n          draft_order_id: draft_order_id,\r\n          note: {\r\n            birthday: checkoutForm.birthday,\r\n            gender: checkoutForm.gender,\r\n          },\r\n          withTimeout: true,\r\n        },\r\n      }),\r\n    );\r\n  };\r\n\r\n  const handleRegisterGuest = (event: any) => {\r\n    event.preventDefault();\r\n    handleLoading({ key: 'continueAsGuest', value: true });\r\n    const draft_order_id = localStorage.getItem('id_checkout');\r\n    dispatch(\r\n      action.registerGuestActions({\r\n        customer: {\r\n          email: checkoutForm.email ? (checkoutForm.email as string).toLowerCase() : null,\r\n          phone: formatPhoneNumber(checkoutForm.phone),\r\n          first_name: checkoutForm.firstName,\r\n          last_name: checkoutForm.lastName,\r\n          password: checkoutForm.password,\r\n          password_confirmation: checkoutForm.password,\r\n          draft_order_id: draft_order_id,\r\n          note: {\r\n            birthday: checkoutForm.birthday,\r\n            gender: checkoutForm.gender,\r\n          },\r\n          guest: true,\r\n        },\r\n      }),\r\n    );\r\n  };\r\n\r\n  const handleChangeSelect = (keyName: any, value: any) => {\r\n    setCheckoutForm({\r\n      ...checkoutForm,\r\n      [keyName]: trim(toLower(value[0].name)),\r\n    });\r\n  };\r\n\r\n  const fetchDataInfoUser = () => {\r\n    if (localStorage.getItem('sundoraToken')) {\r\n      const options = {\r\n        url: GET_USER_INFO,\r\n        method: 'GET',\r\n        body: null,\r\n      };\r\n      fetchClient(options).then((res) => {\r\n        if (res.success) {\r\n          setUserInfo(res.data);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (event: any) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const confirmAddressStep = (value: any) => {\r\n    setCheckoutForm({\r\n      ...checkoutForm,\r\n      addressInfo: value,\r\n      isShowStep2: false,\r\n    });\r\n  };\r\n\r\n  const confirmAddressBillingStep = (value: any) => {\r\n    setCheckoutForm({\r\n      ...checkoutForm,\r\n      addressBillingInfo: value,\r\n      isShowStep2: true,\r\n    });\r\n  };\r\n\r\n  const handleSelectAddress = (value: any) => {\r\n    props.handleDeleteDiscountAndShippingAddress();\r\n    setAddressStore(value);\r\n    dispatch(\r\n      actionsProduct.setPlaceOrderForm({\r\n        ...placeOrderForm,\r\n        address_id: null,\r\n        store_location_id:\r\n          checkoutForm.deliveryType == 'store' && value[0].id ? value[0].id : null,\r\n        multi_card_name: props?.placeOrderForm?.multi_card_name,\r\n      }),\r\n    );\r\n    setCheckoutForm({\r\n      ...checkoutForm,\r\n      isShowStep2: false,\r\n    });\r\n  };\r\n\r\n  const toogleShowStep2 = () => {\r\n    setCheckoutForm({ ...checkoutForm, isShowStep2: !checkoutForm.isShowStep2 });\r\n  };\r\n  useEffect(() => {\r\n    fetchDataInfoUser();\r\n  }, []);\r\n  return (\r\n    <section className=\"checkout-form\">\r\n      <form onSubmit={handleSubmit}>\r\n        <Step1\r\n          currentStep={checkoutForm.currentStep}\r\n          handleChange={handleChange}\r\n          data={checkoutForm}\r\n          userInfo={userInfo}\r\n          loading={loading}\r\n          handleLogin={handleLogin}\r\n          handleRegister={handleRegister}\r\n          handleRegisterGuest={handleRegisterGuest}\r\n          handleChangeSelect={handleChangeSelect}\r\n          handleEmailPhoneChange={handleEmailPhoneChange}\r\n          resetForm={resetForm}\r\n        />\r\n      </form>\r\n      <Step2\r\n        handleChange={handleChange}\r\n        currentStep={checkoutForm.currentStep}\r\n        data={checkoutForm}\r\n        confirmAddressStep={confirmAddressStep}\r\n        toogleShowStep2={toogleShowStep2}\r\n        addressStore={addressStore}\r\n        handleSelectAddress={handleSelectAddress}\r\n        confirmAddressBillingStep={confirmAddressBillingStep}\r\n        setLoading={setLoading}\r\n        setCheckoutForm={setCheckoutForm}\r\n      />\r\n      <Step3\r\n        handleChange={handleChange}\r\n        currentStep={checkoutForm.currentStep}\r\n        data={checkoutForm}\r\n        placeOrderForm={props.placeOrderForm}\r\n        loading={loading}\r\n      />\r\n    </section>\r\n  );\r\n}\r\nexport default memo(CheckoutForm);\r\n","import _, { isEmpty, get, find, filter } from 'lodash';\r\nimport React, { memo, useEffect, useState } from 'react';\r\nimport Loader from '../../components/Loader';\r\nimport {\r\n  fetchClient,\r\n  fetchCMSHomepage,\r\n  moneyFormater,\r\n  toastrError,\r\n} from '../../redux/Helpers';\r\nimport '../../components/BlockBlogs/block-blogs.scss';\r\nimport './styles.scss';\r\nimport Footer from '../../components/Footer';\r\nimport CheckoutForm from '../../components/CheckoutForm';\r\nimport { useSelector, RootStateOrAny, useDispatch } from 'react-redux';\r\nimport ProductList from '../../components/ProductBag/ProductList';\r\nimport EmptyBag from '../../components/ProductBag/EmptyBag';\r\nimport {\r\n  GET_SUNDORA_VIP,\r\n  GET_VOUCHER,\r\n  PUT_DISCOUNT_CODE,\r\n  PUT_PLACE_ORDER_CHECKOUT,\r\n} from '../../config';\r\nimport { checkoutProductSuccess, setLineItems } from '../../redux/product/actions';\r\nimport { beginCheckout, removeProductFromCart } from '../../utils/helpers/productTracker';\r\nimport * as actionHome from '../../redux/home/actions';\r\nimport { useHistory } from 'react-router';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport * as actionProduct from '../../redux/product/actions';\r\nimport { Link } from 'react-router-dom';\r\n// import VoucherSelector from '../../components/VoucherSelector';\r\n// import PointCircle from '../../components/SundoraVIP/PointCircle';\r\n// import DotLoader from '../../components/DotLoader';\r\n\r\nfunction CheckoutPage(props: any) {\r\n  const stateProduct = useSelector((state: RootStateOrAny) => state.productReducer);\r\n  const stateUser = useSelector((state: RootStateOrAny) => state.userReducer);\r\n\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [dataNav, setDataNav] = useState<any>([]);\r\n  const [loading, setLoading] = useState<any>([]);\r\n  // const [voucherLoading, setVoucherLoading] = useState<boolean>(false);\r\n  const [dataFooter, setDataFooter] = useState<any>([]);\r\n  const [discountCode, setDiscountCode] = useState<string>(\r\n    stateProduct?.product?.applied_discount?.title || '',\r\n  );\r\n  // const [voucherID, setVoucherID] = useState<any>(null);\r\n  // const [vouchers, setVouchers] = useState<any>([]);\r\n  const [loadingDiscount, setLoadingDiscount] = useState<boolean>(false);\r\n  const [dataSundoraVIP, setDataSundoraVIP] = useState<any>();\r\n  const [discountCodeAdded, setDiscountCodeAdded] = useState<boolean>(false);\r\n  const [termsAgreed, setTermsAgreed] = useState<boolean>(false);\r\n\r\n  // const isVoucherAdded =\r\n  //   !!stateProduct?.product?.voucher && parseFloat(stateProduct?.product?.voucher) > 0;\r\n\r\n  const fetchDataInit = async () => {\r\n    const slug = props.match.params ? props.match.params : undefined;\r\n    const draft_order_id = localStorage.getItem('id_checkout')\r\n      ? localStorage.getItem('id_checkout')\r\n      : null;\r\n    if (localStorage.getItem('sundoraToken')) {\r\n      dispatch({ type: 'GET_ADDRESS' });\r\n    }\r\n    if (isEmpty(dataNav) || slug || isEmpty(dataFooter)) {\r\n      const optionsVoucher = {\r\n        url: `${GET_VOUCHER}${draft_order_id}/order/`,\r\n        method: 'GET',\r\n        body: null,\r\n        toaster: !!stateUser?.user,\r\n      };\r\n      // this.props.loadingPage(true);\r\n      // setVoucherLoading(true);\r\n      const pending = [fetchCMSHomepage(176), fetchClient(optionsVoucher)];\r\n      try {\r\n        const results = await Promise.all(pending);\r\n        const cmsData = results[0];\r\n        const dataDynamicLinks = get(cmsData, 'dynamic_links');\r\n\r\n        // Voucher\r\n        // const resVoucher = results[1];\r\n        // if (resVoucher?.success) {\r\n        //   setVouchers(resVoucher?.data);\r\n        // }\r\n        // setVoucherLoading(false);\r\n        setDataNav(dataDynamicLinks?.navigation);\r\n        setDataFooter(dataDynamicLinks?.footer);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        // this.props.loadingPage(false);\r\n      }\r\n    }\r\n    if (isEmpty(dataSundoraVIP)) {\r\n      const options = {\r\n        url: `${GET_SUNDORA_VIP}`,\r\n        method: 'GET',\r\n        body: null,\r\n        toaster: !!stateUser?.user,\r\n      };\r\n      try {\r\n        const res = await fetchClient(options);\r\n        if (res?.success) {\r\n          // console.log(res?.data);\r\n          // if (stateProduct?.product?.note_attributes.length) {\r\n          //   const loyalityPoints = stateProduct?.product?.note_attributes.find(\r\n          //     (a: { name: string; value: string }) => a.name === 'voucher_loyalty_points',\r\n          //   );\r\n          //   setDataSundoraVIP(\r\n          //     parseInt(res?.data?.all_points) - parseInt(loyalityPoints.value),\r\n          //   );\r\n          // } else {\r\n          setDataSundoraVIP(res?.data);\r\n          // }\r\n          setLoading(false);\r\n        }\r\n      } catch (error) {\r\n        // toastrError(error.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDataInit();\r\n  }, [stateProduct]);\r\n\r\n  // useEffect(() => {\r\n  //   if (stateProduct?.product?.note_attributes) {\r\n  //     const loyalty = find(\r\n  //       stateProduct?.product?.note_attributes,\r\n  //       (i: any) => i.name == 'voucher_loyalty_id',\r\n  //     );\r\n  //     if (loyalty?.value) {\r\n  //       setVoucherID(parseInt(loyalty?.value));\r\n  //     } else {\r\n  //       setVoucherID(null);\r\n  //     }\r\n  //   }\r\n  // }, [stateProduct]);\r\n\r\n  const handleChangeDiscount = (e: any) => {\r\n    setDiscountCode(e.target.value);\r\n    setDiscountCodeAdded(false);\r\n    handleDeleteDiscount(e);\r\n  };\r\n\r\n  const handleSubmitVoucher = (voucher: any) => {\r\n    setDiscountCode('');\r\n    if (loadingDiscount) {\r\n      return;\r\n    }\r\n    // setVoucherID(voucher.id);\r\n    const draft_order_id = localStorage.getItem('id_checkout')\r\n      ? localStorage.getItem('id_checkout')\r\n      : null;\r\n    setLoadingDiscount(true);\r\n    if (draft_order_id) {\r\n      const options = {\r\n        url: `${PUT_DISCOUNT_CODE}${draft_order_id}/discount_loyalty_code/`,\r\n        method: 'PUT',\r\n        body: {\r\n          discount: {\r\n            voucher_id: voucher.id,\r\n          },\r\n        },\r\n      };\r\n\r\n      fetchClient(options).then((res) => {\r\n        if (res?.success) {\r\n          // if (res.data?.note_attributes.length) {\r\n          //   const loyalityPoints = res.data?.note_attributes.find(\r\n          //     (a: { name: string; value: string }) => a.name === 'voucher_loyalty_points',\r\n          //   );\r\n          //   setDataSundoraVIP((point: any) => point - parseInt(loyalityPoints.value));\r\n          // }\r\n          dispatch(setLineItems(res?.data.line_items));\r\n          dispatch(checkoutProductSuccess(res?.data));\r\n          setDiscountCodeAdded(false);\r\n          setLoadingDiscount(false);\r\n        } else if (res?.isError) {\r\n          setLoadingDiscount(false);\r\n          return;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmitDiscount = () => {\r\n    const draft_order_id = localStorage.getItem('id_checkout')\r\n      ? localStorage.getItem('id_checkout')\r\n      : null;\r\n    setLoadingDiscount(true);\r\n    if (draft_order_id) {\r\n      const options = {\r\n        url: `${PUT_DISCOUNT_CODE}${draft_order_id}/discount_code/`,\r\n        method: 'PUT',\r\n        body: {\r\n          discount: {\r\n            code: discountCode,\r\n          },\r\n        },\r\n      };\r\n\r\n      fetchClient(options).then((res) => {\r\n        if (res?.success) {\r\n          const discountType = _.find(\r\n            res.data?.note_attributes,\r\n            (i) => i.value == 'discount_buy_x_get_y',\r\n          );\r\n          if (discountType) {\r\n            dispatch(actionHome.toggleShoppingbag(true));\r\n          }\r\n          dispatch(setLineItems(res?.data.line_items));\r\n          dispatch(checkoutProductSuccess(res?.data));\r\n          setDiscountCodeAdded(true);\r\n          setLoadingDiscount(false);\r\n        } else if (res?.isError) {\r\n          toastrError(res?.message?.discount_code);\r\n          setLoadingDiscount(false);\r\n          return;\r\n        }\r\n      });\r\n    }\r\n  };\r\n  const handleDeleteDiscount = (data: any) => {\r\n    if (loadingDiscount) {\r\n      return;\r\n    }\r\n    const draft_order_id = localStorage.getItem('id_checkout')\r\n      ? localStorage.getItem('id_checkout')\r\n      : null;\r\n    setLoadingDiscount(true);\r\n    if (draft_order_id) {\r\n      const options = {\r\n        url: `${PUT_DISCOUNT_CODE}${draft_order_id}/discount_code_delete/`,\r\n        method: 'DELETE',\r\n        body: null,\r\n      };\r\n\r\n      fetchClient(options).then((res) => {\r\n        if (res?.success) {\r\n          dispatch(setLineItems(res?.data.line_items));\r\n          dispatch(checkoutProductSuccess(res?.data));\r\n          if (discountCodeAdded) handleSubmitVoucher(data);\r\n          setLoadingDiscount(false);\r\n        } else if (res?.isError) {\r\n          setLoadingDiscount(false);\r\n          return;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDeleteDiscountAndShippingAddress = () => {\r\n    const { product } = stateProduct;\r\n    const draft_order_id = localStorage.getItem('id_checkout')\r\n      ? localStorage.getItem('id_checkout')\r\n      : null;\r\n    setLoadingDiscount(true);\r\n    const dcFreeShipping = find(\r\n      product?.note_attributes,\r\n      (i) => i.name == 'discount_code_type' && i.value == 'discount_free_shipping',\r\n    );\r\n    if (draft_order_id) {\r\n      const optionsRemoveShippingAddress = {\r\n        url: `${PUT_DISCOUNT_CODE}${draft_order_id}/remove_shipping_address/`,\r\n        method: 'DELETE',\r\n        body: null,\r\n      };\r\n      if (dcFreeShipping) {\r\n        const options = {\r\n          url: `${PUT_DISCOUNT_CODE}${draft_order_id}/discount_code_delete/`,\r\n          method: 'DELETE',\r\n          body: null,\r\n        };\r\n\r\n        fetchClient(options).then((res) => {\r\n          if (res?.success) {\r\n            fetchClient(optionsRemoveShippingAddress).then((res) => {\r\n              if (res.success) {\r\n                dispatch(setLineItems(res?.data.line_items));\r\n                dispatch(checkoutProductSuccess(res?.data));\r\n                setLoadingDiscount(false);\r\n              } else if (res?.isError) {\r\n                setLoadingDiscount(false);\r\n                return;\r\n              }\r\n            });\r\n          } else if (res?.isError) {\r\n            setLoadingDiscount(false);\r\n            return;\r\n          }\r\n        });\r\n      } else {\r\n        fetchClient(optionsRemoveShippingAddress).then((res) => {\r\n          if (res.success) {\r\n            dispatch(setLineItems(res?.data.line_items));\r\n            dispatch(checkoutProductSuccess(res?.data));\r\n            setLoadingDiscount(false);\r\n          } else if (res?.isError) {\r\n            setLoadingDiscount(false);\r\n            return;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n  const [loadingPlaceOrder, setLoadingPlaceOrder] = useState<boolean>(false);\r\n  const handleClickPlaceOrder = () => {\r\n    if (loadingPlaceOrder) {\r\n      return;\r\n    }\r\n    const checkoutID = localStorage.getItem('id_checkout');\r\n\r\n    const body = stateProduct.placeOrderForm;\r\n    body.cash_on_pickup = false;\r\n\r\n    const guest = !!localStorage.getItem('sundora_guest_id');\r\n    if (guest) body.user_id = localStorage.getItem('sundora_guest_id');\r\n\r\n    if (body.multi_card_name == 'cod') {\r\n      body.cash_on_pickup = true;\r\n    }\r\n\r\n    if (!localStorage.getItem('sundoraToken') && !guest) {\r\n      toastrError('Please login to proceed');\r\n      return;\r\n    }\r\n    if (body?.address_id == null && body?.store_location_id == null) {\r\n      toastrError('Please choose delivery address');\r\n      return;\r\n    }\r\n    if (!body?.multi_card_name) {\r\n      toastrError('Please choose payment option');\r\n      return;\r\n    }\r\n    setLoadingPlaceOrder(true);\r\n\r\n    const options = {\r\n      url: `${PUT_PLACE_ORDER_CHECKOUT}${checkoutID}/pay/`,\r\n      method: 'POST',\r\n      body: body,\r\n      guest,\r\n    };\r\n    fetchClient(options)\r\n      .then((res) => {\r\n        if (res?.success) {\r\n          if (res?.data?.type == 'cash_on_pickup') {\r\n            history.push(`order-verify/success/${res?.data?.order}/`);\r\n            return;\r\n          }\r\n          beginCheckout(stateProduct);\r\n          window.location.href = res.data.redirectGatewayURL;\r\n        }\r\n        setLoadingPlaceOrder(false);\r\n        if (res?.isError) {\r\n          toastrError(res?.message);\r\n        }\r\n      })\r\n      .catch((err: any) => console.log(err));\r\n  };\r\n\r\n  const handleDeleteCheckoutProduct = (variantID: any) => {\r\n    const dataFilter = filter(stateProduct?.lineItems, (i: any) => i.variant_id != variantID);\r\n    const dataFilterVariantRemove = find(\r\n      stateProduct?.lineItems,\r\n      (i: any) => i.variant_id == variantID,\r\n    );\r\n\r\n    removeProductFromCart(dataFilterVariantRemove);\r\n    dispatch(actionProduct.deleteLineItems(dataFilter));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(stateProduct.loading);\r\n  }, [stateProduct.loading]);\r\n\r\n  const { product } = stateProduct;\r\n\r\n  const onAgree = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setTermsAgreed(event.target.checked);\r\n  };\r\n\r\n  return (\r\n    <div className=\"site-CheckoutPage\">\r\n      {loading ? <Loader /> : ''}\r\n      <Helmet>\r\n        <meta property=\"og:title\" content=\"Checkout page | Sundora\" />\r\n        <meta property=\"og:description\" content=\"Checkout page | Sundora\" />\r\n        <title>Checkout page | Sundora</title>\r\n        <meta name=\"description\" content=\"Checkout page | Sundora\" />\r\n      </Helmet>\r\n      {/* <Banner /> */}\r\n      <main>\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6 col-12\" style={{ borderRight: '1px solid #dddddd' }}>\r\n              <CheckoutForm\r\n                draftOrder={product}\r\n                placeOrderForm={stateProduct?.placeOrderForm}\r\n                handleDeleteDiscountAndShippingAddress={handleDeleteDiscountAndShippingAddress}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-6 col-12\">\r\n              <section className=\"shopping-bag checkout-bag-layout\">\r\n                <div>\r\n                  <div className=\"head\">\r\n                    <h3>Shopping bag</h3>\r\n                  </div>\r\n                  <div className=\"body\">\r\n                    {product?.line_items ? (\r\n                      <ProductList\r\n                        data={product?.line_items ? product?.line_items : []}\r\n                        DeleteCheckoutProduct={handleDeleteCheckoutProduct}\r\n                        // handleCloseShoppingBag={handleCloseShoppingBag}\r\n                        discountType={\r\n                          product?.note_attributes && product?.note_attributes.length > 0\r\n                            ? product?.note_attributes[1]?.value\r\n                            : ''\r\n                        }\r\n                        offerData={\r\n                          product?.variants_recommendation\r\n                            ? product?.variants_recommendation\r\n                            : []\r\n                        }\r\n                      />\r\n                    ) : (\r\n                      <EmptyBag />\r\n                    )}\r\n                  </div>\r\n                  <div className=\"foot\">\r\n                    {/* <BlockIcon iconList={dataIcons} /> */}\r\n\r\n                    {/* Voucher block */}\r\n                    {/* {voucherLoading ? (\r\n                      <DotLoader />\r\n                    ) : vouchers.length > 0 && !voucherLoading ? (\r\n                      <div className=\"voucher-box\">\r\n                        <h4>Available vouchers:</h4>\r\n\r\n                        <form>\r\n                          <div className=\"row available-vouchers\">\r\n                            <div className=\"voucher-list\">\r\n                              {map(vouchers, (i: any, index: any) => (\r\n                                <div key={index}>\r\n                                  <VoucherSelector\r\n                                    key={index}\r\n                                    data={i}\r\n                                    voucherId={voucherID}\r\n                                    removeVoucher={(i: any) => handleDeleteDiscount(i)}\r\n                                    addVoucher={(i: any) => handleSubmitVoucher(i)}\r\n                                    hasDiscountCode={discountCodeAdded}\r\n                                  />\r\n                                </div>\r\n                              ))}\r\n                            </div>\r\n                            {dataSundoraVIP ? (\r\n                              <div className=\"voucher-point circle-point\">\r\n                                <PointCircle pointData={dataSundoraVIP} />\r\n                              </div>\r\n                            ) : null}\r\n                          </div>\r\n                        </form>\r\n                      </div>\r\n                    ) : (\r\n                      ''\r\n                    )} */}\r\n\r\n                    {/* <h4 style={{ textAlign: 'center' }}>-OR-</h4>\r\n                    <br /> */}\r\n\r\n                    <div className=\"checkout-box\">\r\n                      <h4>Discount:</h4>\r\n                      <div className=\"discount-box\" style={{ marginTop: '10px' }}>\r\n                        <input\r\n                          type=\"text\"\r\n                          onChange={handleChangeDiscount}\r\n                          placeholder=\"Enter discount code\"\r\n                          value={\r\n                            // find(\r\n                            //   stateProduct?.product?.note_attributes,\r\n                            //   (item) => item.name == 'discount_code',\r\n                            // )?.value || discountCode\r\n                            discountCode\r\n                          }\r\n                          // disabled={\r\n                          //   find(\r\n                          //     stateProduct?.product?.note_attributes,\r\n                          //     (item) => item.name == 'discount_code',\r\n                          //   )?.value || isVoucherAdded\r\n                          // }\r\n                        />\r\n                        <button\r\n                          onClick={\r\n                            find(\r\n                              stateProduct?.product?.note_attributes,\r\n                              (item) => item.name == 'discount_code',\r\n                            )?.value\r\n                              ? handleDeleteDiscount\r\n                              : handleSubmitDiscount\r\n                          }\r\n                          disabled={!discountCode.length}\r\n                        >\r\n                          {find(\r\n                            stateProduct?.product?.note_attributes,\r\n                            (item) => item.name == 'discount_code',\r\n                          )?.value\r\n                            ? 'Changed discount'\r\n                            : 'submit'}\r\n                        </button>\r\n                        {loadingDiscount ? (\r\n                          <div className=\"lds-roller\">\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                          </div>\r\n                        ) : (\r\n                          ''\r\n                        )}\r\n                      </div>\r\n\r\n                      <br />\r\n                      <div className=\"info-checkout\">\r\n                        {product?.applied_discount && product?.note_attributes.length > 0 ? (\r\n                          product?.note_attributes[1].value == 'discount_all' ? (\r\n                            <div className=\"d-flex\">\r\n                              <span>Price</span>\r\n                              <span>\r\n                                {product?.subtotal_price\r\n                                  ? moneyFormater(\r\n                                      parseInt(product?.subtotal_price) +\r\n                                        parseInt(product?.applied_discount?.amount || 0),\r\n                                    )\r\n                                  : '0,00'}\r\n                              </span>\r\n                            </div>\r\n                          ) : (\r\n                            <div className=\"d-flex\">\r\n                              <span>Price</span>\r\n                              <span>\r\n                                {product?.subtotal_price_with_rebate\r\n                                  ? moneyFormater(product?.subtotal_price_with_rebate)\r\n                                  : product?.subtotal_price\r\n                                  ? moneyFormater(product?.subtotal_price)\r\n                                  : '0,00'}\r\n                              </span>\r\n                            </div>\r\n                          )\r\n                        ) : (\r\n                          <div className=\"d-flex\">\r\n                            <span>Price</span>\r\n                            <span>\r\n                              {product?.subtotal_price_with_rebate\r\n                                ? moneyFormater(product?.subtotal_price_with_rebate)\r\n                                : product?.subtotal_price\r\n                                ? moneyFormater(product?.subtotal_price)\r\n                                : '0,00'}\r\n                            </span>\r\n                          </div>\r\n                        )}\r\n                        {product?.applied_discount ? (\r\n                          // {product?.applied_discount && product?.note_attributes.length > 0 ? (\r\n                          // find(\r\n                          //   product?.note_attributes,\r\n                          //   (i: any) => i.name == 'discount_code_type',\r\n                          // )?.value == 'discount_all' ? (\r\n                          //   <div className=\"d-flex discount-all\">\r\n                          //     <span>Price discounted</span>\r\n                          //     <span>\r\n                          //       {product?.applied_discount?.amount\r\n                          //         ? `- ${moneyFormater(\r\n                          //             product?.applied_discount?.amount || '',\r\n                          //           )}`\r\n                          //         : ''}\r\n                          //     </span>\r\n                          //   </div>\r\n                          // ) : (\r\n                          //   ''\r\n                          // )\r\n                          <div className=\"d-flex discount-all\">\r\n                            <span>Price discounted</span>\r\n                            <span>\r\n                              {product?.applied_discount?.amount\r\n                                ? `- ${moneyFormater(product?.applied_discount?.amount || '')}`\r\n                                : ''}\r\n                            </span>\r\n                          </div>\r\n                        ) : (\r\n                          ''\r\n                        )}\r\n                        {product?.applied_discount && product?.note_attributes.length > 0 ? (\r\n                          product?.applied_discount?.title == 'voucher_loyalty' &&\r\n                          find(\r\n                            product?.note_attributes,\r\n                            (i: any) => i.name == 'voucher_loyalty_id',\r\n                          ) ? (\r\n                            <div className=\"d-flex discount-all\">\r\n                              <span>Price discounted</span>\r\n                              <span>\r\n                                {product?.applied_discount?.amount\r\n                                  ? `- ${moneyFormater(\r\n                                      product?.applied_discount?.amount || '',\r\n                                    )}`\r\n                                  : ''}\r\n                              </span>\r\n                            </div>\r\n                          ) : (\r\n                            ''\r\n                          )\r\n                        ) : (\r\n                          ''\r\n                        )}\r\n                        <div className=\"d-flex\">\r\n                          <span>\r\n                            {product?.tax_lines && product.tax_lines.length > 0\r\n                              ? `${product?.tax_lines[0]?.title}(+${\r\n                                  product?.tax_lines[0]?.rate * 100\r\n                                }%)`\r\n                              : ''}\r\n                          </span>\r\n                          <span>\r\n                            {product?.total_tax && product?.total_tax != '0.00'\r\n                              ? moneyFormater(product?.total_tax)\r\n                              : ''}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"d-flex\">\r\n                          <span>Shipping price</span>\r\n                          <span>\r\n                            {\r\n                              // _.find(\r\n                              //   product?.note_attributes,\r\n                              //   (i) =>\r\n                              //     i.name == 'discount_code_type' &&\r\n                              //     i.value == 'discount_free_shipping',\r\n                              // )\r\n                              //   ? moneyFormater(\r\n                              //       _.find(\r\n                              //         product?.note_attributes,\r\n                              //         (i) => i.name == 'discount_value',\r\n                              //       )?.value,\r\n                              //     )\r\n                              //   :\r\n                              product?.shipping_line &&\r\n                              parseInt(product.shipping_line?.price) > 0 ? (\r\n                                <span>{moneyFormater(product.shipping_line.price)}</span>\r\n                              ) : (\r\n                                <span className=\"free-shipping\">FREE</span>\r\n                              )\r\n                            }\r\n                          </span>\r\n                        </div>\r\n                        {_.find(\r\n                          product?.note_attributes,\r\n                          (i) =>\r\n                            i.name == 'discount_code_type' &&\r\n                            i.value == 'discount_free_shipping',\r\n                        ) ? (\r\n                          <div className=\"d-flex\">\r\n                            <span>Shipping Discount Subtotal</span>\r\n                            <span className=\"text-danger\">\r\n                              -{' '}\r\n                              {moneyFormater(\r\n                                _.find(\r\n                                  product?.note_attributes,\r\n                                  (i) => i.name == 'discount_value',\r\n                                )?.value,\r\n                              )}\r\n                            </span>\r\n                          </div>\r\n                        ) : (\r\n                          ''\r\n                        )}\r\n                        {/* <div className=\"d-flex\">\r\n                          <span>Shipping cost</span>\r\n                          <span>0,00</span>\r\n                        </div> */}\r\n                      </div>\r\n                      <div className=\"total\">\r\n                        <span>\r\n                          TOTAL{' '}\r\n                          {/* <span style={{ display: isMobile ? 'none' : '' }}>\r\n                            ({product?.line_items?.length || 0} products):\r\n                          </span> */}\r\n                        </span>\r\n                        <hr></hr>\r\n                        <h3>\r\n                          {product?.total_price ? moneyFormater(product?.total_price) : ''}\r\n                        </h3>\r\n                      </div>\r\n                      <div className=\"terms-cond\">\r\n                        <label className=\"checkbox-button\" htmlFor=\"terms-cond\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            className=\"checkbox-button__input\"\r\n                            id=\"terms-cond\"\r\n                            name=\"terms-cond\"\r\n                            onChange={onAgree}\r\n                            checked={termsAgreed}\r\n                          />\r\n                          <div className=\"checkbox-button__control\"></div>\r\n                        </label>\r\n\r\n                        <label className=\"checkbox-button__label\" htmlFor=\"terms-cond\">\r\n                          I agree to the{' '}\r\n                          <Link to=\"/about-us/terms-conditions\">Terms and conditions, </Link>\r\n                          <Link to=\"/customer-service/refund-policy\">Refund Policy </Link>\r\n                          and\r\n                          <Link to=\"/about-us/privacy-policy\"> Privacy Policy</Link>\r\n                        </label>\r\n                      </div>\r\n                      <button\r\n                        className=\"checkout-button\"\r\n                        // style={{ cursor: loading ? 'not-allowed' : '' }}\r\n                        style={{ cursor: loadingPlaceOrder ? 'not-allowed' : '' }}\r\n                        onClick={() => handleClickPlaceOrder()}\r\n                        disabled={!termsAgreed}\r\n                      >\r\n                        Place Order\r\n                      </button>\r\n                      {loadingPlaceOrder ? (\r\n                        <div\r\n                          className=\"lds-roller\"\r\n                          style={{ transform: 'scale(0.5)', bottom: '27px' }}\r\n                        >\r\n                          <div></div>\r\n                          <div></div>\r\n                          <div></div>\r\n                          <div></div>\r\n                          <div></div>\r\n                          <div></div>\r\n                          <div></div>\r\n                          <div></div>\r\n                        </div>\r\n                      ) : (\r\n                        ''\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </section>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n      <Footer data={dataFooter} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(CheckoutPage);\r\n","import React from 'react';\r\nimport ProductSlide from '../ProductSlide';\r\n\r\nfunction EmptyBag(props: any) {\r\n  return (\r\n    <section className=\"empty-bag\">\r\n      <div className=\"content\">\r\n        <h3>0 Products</h3>\r\n        <div className=\"d-flex justify-content-between\">\r\n          <span>Price</span>\r\n          <span>0,00৳</span>\r\n        </div>\r\n        <div className=\"d-flex justify-content-between\">\r\n          <span>Shipping cost</span>\r\n          <span>0,00৳</span>\r\n        </div>\r\n        <div className=\"d-flex justify-content-between\">\r\n          <hr></hr>\r\n          <h2>0,00৳</h2>\r\n        </div>\r\n      </div>\r\n      {props?.recommendationData && props?.recommendationData.length > 0 ? (\r\n        <>\r\n          <h4>Recommendations for you</h4>\r\n          <ProductSlide\r\n            data={props?.recommendationData}\r\n            handleCloseShoppingBag={props.handleCloseShoppingBag}\r\n            col={3}\r\n          />\r\n        </>\r\n      ) : (\r\n        ''\r\n      )}\r\n    </section>\r\n  );\r\n}\r\nexport default EmptyBag;\r\n"],"sourceRoot":""}