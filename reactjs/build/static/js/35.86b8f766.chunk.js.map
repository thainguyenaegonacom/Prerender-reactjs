{"version":3,"sources":["containers/BrandProductPage/index.tsx","images/icons/addToCart-white.svg","components/BlockTitle/index.tsx","images/block-questionnaire/logo.png","components/BlockQuestionnaire/BlockProduct/itemProduct.tsx","components/BlockQuestionnaire/BlockProduct/index.tsx","images/block-questionnaire/left-arrow.svg","images/block-questionnaire/home.svg","components/BlockQuestionnaire/index.tsx","components/BlockAllBrands/index.tsx"],"names":["VideoBlock","lazy","BlockCarousel","BlockSpotlight","CountDownBlock","BlockBlogs","BlockFormField","BrandProductPage","props","dispatch","useDispatch","stateProduct","useSelector","state","productReducer","refFooter","useRef","useState","dataNav","setDataNav","loading","setLoading","dataFooter","setDataFooter","dataCMS","setDataCMS","dataBody","setDataBody","visibleModalEmail","setVisibleModalEmail","dataFormField","setDataFormField","timeStamp","setTimeStamp","next","paging","setPaging","search","setSearch","loadingProduct","setLoadingProduct","filterData","setFilterData","searchReady","setSearchReady","dataIcon","value","icons","fetchDataProduct","isFetch","a","brandID","action","params","URLSearchParams","location","searchValue","get","sortQuery","minQuery","maxQuery","collectionsQuery","scentQuery","tagsQuery","brandsQuery","sortQueryString","minQueryString","maxQueryString","collectionsQueryString","brandsQueryString","brand","id","scentQueryString","tagsQueryString","cloneSearch","sortData","find","sortOptions","i","push","minMax","type","minPrice","maxPrice","setPriceRange","parseInt","split","map","result","item","res","setFilterSelection","queryString","trim","options","url","GET_ALL_PRODUCT","method","body","pending","fetchClient","Promise","all","results","dataSearchResult","fetchDataInit","slug","pathname","undefined","isEmpty","fetchDynamicCMSPage","substring","cmsData","cmsDataBody","filter","visible","dataDynamicLinks","optionsFilterBox","GET_FILTER_BOX_PRODUCT","then","footer","navigation","form_fields","timestamp","show_highlight_message","highlight_message","homeAction","handleSortProduct","index","findIndex","title","priceRange","validateFilter","setValidateFilter","filterSelection","handleChange","event","inputValue","target","replace","currentTarget","name","handleRemovePriceFilter","cloneArr","e","cloneArrSearch","indexSearch","splice","handleBlurPrice","useEffect","handleFilterProduct","productStore","seachFilterValue","Object","assign","filterMinPrice","filterMaxPrice","handleCheckOther","copyArr","data","handleCheckBrand","handleCheckScent","handleRemoveOtherFilter","coppyArrSearch","handleRemoveScentFilter","handleRemoveBrandsFilter","handleClearFilter","handleLoadmore","obj","ordering","min_price","max_price","otherQuery","collections","toString","scents","brands","seachValueQueryString","reduce","key","isNull","isUndefined","isArray","result1","value1","slice","objectToQueryString","history","match","openFilterBox","filteredboxQuantity","handelToggleModal","getBreadCrumb","link","meta","parent","locationState","useLocation","backgroundColor","main_color","foregroundColor","separator_color","setColorHeaderIcons","setColorSearchBox","setColorCartBadge","setColorFooter","setColorBlkIcons","setColorBreadcrumbBlkIcons","setColorResetFilterButton","setColorResultFilterBox","setColorWrapperFilterBox","className","property","content","featured_image","fullwidth","isMobile","iconList","to","href","dataOther","dataScents","dataBrands","onClick","placeholder","searchable","labelField","onChange","valueField","values","sortValue","allProduct","length","style","marginBottom","productList","paddingBottom","marginTop","slides","dragOrAuto","maxWidth","max_width","maxHeight","max_height","headline","items","rows","showReadmore","products","dangerouslySetInnerHTML","__html","text","images","big","top_left","bottom_left","blogList","modal","isOpen","minWidth","maskBg","onKeyPress","onClickAway","formField","html_url","closeModal","icon_image","original","width","height","webp","mobile","alt","ref","memo","BlockTitle","styleDiv","styleText","itemProduct","productItem","itemProductRef","image","setImage","keyEndpoint","useHistory","current","clientHeight","fixed_rebate","visibility","Picture","sale","moneyFormater","product_variants","price","handle","brandName","brand_page","page_ptr","stopPropagation","variant","variant_id","quantity","lineItems","newData","addProductToCart","actionHome","src","icAddToCart","BlockProduct","subTitle","selectedIndex","setSelectedIndex","handleSlider","selected","fillParent","mobileTouch","buttons","bullets","onTransitionEnd","currentIndex","BlockQuestionnaire","dataQuestionnaire","setDataQuestionnaire","question","setQuestion","questionSliderIndex","setQuestionSliderIndex","questionIndex","answerKey","answerTemp","setAnswerTemp","dotClick","setDotClick","setProducts","productNotExists","setProductNotExists","lastQuestion","setLastQuestion","GET_QUESTIONNAIRE","handleBackOrReStartQuestion","questionClone","pop","handleGetProduct","childQuestion","children","parent_answer","questionnaire_id","collection","scent","questionParent","answer","questionTemp","handleQuestion","backgroundImage","background","backgroundSize","DotLoader","icBack","icHome","SundoraLogo","padding","handleAnswerTemp","Array","from","keys","handleQuestionSliderDot","alphabet","BlockAllBrands","r","group","indexOf","resultGroupBrandsAlphabet","sort","b","localeCompare","relative_url"],"mappings":"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","file":"static/js/35.86b8f766.chunk.js","sourcesContent":["import {\r\n  map,\r\n  isEmpty,\r\n  get,\r\n  isUndefined,\r\n  find,\r\n  reduce,\r\n  isArray,\r\n  isNull,\r\n  findIndex,\r\n} from 'lodash';\r\nimport React, { memo, useEffect, useState, useRef, lazy } from 'react';\r\nimport { isMobile } from '../../DetectScreen';\r\nimport '../../components/BlockBlogs/block-blogs.scss';\r\nimport './styles.scss';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport BlockProduct from '../../components/BlockProduct';\r\nimport Select from 'react-dropdown-select';\r\nimport * as action from '../../redux/product/actions';\r\nimport * as homeAction from '../../redux/home/actions';\r\nimport { useDispatch, useSelector, RootStateOrAny } from 'react-redux';\r\nimport BlockModal from '../../components/BlockModal';\r\nimport BlockCollectEmail from '../../components/BlockCollectEmail';\r\nimport Picture from '../../components/Picture';\r\nimport { fetchClient, fetchDynamicCMSPage } from '../../redux/Helpers';\r\nimport BlockQuestionnaire from '../../components/BlockQuestionnaire';\r\nimport { GET_ALL_PRODUCT, GET_FILTER_BOX_PRODUCT } from '../../config';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport BlockTitle from '../../components/BlockTitle';\r\nimport BlockAllBrands from '../../components/BlockAllBrands';\r\n\r\nimport DotLoader from '../../components/DotLoader';\r\n\r\nimport Footer from '../../components/Footer';\r\nconst VideoBlock = lazy(() => import('../../components/BlockVideo'));\r\nimport BlockIcon from '../../components/BlockIcon';\r\nconst BlockCarousel = lazy(() => import('../../components/BlockCarousel'));\r\nconst BlockSpotlight = lazy(() => import('../../components/BlockSpotlight'));\r\nconst CountDownBlock = lazy(() => import('../../components/BlockCountDown'));\r\nconst BlockBlogs = lazy(() => import('../../components/BlockBlogs'));\r\nimport FilterProductBox from '../../components/FilterProductBox';\r\nimport {\r\n  setColorBlkIcons,\r\n  setColorBreadcrumbBlkIcons,\r\n  setColorCartBadge,\r\n  setColorFooter,\r\n  setColorHeaderIcons,\r\n  setColorResetFilterButton,\r\n  setColorResultFilterBox,\r\n  setColorSearchBox,\r\n  setColorWrapperFilterBox,\r\n} from '../../utils/helpers/setColor';\r\nconst BlockFormField = lazy(() => import('../../components/BlockFormField'));\r\n\r\nfunction BrandProductPage({ props }: any) {\r\n  const dispatch = useDispatch();\r\n  const stateProduct = useSelector((state: RootStateOrAny) => state.productReducer);\r\n  const refFooter = useRef<any>(null);\r\n  const [dataNav, setDataNav] = useState<any>([]);\r\n  const [loading, setLoading] = useState<any>([]);\r\n  const [dataFooter, setDataFooter] = useState<any>([]);\r\n  const [dataCMS, setDataCMS] = useState<any>({});\r\n  const [dataBody, setDataBody] = useState<any>([]);\r\n  const [visibleModalEmail, setVisibleModalEmail] = useState<boolean>(false);\r\n  const [dataFormField, setDataFormField] = useState<any>([]);\r\n  const [timeStamp, setTimeStamp] = useState<any>('');\r\n  const [paging, setPaging] = useState<any>({ next: '', loading: false });\r\n  const [search, setSearch] = useState<any>([]);\r\n  const [loadingProduct, setLoadingProduct] = useState<boolean>(true);\r\n  const [filterData, setFilterData] = useState<any>(null);\r\n  const [searchReady, setSearchReady] = useState<boolean>(false);\r\n\r\n  const dataIcon = {\r\n    value: {\r\n      icons: [\r\n        // {\r\n        //   text: '100% AUTHENTIC',\r\n        //   icon_image: {\r\n        //     original: AuthPrimaryIcon,\r\n        //     width: 29,\r\n        //     height: 29,\r\n        //     webp: AuthPrimaryIcon,\r\n        //     mobile: AuthPrimaryIcon,\r\n        //     alt: 'auth_icon.png',\r\n        //   },\r\n        // },\r\n        // {\r\n        //   text: 'FREE SHIPPING',\r\n        //   icon_image: {\r\n        //     original: freeShippingPrimaryIcon,\r\n        //     width: 52,\r\n        //     height: 27,\r\n        //     webp: freeShippingPrimaryIcon,\r\n        //     mobile: freeShippingPrimaryIcon,\r\n        //     alt: 'free_shipping_icon.png',\r\n        //   },\r\n        // },\r\n      ],\r\n    },\r\n  };\r\n\r\n  const fetchDataProduct = async (isFetch: boolean, brandID: any = null) => {\r\n    dispatch(action.getAllProduct([]));\r\n    const params = new URLSearchParams(props.location.search);\r\n    const searchValue = params.get('search');\r\n    const sortQuery = params.get('ordering');\r\n    const minQuery = params.get('min_price');\r\n    const maxQuery = params.get('max_price');\r\n    const collectionsQuery = params.get('collections');\r\n    const scentQuery = params.get('scents');\r\n    const tagsQuery = params.get('tags_and');\r\n    const brandsQuery = params.get('brands');\r\n    const sortQueryString = sortQuery ? '&ordering=' + sortQuery : '';\r\n    const minQueryString = minQuery ? '&min_price=' + minQuery : '';\r\n    const maxQueryString = maxQuery ? '&max_price=' + maxQuery : '';\r\n    const collectionsQueryString = collectionsQuery ? '&collections=' + collectionsQuery : '';\r\n    const brandsQueryString = '&brands=' + (brandID ? brandID : dataCMS?.brand?.id);\r\n    const scentQueryString = scentQuery ? '&scents=' + scentQuery : '';\r\n    const tagsQueryString = tagsQuery ? '&tags_and=' + tagsQuery : '';\r\n\r\n    if (isFetch) {\r\n      const cloneSearch = [];\r\n      if (sortQuery) {\r\n        const sortData = find(sortOptions, (i) => i.value == sortQuery);\r\n        cloneSearch.push(sortData);\r\n      }\r\n      if (minQuery || maxQuery) {\r\n        const minMax = {\r\n          type: 'minMax',\r\n          value: `${minQuery ? minQuery : ''} - ${maxQuery ? maxQuery : ''}`,\r\n          filterData: {\r\n            minPrice: minQuery ? minQuery : '',\r\n            maxPrice: maxQuery ? maxQuery : '',\r\n          },\r\n        };\r\n        setPriceRange({\r\n          minPrice: minQuery ? parseInt(minQuery) : '',\r\n          maxPrice: maxQuery ? parseInt(maxQuery) : '',\r\n        });\r\n        cloneSearch.push(minMax);\r\n      }\r\n      if (scentQuery) {\r\n        scentQuery.split(',').map((i) => {\r\n          const result = {\r\n            type: 'scent',\r\n            value: i,\r\n          };\r\n          cloneSearch.push(result);\r\n          return result;\r\n        });\r\n      }\r\n      if (collectionsQuery) {\r\n        collectionsQuery.split(',').map((item) => {\r\n          const res = {\r\n            type: 'other',\r\n            value: item,\r\n          };\r\n          cloneSearch.push(res);\r\n          return res;\r\n        });\r\n      }\r\n      if (brandsQuery) {\r\n        brandsQuery.split(',').map((item) => {\r\n          const res = {\r\n            type: 'brands',\r\n            value: item,\r\n          };\r\n          cloneSearch.push(res);\r\n          return res;\r\n        });\r\n      }\r\n      setSearch(cloneSearch);\r\n      setFilterSelection(cloneSearch);\r\n    }\r\n\r\n    const queryString = `${searchValue ? searchValue.trim() : ''}${\r\n      scentQueryString ? scentQueryString : ''\r\n    }${sortQueryString ? sortQueryString.trim() : ''}${minQueryString ? minQueryString : ''}${\r\n      maxQueryString ? maxQueryString : ''\r\n    }\r\n      ${collectionsQueryString ? collectionsQueryString : ''}${\r\n      brandsQueryString ? brandsQueryString : ''\r\n    }${tagsQueryString ? tagsQueryString : ''}`;\r\n\r\n    const options = {\r\n      url: `${GET_ALL_PRODUCT}?search=${queryString}`,\r\n      method: 'GET',\r\n      body: null,\r\n    };\r\n\r\n    const pending = [fetchClient(options)];\r\n    try {\r\n      const results = await Promise.all(pending);\r\n\r\n      const dataSearchResult = results[0];\r\n\r\n      dataSearchResult?.results\r\n        ? dispatch(action.getAllProduct(dataSearchResult.results))\r\n        : '';\r\n      setPaging({ next: dataSearchResult?.next, loading: false });\r\n      setLoadingProduct(false);\r\n      if (isFetch) {\r\n        setSearchReady(true);\r\n      }\r\n    } catch (error) {\r\n      // toastrError(error.message);\r\n      // this.props.loadingPage(false);\r\n      // setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchDataInit = async () => {\r\n    // console.log(dataCMSProps);\r\n    const slug = props.location.pathname ? props.location.pathname : undefined;\r\n    if (isEmpty(dataNav) || slug || isEmpty(dataCMS) || isEmpty(dataFormField)) {\r\n      const pending = [fetchDynamicCMSPage(`${props.location.pathname.substring(1)}`)];\r\n      try {\r\n        const results = await Promise.all(pending);\r\n        const cmsData = results[0];\r\n        const cmsDataBody = results[0]?.body.filter(\r\n          (item: any) => item?.value?.visible != 'product',\r\n        );\r\n        const dataDynamicLinks = get(cmsData, 'dynamic_links');\r\n        const optionsFilterBox = {\r\n          url: `${GET_FILTER_BOX_PRODUCT}?fields=collections,scents,max_price&brands=${cmsData?.brand?.id}`,\r\n          method: 'GET',\r\n          body: null,\r\n        };\r\n        fetchClient(optionsFilterBox).then((res: any) => {\r\n          setFilterData(res);\r\n        });\r\n\r\n        setDataFooter(dataDynamicLinks?.footer);\r\n        setDataNav(dataDynamicLinks?.navigation);\r\n        setDataBody(cmsDataBody);\r\n        setDataFormField(cmsData?.form_fields);\r\n        setDataCMS(cmsData);\r\n        setTimeStamp(cmsData.timestamp);\r\n        setLoading(false);\r\n        fetchDataProduct(true, cmsData?.brand?.id);\r\n        if (cmsData?.show_highlight_message && cmsData.highlight_message) {\r\n          dispatch(homeAction.setGlobalHeaderMessage(cmsData.highlight_message));\r\n        }\r\n        if (!cmsData?.show_highlight_message) {\r\n          dispatch(homeAction.setGlobalHeaderMessage(''));\r\n        }\r\n      } catch (error) {\r\n        // toastrError(error.message);\r\n        // this.props.loadingPage(false);\r\n      }\r\n    }\r\n  };\r\n  const handleSortProduct = (value: any) => {\r\n    // const sortQuerya = filter(sortOptions, (d) => d.value == value[0].value);\r\n\r\n    const cloneSearch = [...search];\r\n    const index = findIndex(search, (i: any) => i.type == 'sort');\r\n\r\n    index == -1 ? cloneSearch.push(value[0]) : (cloneSearch[index] = value[0]);\r\n\r\n    setSearch(cloneSearch);\r\n  };\r\n\r\n  const iconList = [\r\n    {\r\n      text: 'SECURE PAYMENT',\r\n      icon_image: {\r\n        original:\r\n          'https://s.sundora-stage.23c.se/media/images/secure_payment_icon.original.png',\r\n        width: 43,\r\n        height: 28,\r\n        webp:\r\n          'https://s.sundora-stage.23c.se/media/images/secure_payment_icon.original.format-webp.webp',\r\n        mobile:\r\n          'https://s.sundora-stage.23c.se/media/images/secure_payment_icon.width-768.format-webp.webp',\r\n        alt: 'secure_payment_icon.png',\r\n      },\r\n    },\r\n    {\r\n      text: 'FREE SHIPPING*',\r\n      icon_image: {\r\n        original:\r\n          'https://s.sundora-stage.23c.se/media/images/free_shipping_icon.original.png',\r\n        width: 52,\r\n        height: 27,\r\n        webp:\r\n          'https://s.sundora-stage.23c.se/media/images/free_shipping_icon.original.format-webp.webp',\r\n        mobile:\r\n          'https://s.sundora-stage.23c.se/media/images/free_shipping_icon.width-768.format-webp.webp',\r\n        alt: 'free_shipping_icon.png',\r\n      },\r\n    },\r\n    {\r\n      text: '100% AUTHENTIC',\r\n      icon_image: {\r\n        original: 'https://s.sundora-stage.23c.se/media/images/auth_icon.original.png',\r\n        width: 29,\r\n        height: 29,\r\n        webp:\r\n          'https://s.sundora-stage.23c.se/media/images/auth_icon.original.format-webp.webp',\r\n        mobile:\r\n          'https://s.sundora-stage.23c.se/media/images/auth_icon.width-768.format-webp.webp',\r\n        alt: 'auth_icon.png',\r\n      },\r\n    },\r\n    {\r\n      text: 'OFFICIAL DISTRIBUTOR',\r\n      icon_image: {\r\n        original: 'https://s.sundora-stage.23c.se/media/images/offical_icon.original.png',\r\n        width: 39,\r\n        height: 33,\r\n        webp:\r\n          'https://s.sundora-stage.23c.se/media/images/offical_icon.original.format-webp.webp',\r\n        mobile:\r\n          'https://s.sundora-stage.23c.se/media/images/offical_icon.width-768.format-webp.webp',\r\n        alt: 'offical_icon.png',\r\n      },\r\n    },\r\n    {\r\n      text: 'ON TIME DELIVERY',\r\n      icon_image: {\r\n        original: 'https://s.sundora-stage.23c.se/media/images/time_delivery.original.png',\r\n        width: 36,\r\n        height: 28,\r\n        webp:\r\n          'https://s.sundora-stage.23c.se/media/images/time_delivery.original.format-webp.webp',\r\n        mobile:\r\n          'https://s.sundora-stage.23c.se/media/images/time_delivery.width-768.format-webp.webp',\r\n        alt: 'time_delivery.png',\r\n      },\r\n    },\r\n  ];\r\n\r\n  const sortOptions = [\r\n    {\r\n      value: '-id',\r\n      title: 'Newest',\r\n      type: 'sort',\r\n    },\r\n    {\r\n      value: 'popular',\r\n      title: 'Popular',\r\n      type: 'sort',\r\n    },\r\n    {\r\n      value: 'product_variants__price',\r\n      title: 'Price (low to high)',\r\n      type: 'sort',\r\n    },\r\n    {\r\n      value: '-product_variants__price',\r\n      title: 'Price (high to low)',\r\n      type: 'sort',\r\n    },\r\n  ];\r\n\r\n  // FILTER FEATURE\r\n  const [priceRange, setPriceRange] = useState<any>({\r\n    minPrice: '',\r\n    maxPrice: '',\r\n  });\r\n\r\n  // const [otherSelect, setOtherSelect] = useState<any>([]);\r\n  const [validateFilter, setValidateFilter] = useState<any>({\r\n    minMax: '',\r\n  });\r\n  const [filterSelection, setFilterSelection] = useState<any>([]);\r\n  // const history = useHistory();\r\n  const handleChange = (event: any) => {\r\n    const inputValue = event.target.value.replace(/[^0-9.-]+/g, '');\r\n    setPriceRange({ ...priceRange, [event.currentTarget.name]: parseInt(inputValue) });\r\n  };\r\n  const handleRemovePriceFilter = () => {\r\n    setPriceRange({\r\n      minPrice: '',\r\n      maxPrice: '',\r\n    });\r\n    // removeQuery('filterMinPrice');\r\n    // removeQuery('filterMaxPrice');\r\n\r\n    const cloneArr = [...filterSelection];\r\n    const index = cloneArr.findIndex(function (e: any) {\r\n      return e.type == 'minMax';\r\n    });\r\n    const cloneArrSearch = [...search];\r\n    const indexSearch = cloneArr.findIndex(function (e: any) {\r\n      return e.type == 'minMax';\r\n    });\r\n\r\n    cloneArrSearch.splice(indexSearch, 1);\r\n    cloneArr.splice(index, 1);\r\n    setSearch(cloneArrSearch);\r\n    setFilterSelection(cloneArr);\r\n    setValidateFilter({\r\n      ...validateFilter,\r\n      minMax: '',\r\n    });\r\n  };\r\n\r\n  const handleBlurPrice = () => {\r\n    if (\r\n      priceRange.minPrice &&\r\n      priceRange.maxPrice &&\r\n      priceRange.minPrice > priceRange.maxPrice\r\n    ) {\r\n      setValidateFilter({\r\n        ...validateFilter,\r\n        minMax: 'Please enter an appropriate price range',\r\n      });\r\n    } else {\r\n      const cloneArr = [...filterSelection];\r\n      const cloneArrSearch = [...search];\r\n      const minMax = {\r\n        type: 'minMax',\r\n        value: `${priceRange.minPrice} - ${priceRange.maxPrice}`,\r\n        filterData: {\r\n          minPrice: priceRange.minPrice,\r\n          maxPrice: priceRange.maxPrice,\r\n        },\r\n      };\r\n      const index = cloneArr.findIndex(function (e: any) {\r\n        return e.type == minMax.type;\r\n      });\r\n\r\n      const indexSearch = cloneArrSearch.findIndex(function (e: any) {\r\n        return e.type == minMax.type;\r\n      });\r\n\r\n      indexSearch != -1 ? (cloneArrSearch[indexSearch] = minMax) : cloneArrSearch.push(minMax);\r\n      index != -1 ? (cloneArr[index] = minMax) : cloneArr.push(minMax);\r\n\r\n      setFilterSelection(cloneArr);\r\n      setSearch(cloneArrSearch);\r\n      setValidateFilter({\r\n        ...validateFilter,\r\n        minMax: '',\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!priceRange.minPrice && !priceRange.maxPrice) {\r\n      const cloneArr = [...filterSelection];\r\n      const index = cloneArr.findIndex(function (e: any) {\r\n        return e.type == 'minMax';\r\n      });\r\n\r\n      cloneArr.splice(index, 1);\r\n      setFilterSelection(cloneArr);\r\n      setValidateFilter({\r\n        ...validateFilter,\r\n        minMax: '',\r\n      });\r\n\r\n      const cloneArrSearch = [...search];\r\n\r\n      const indexSearch = cloneArrSearch.findIndex(function (e: any) {\r\n        return e.type == 'minMax';\r\n      });\r\n\r\n      indexSearch != -1 ? cloneArrSearch.splice(index, 1) : '';\r\n      setSearch(cloneArrSearch);\r\n      return;\r\n    }\r\n\r\n    if (!priceRange.minPrice) {\r\n      // removeQuery('filterMinPrice');\r\n      setValidateFilter({\r\n        ...validateFilter,\r\n        minMax: '',\r\n      });\r\n    } else if (!priceRange.maxPrice) {\r\n      // removeQuery('filterMaxPrice');\r\n      setValidateFilter({\r\n        ...validateFilter,\r\n        minMax: '',\r\n      });\r\n    }\r\n    if (priceRange.minPrice && priceRange.maxPrice) {\r\n      handleBlurPrice();\r\n    }\r\n  }, [priceRange]);\r\n\r\n  // const location = useLocation();\r\n  // const removeQuery = (key: any) => {\r\n  //   const pathname = location.pathname;\r\n  //   const searchParams = new URLSearchParams(location.search);\r\n  //   searchParams.delete(key);\r\n  //   history.push({\r\n  //     pathname: pathname,\r\n  //     search: searchParams.toString(),\r\n  //   });\r\n  // };\r\n  const objectToQueryString = (obj: any) => {\r\n    const qs = reduce(\r\n      obj,\r\n      function (result, value, key) {\r\n        if (!isNull(value) && !isUndefined(value)) {\r\n          if (isArray(value)) {\r\n            result += reduce(\r\n              value,\r\n              function (result1, value1) {\r\n                if (!isNull(value1) && !isUndefined(value1)) {\r\n                  result1 += key + '=' + value1 + '&';\r\n                  return result1;\r\n                } else {\r\n                  return result1;\r\n                }\r\n              },\r\n              '',\r\n            );\r\n          } else {\r\n            result += key + '=' + value + '&';\r\n          }\r\n          return result;\r\n        } else {\r\n          return result;\r\n        }\r\n      },\r\n      '',\r\n    ).slice(0, -1);\r\n    return qs;\r\n  };\r\n\r\n  const handleFilterProduct = async () => {\r\n    dispatch(action.filterProductSuccess([...stateProduct.productStore]));\r\n    let seachFilterValue = {};\r\n    map(filterSelection, (item: any) => {\r\n      if (item.type == 'minMax') {\r\n        if (item.filterData.minPrice) {\r\n          seachFilterValue = Object.assign({\r\n            ...seachFilterValue,\r\n            filterMinPrice: item.filterData.minPrice,\r\n          });\r\n        }\r\n        if (item.filterData.maxPrice) {\r\n          seachFilterValue = Object.assign({\r\n            ...seachFilterValue,\r\n            filterMaxPrice: item.filterData.maxPrice,\r\n          });\r\n        }\r\n      }\r\n    });\r\n    // let otherQuery = [];\r\n    // otherQuery = [\r\n    //   ...filterSelection\r\n    //     .filter((item: any) => item.type == 'other')\r\n    //     .map((i: any) => {\r\n    //       if (i.type == 'other') {\r\n    //         return parseInt(i.value);\r\n    //       }\r\n    //     }),\r\n    // ];\r\n    // const sortQuery = find(filterSelection, (d) => d.type == 'sort');\r\n    // const seachValueQueryString =\r\n    //   objectToQueryString(seachValue) +\r\n    //   (otherQuery && otherQuery.length > 0\r\n    //     ? `&other=${otherQuery.toString().replace(/,$/, '')}`\r\n    //     : '') +\r\n    //   (sortQuery ? '&sort=' + sortQuery.value : '');\r\n    // props.history.push({\r\n    //   search: seachValueQueryString,\r\n    // });\r\n  };\r\n\r\n  const handleCheckOther = (event: any) => {\r\n    const copyArr = [...filterSelection];\r\n    const data = {\r\n      type: 'other',\r\n      value: event?.target?.value,\r\n      name: event?.target?.name,\r\n    };\r\n    // const index = copyArr.findIndex(function (e: any) {\r\n    //   return e.value == data.value;\r\n    // });\r\n    // index != -1 ? copyArr.splice(index, 1) : copyArr.push(data);\r\n    const index = copyArr.findIndex(function (e: any) {\r\n      return e.type == 'other';\r\n    });\r\n\r\n    // index != -1 ? copyArr.splice(index, 1) : (copyArr = data);\r\n    if (index != -1) {\r\n      if (copyArr[index].value == data.value) {\r\n        copyArr.splice(index, 1);\r\n      } else {\r\n        copyArr.splice(index, 1);\r\n        copyArr.push(data);\r\n      }\r\n    } else {\r\n      copyArr.push(data);\r\n    }\r\n\r\n    const cloneArrSearch = [...search];\r\n\r\n    const indexSearch = cloneArrSearch.findIndex(function (e: any) {\r\n      return e.type == 'other';\r\n    });\r\n\r\n    // indexSearch != -1 ? cloneArrSearch.splice(index, 1) : cloneArrSearch.push(data);\r\n    if (indexSearch != -1) {\r\n      if (cloneArrSearch[indexSearch].value == data.value) {\r\n        cloneArrSearch.splice(indexSearch, 1);\r\n      } else {\r\n        cloneArrSearch.splice(indexSearch, 1);\r\n        cloneArrSearch.push(data);\r\n      }\r\n    } else {\r\n      cloneArrSearch.push(data);\r\n    }\r\n\r\n    setSearch(cloneArrSearch);\r\n\r\n    setFilterSelection(copyArr);\r\n  };\r\n  const handleCheckBrand = (event: any) => {\r\n    const copyArr = [...filterSelection];\r\n    const data = {\r\n      type: 'brands',\r\n      value: event?.target?.value,\r\n      name: event?.target?.name,\r\n    };\r\n    const index = copyArr.findIndex(function (e: any) {\r\n      return e.value == data.value;\r\n    });\r\n    index != -1 ? copyArr.splice(index, 1) : copyArr.push(data);\r\n\r\n    const cloneArrSearch = [...search];\r\n\r\n    const indexSearch = cloneArrSearch.findIndex(function (e: any) {\r\n      return e.value == event?.target?.value;\r\n    });\r\n\r\n    indexSearch != -1 ? cloneArrSearch.splice(index, 1) : cloneArrSearch.push(data);\r\n    setSearch(cloneArrSearch);\r\n\r\n    setFilterSelection(copyArr);\r\n  };\r\n  const handleCheckScent = (event: any) => {\r\n    const copyArr = [...filterSelection];\r\n    const data = {\r\n      type: 'scent',\r\n      value: event?.target?.value,\r\n      name: event?.target?.name,\r\n    };\r\n    const index = copyArr.findIndex(function (e: any) {\r\n      return e.value == data.value;\r\n    });\r\n    index != -1 ? copyArr.splice(index, 1) : copyArr.push(data);\r\n\r\n    const cloneArrSearch = [...search];\r\n\r\n    const indexSearch = cloneArrSearch.findIndex(function (e: any) {\r\n      return e.value == event?.target?.value;\r\n    });\r\n\r\n    indexSearch != -1 ? cloneArrSearch.splice(index, 1) : cloneArrSearch.push(data);\r\n    setSearch(cloneArrSearch);\r\n\r\n    setFilterSelection(copyArr);\r\n  };\r\n\r\n  const handleRemoveOtherFilter = (value: any) => {\r\n    const copyArr = [...filterSelection];\r\n    const index = copyArr.findIndex(function (e: any) {\r\n      return e.type == 'other' && e.value == value;\r\n    });\r\n    index != -1 ? copyArr.splice(index, 1) : '';\r\n    const coppyArrSearch = [...search];\r\n    const indexSearch = coppyArrSearch.findIndex(function (e: any) {\r\n      return e.type == 'other' && e.value == value;\r\n    });\r\n    index != -1 ? coppyArrSearch.splice(indexSearch, 1) : '';\r\n    setSearch(coppyArrSearch);\r\n    setFilterSelection(copyArr);\r\n  };\r\n\r\n  const handleRemoveScentFilter = (value: any) => {\r\n    const copyArr = [...filterSelection];\r\n    const index = copyArr.findIndex(function (e: any) {\r\n      return e.type == 'scent' && e.value == value;\r\n    });\r\n    index != -1 ? copyArr.splice(index, 1) : '';\r\n    const coppyArrSearch = [...search];\r\n    const indexSearch = coppyArrSearch.findIndex(function (e: any) {\r\n      return e.type == 'scent' && e.value == value;\r\n    });\r\n    index != -1 ? coppyArrSearch.splice(indexSearch, 1) : '';\r\n    setSearch(coppyArrSearch);\r\n    setFilterSelection(copyArr);\r\n  };\r\n\r\n  const handleRemoveBrandsFilter = (value: any) => {\r\n    const copyArr = [...filterSelection];\r\n    const index = copyArr.findIndex(function (e: any) {\r\n      return e.type == 'brands' && e.value == value;\r\n    });\r\n    index != -1 ? copyArr.splice(index, 1) : '';\r\n    const coppyArrSearch = [...search];\r\n    const indexSearch = coppyArrSearch.findIndex(function (e: any) {\r\n      return e.type == 'brands' && e.value == value;\r\n    });\r\n    index != -1 ? coppyArrSearch.splice(indexSearch, 1) : '';\r\n    setSearch(coppyArrSearch);\r\n\r\n    setFilterSelection(copyArr);\r\n  };\r\n\r\n  const handleClearFilter = () => {\r\n    const copyArr = [...stateProduct.productStore];\r\n    setPriceRange({\r\n      minPrice: '',\r\n      maxPrice: '',\r\n    });\r\n    setValidateFilter({ minMax: '' });\r\n    setFilterSelection([]);\r\n    setSearch([]);\r\n    // removeQuery('filterMinPrice');\r\n    // removeQuery('filterMaxPrice');\r\n    dispatch(action.filterProductSuccess(copyArr));\r\n  };\r\n\r\n  const handleLoadmore = () => {\r\n    const options = {\r\n      url: paging.next,\r\n      method: 'GET',\r\n      body: null,\r\n    };\r\n    setPaging({ ...paging, loading: true });\r\n    fetchClient(options).then((res) => {\r\n      res?.results ? dispatch(action.loadMoreProduct(res.results)) : '';\r\n      setPaging({ next: res.next, loading: false });\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    fetchDataInit();\r\n  }, []);\r\n  const handleKeyPress = () => {\r\n    setVisibleModalEmail(false);\r\n  };\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(props.location.search);\r\n    // const sortValueParam = params.get('sort');\r\n    // const filterOptionsSort = filter(sortOptions, (i) => i.value == sortValueParam);\r\n    const searchValue = params.get('search');\r\n    let obj = {};\r\n    if (find(search, (i: any) => i?.type == 'search') || searchValue) {\r\n      obj = Object.assign({\r\n        ...obj,\r\n        search:\r\n          search.find((i: any) => i?.type == 'search')?.value?.trim() || searchValue?.trim(),\r\n      });\r\n    }\r\n\r\n    if (search.find((i: any) => i?.type == 'sort')) {\r\n      obj = Object.assign({\r\n        ...obj,\r\n        ordering: search.find((i: any) => i?.type == 'sort').value,\r\n      });\r\n    }\r\n    if (search.find((i: any) => i?.type == 'minMax')) {\r\n      const minPrice = search.find((i: any) => i?.type == 'minMax')?.filterData?.minPrice;\r\n      const maxPrice = search.find((i: any) => i?.type == 'minMax')?.filterData?.maxPrice;\r\n      if (minPrice) {\r\n        obj = Object.assign({\r\n          ...obj,\r\n          min_price: search.find((i: any) => i?.type == 'minMax')?.filterData?.minPrice,\r\n        });\r\n      }\r\n\r\n      if (maxPrice) {\r\n        obj = Object.assign({\r\n          ...obj,\r\n          max_price: search.find((i: any) => i?.type == 'minMax')?.filterData?.maxPrice,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (find(search, (i: any) => i?.type == 'other')) {\r\n      let otherQuery = [];\r\n      otherQuery = [\r\n        ...search\r\n          .filter((item: any) => item?.type == 'other')\r\n          .map((i: any) => {\r\n            if (i.type == 'other') {\r\n              return i.value;\r\n            }\r\n          }),\r\n      ];\r\n\r\n      obj = Object.assign({\r\n        ...obj,\r\n        collections: otherQuery.toString().replace(/,$/, ''),\r\n      });\r\n    }\r\n\r\n    if (find(search, (i: any) => i?.type == 'scent')) {\r\n      let scentQuery = [];\r\n      scentQuery = [\r\n        ...search\r\n          .filter((item: any) => item?.type == 'scent')\r\n          .map((i: any) => {\r\n            if (i.type == 'scent') {\r\n              return i.value;\r\n            }\r\n          }),\r\n      ];\r\n\r\n      obj = Object.assign({\r\n        ...obj,\r\n        scents: scentQuery.toString().replace(/,$/, ''),\r\n      });\r\n    }\r\n\r\n    if (find(search, (i: any) => i?.type == 'brands')) {\r\n      let brandsQuery = [];\r\n      brandsQuery = [\r\n        ...search\r\n          .filter((item: any) => item.type == 'brands')\r\n          .map((i: any) => {\r\n            if (i.type == 'brands') {\r\n              return parseInt(i.value);\r\n            }\r\n          }),\r\n      ];\r\n\r\n      obj = Object.assign({\r\n        ...obj,\r\n        brands: brandsQuery.toString().replace(/,$/, ''),\r\n      });\r\n    }\r\n\r\n    const seachValueQueryString = objectToQueryString(obj);\r\n    props.history.push({\r\n      search: seachValueQueryString,\r\n    });\r\n  }, [search]);\r\n\r\n  useEffect(() => {\r\n    if (!isEmpty(dataCMS) && searchReady) {\r\n      setLoadingProduct(true);\r\n      fetchDataProduct(false);\r\n    }\r\n  }, [props.match]);\r\n\r\n  useEffect(() => {\r\n    handleFilterProduct();\r\n  }, [filterSelection]);\r\n\r\n  const openFilterBox = () => {\r\n    dispatch(action.toogleFilterBox(true));\r\n  };\r\n\r\n  let filteredboxQuantity = 0;\r\n  const handelToggleModal = () => {\r\n    setVisibleModalEmail(!visibleModalEmail);\r\n  };\r\n\r\n  const getBreadCrumb = (data: any): string => {\r\n    let link = '/';\r\n    const title = data?.meta?.parent.title;\r\n    if (title.match(/brand/gi)) {\r\n      link = '/brands/all';\r\n    }\r\n    return link;\r\n  };\r\n\r\n  const locationState: any = useLocation();\r\n  useEffect(() => {\r\n    const backgroundColor: any = dataCMS?.main_color;\r\n    const foregroundColor: any = dataCMS?.separator_color;\r\n    setColorHeaderIcons(backgroundColor);\r\n    setColorSearchBox(backgroundColor);\r\n    setColorCartBadge(backgroundColor);\r\n    setColorFooter(backgroundColor, foregroundColor);\r\n    setColorBlkIcons(backgroundColor);\r\n    setColorBreadcrumbBlkIcons(backgroundColor);\r\n    setColorResetFilterButton(backgroundColor);\r\n    setColorResultFilterBox(backgroundColor);\r\n    setColorWrapperFilterBox(backgroundColor, foregroundColor);\r\n  }, [dataCMS, locationState.search]);\r\n\r\n  return (\r\n    <div className=\"site-allProductPage\">\r\n      {loading ? <DotLoader /> : ''}\r\n      <Helmet>\r\n        <meta property=\"og:title\" content={`${dataCMS?.title} page | Sundora`} />\r\n        <meta property=\"og:description\" content={`${dataCMS?.title} page | Sundora`} />\r\n        <title>{`${dataCMS?.title ?? 'Filter'} page | Sundora`}</title>\r\n        <meta name=\"description\" content={`${dataCMS?.title} page | Sundora`} />\r\n      </Helmet>\r\n      {/* <Banner /> */}\r\n\r\n      {dataCMS?.featured_image ? (\r\n        <div\r\n          className={`banner-all-product ${dataCMS?.fullwidth ? '' : 'container m-0-auto'}`}\r\n        >\r\n          <Picture data={dataCMS?.featured_image} />\r\n        </div>\r\n      ) : (\r\n        ''\r\n      )}\r\n      <div className=\"container\">\r\n        {isMobile ? (\r\n          <>\r\n            <div className=\"block-icon-1\">\r\n              <BlockIcon iconList={dataIcon.value.icons} />\r\n            </div>\r\n            {dataCMS?.meta ? (\r\n              <div className=\"breadcrumb\">\r\n                <ul>\r\n                  <li>\r\n                    <Link to=\"/\">Home</Link>\r\n                  </li>\r\n                  <li>\r\n                    {/* <Link to={props.match.params.brand ? props.match.params.brand : '/'}> */}\r\n                    <a href={getBreadCrumb(dataCMS)}>{dataCMS?.meta?.parent.title}</a>\r\n                    {/* </Link> */}\r\n                  </li>\r\n                  <li>{dataCMS?.title}</li>\r\n                </ul>\r\n              </div>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </>\r\n        ) : (\r\n          <div className=\"wrapper-breadcrumb\">\r\n            <div className=\"block-icon-1\">\r\n              <BlockIcon iconList={dataIcon.value.icons} />\r\n            </div>\r\n            {dataCMS?.meta ? (\r\n              <div className=\"breadcrumb\">\r\n                <ul>\r\n                  <li>\r\n                    <Link to=\"/\">Home</Link>\r\n                  </li>\r\n                  <li>\r\n                    <a href={getBreadCrumb(dataCMS)}>{dataCMS?.meta?.parent.title}</a>\r\n                  </li>\r\n                  <li>{dataCMS?.title}</li>\r\n                </ul>\r\n              </div>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </div>\r\n        )}\r\n        {find(dataCMS?.body, (item: any) => item.type == 'filtered_products') ? (\r\n          ''\r\n        ) : (\r\n          <main className=\"blk-filter-results\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-3 col-md-12 col-12\">\r\n                <section className=\"sidebar-left\">\r\n                  <FilterProductBox\r\n                    brandID={dataCMS?.brand?.id}\r\n                    dataOther={filterData?.collections}\r\n                    dataScents={filterData?.scents}\r\n                    maxPrice={filterData?.max_price}\r\n                    dataBrands={dataCMS?.brands}\r\n                    handleSortProduct={handleSortProduct}\r\n                    filterSelection={filterSelection}\r\n                    handleRemovePriceFilter={handleRemovePriceFilter}\r\n                    handleRemoveOtherFilter={handleRemoveOtherFilter}\r\n                    handleRemoveScentFilter={handleRemoveScentFilter}\r\n                    handleRemoveBrandsFilter={handleRemoveBrandsFilter}\r\n                    handleClearFilter={handleClearFilter}\r\n                    handleFilterProduct={handleFilterProduct}\r\n                    priceRange={priceRange}\r\n                    handleChange={handleChange}\r\n                    handleBlurPrice={handleBlurPrice}\r\n                    validateFilter={validateFilter}\r\n                    handleCheckOther={handleCheckOther}\r\n                    handleCheckBrand={handleCheckBrand}\r\n                    handleCheckScent={handleCheckScent}\r\n                    setPriceRange={setPriceRange}\r\n                  />\r\n                </section>\r\n              </div>\r\n              <div className=\"col-lg-9 col-md-12 col-12\">\r\n                <section className=\"sort-box\">\r\n                  {isMobile ? (\r\n                    <button className=\"btn-filter-mobile\" onClick={openFilterBox}>\r\n                      FILTERS\r\n                    </button>\r\n                  ) : (\r\n                    ''\r\n                  )}\r\n                  <Select\r\n                    placeholder=\"Sort by\"\r\n                    className=\"primary-select\"\r\n                    searchable={false}\r\n                    labelField=\"title\"\r\n                    onChange={(value) => handleSortProduct(value)}\r\n                    valueField=\"value\"\r\n                    options={sortOptions}\r\n                    values={stateProduct.sortValue}\r\n                  />\r\n                </section>\r\n                {stateProduct.allProduct && stateProduct.allProduct.length > 0 ? (\r\n                  !loading ? (\r\n                    <div style={{ marginBottom: '3em' }} className=\"animated faster fade-in\">\r\n                      <BlockProduct productList={stateProduct.allProduct} title=\"\" />\r\n                      {paging.next ? (\r\n                        <button\r\n                          className={`btn-loadmore ${paging.loading ? 'loading' : ''}`}\r\n                          onClick={handleLoadmore}\r\n                        >\r\n                          {paging.loading ? (\r\n                            <div className=\"lds-roller\">\r\n                              <div></div>\r\n                              <div></div>\r\n                              <div></div>\r\n                              <div></div>\r\n                              <div></div>\r\n                              <div></div>\r\n                              <div></div>\r\n                              <div></div>\r\n                            </div>\r\n                          ) : (\r\n                            ''\r\n                          )}\r\n                          Load more\r\n                        </button>\r\n                      ) : (\r\n                        ''\r\n                      )}\r\n                    </div>\r\n                  ) : (\r\n                    ''\r\n                  )\r\n                ) : loadingProduct == true ? (\r\n                  <div className=\"lds-roller product-loading\">\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                  </div>\r\n                ) : (\r\n                  <div>\r\n                    <p className=\"loading-product not-found\">\r\n                      No products are matching your filters\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </main>\r\n        )}\r\n      </div>\r\n      <div style={{ paddingBottom: '0' }}>\r\n        {map(dataBody, (item: any, index: any) => {\r\n          switch (item.type) {\r\n            case 'carousel':\r\n              return (\r\n                <div style={{ marginTop: '1rem' }}>\r\n                  <BlockCarousel\r\n                    slides={item && item.value ? item?.value.slides : []}\r\n                    key={index}\r\n                    dragOrAuto={false}\r\n                    maxWidth={item && item?.value?.max_width ? item?.value?.max_width : ''}\r\n                    maxHeight={item && item?.value?.max_height ? item?.value?.max_height : ''}\r\n                  />\r\n                </div>\r\n              );\r\n            case 'spotlight':\r\n              return (\r\n                <BlockSpotlight\r\n                  headline={item?.value.headline}\r\n                  items={item?.value.rows}\r\n                  key={index}\r\n                />\r\n              );\r\n            case 'countdown':\r\n              return <CountDownBlock data={item?.value} key={index} timestamp={timeStamp} />;\r\n            case 'video':\r\n              return (\r\n                <VideoBlock\r\n                  data={item?.value}\r\n                  title={item?.value?.title || ''}\r\n                  showReadmore={true}\r\n                  key={index}\r\n                />\r\n              );\r\n            case 'icons':\r\n              return <BlockIcon iconList={item.value?.icons || []} />;\r\n            case 'product':\r\n              return (\r\n                <BlockProduct\r\n                  productList={item?.value.products}\r\n                  title={item?.value?.headline}\r\n                  key={index}\r\n                />\r\n              );\r\n            case 'paragraph':\r\n              return (\r\n                <div className=\"container\" key={index}>\r\n                  <div\r\n                    className=\"content-block\"\r\n                    dangerouslySetInnerHTML={{ __html: item?.value?.text }}\r\n                  ></div>\r\n                </div>\r\n              );\r\n            case 'title':\r\n              return <BlockTitle key={index} title={item?.value?.title} />;\r\n            case 'images':\r\n              return (\r\n                <div className=\"container\" key={index}>\r\n                  <div className=\"images-box-default\">\r\n                    <div className=\"wrapper-img row-span\">\r\n                      <Picture data={item?.value?.images?.big} />\r\n                    </div>\r\n                    <div className=\"wrapper-img\">\r\n                      <Picture data={item?.value?.images?.top_left} />\r\n                    </div>\r\n                    <div className=\"wrapper-img\">\r\n                      <Picture data={item?.value?.images?.bottom_left} />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            case 'filtered_products':\r\n              filteredboxQuantity++;\r\n              return filteredboxQuantity <= 1 ? (\r\n                <div className=\"container\" key={index}>\r\n                  <main className=\"blk-filter-results\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-lg-3 col-md-12 col-12\">\r\n                        <section className=\"sidebar-left\">\r\n                          <FilterProductBox\r\n                            brandID={dataCMS?.brand?.id}\r\n                            dataOther={filterData?.collections}\r\n                            dataScents={filterData?.scents}\r\n                            priceRange={priceRange}\r\n                            maxPrice={filterData?.max_price}\r\n                            // dataBrands={dataCMS?.all_brands}\r\n                            handleSortProduct={handleSortProduct}\r\n                            filterSelection={filterSelection}\r\n                            handleRemovePriceFilter={handleRemovePriceFilter}\r\n                            handleRemoveOtherFilter={handleRemoveOtherFilter}\r\n                            handleRemoveScentFilter={handleRemoveScentFilter}\r\n                            handleRemoveBrandsFilter={handleRemoveBrandsFilter}\r\n                            handleClearFilter={handleClearFilter}\r\n                            handleFilterProduct={handleFilterProduct}\r\n                            handleChange={handleChange}\r\n                            handleBlurPrice={handleBlurPrice}\r\n                            validateFilter={validateFilter}\r\n                            handleCheckOther={handleCheckOther}\r\n                            handleCheckBrand={handleCheckBrand}\r\n                            handleCheckScent={handleCheckScent}\r\n                            setPriceRange={setPriceRange}\r\n                          />\r\n                        </section>\r\n                      </div>\r\n                      <div className=\"col-lg-9 col-md-12 col-12\">\r\n                        <section className=\"sort-box\">\r\n                          {isMobile ? (\r\n                            <button className=\"btn-filter-mobile\" onClick={openFilterBox}>\r\n                              FILTERS\r\n                            </button>\r\n                          ) : (\r\n                            ''\r\n                          )}\r\n                          <Select\r\n                            placeholder=\"Sort by\"\r\n                            className=\"primary-select\"\r\n                            searchable={false}\r\n                            labelField=\"title\"\r\n                            onChange={(value) => handleSortProduct(value)}\r\n                            valueField=\"value\"\r\n                            options={sortOptions}\r\n                            values={stateProduct.sortValue}\r\n                          />\r\n                        </section>\r\n                        {stateProduct.allProduct && stateProduct.allProduct.length > 0 ? (\r\n                          !loading ? (\r\n                            <div\r\n                              style={{ marginBottom: '3em' }}\r\n                              className=\"animated faster fade-in\"\r\n                            >\r\n                              <BlockProduct productList={stateProduct.allProduct} title=\"\" />\r\n                              {paging.next ? (\r\n                                <button\r\n                                  className={`btn-loadmore ${paging.loading ? 'loading' : ''}`}\r\n                                  onClick={handleLoadmore}\r\n                                >\r\n                                  {paging.loading ? (\r\n                                    <div className=\"lds-roller\">\r\n                                      <div></div>\r\n                                      <div></div>\r\n                                      <div></div>\r\n                                      <div></div>\r\n                                      <div></div>\r\n                                      <div></div>\r\n                                      <div></div>\r\n                                      <div></div>\r\n                                    </div>\r\n                                  ) : (\r\n                                    ''\r\n                                  )}\r\n                                  Load more\r\n                                </button>\r\n                              ) : (\r\n                                ''\r\n                              )}\r\n                            </div>\r\n                          ) : (\r\n                            ''\r\n                          )\r\n                        ) : loadingProduct == true ? (\r\n                          <div className=\"lds-roller product-loading\">\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                            <div></div>\r\n                          </div>\r\n                        ) : (\r\n                          <div>\r\n                            <p className=\"loading-product not-found\">\r\n                              No products are matching your filters\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </main>\r\n                </div>\r\n              ) : (\r\n                <></>\r\n              );\r\n            case 'bloglist':\r\n              return <BlockBlogs blogList={item?.value} title=\"Sundora Blogs\" key={index} />;\r\n            case 'form':\r\n              return item?.value?.modal == 'True' ? (\r\n                <BlockModal\r\n                  isOpen={visibleModalEmail}\r\n                  minWidth=\"36%\"\r\n                  maskBg={false}\r\n                  onKeyPress={() => handleKeyPress()}\r\n                  onClickAway={() => handelToggleModal()}\r\n                  key={index}\r\n                >\r\n                  <BlockCollectEmail\r\n                    content={item?.value}\r\n                    formField={dataFormField}\r\n                    url={dataCMS?.meta?.html_url}\r\n                    closeModal={handelToggleModal}\r\n                  />\r\n                </BlockModal>\r\n              ) : (\r\n                <BlockFormField\r\n                  content={item?.value}\r\n                  formField={dataFormField}\r\n                  url={dataCMS?.meta?.html_url}\r\n                  key={index}\r\n                />\r\n              );\r\n            case 'recommended':\r\n              return (\r\n                <BlockProduct\r\n                  productList={item?.value?.products}\r\n                  title={item?.value?.headline}\r\n                  key={index}\r\n                />\r\n              );\r\n            case 'questionnaire':\r\n              return <BlockQuestionnaire data={item?.value} key={index} />;\r\n            case 'allbrands':\r\n              return <BlockAllBrands data={item?.value} key={index} />;\r\n            default:\r\n              break;\r\n          }\r\n        })}\r\n      </div>\r\n      <div\r\n        // className={`main-content ${isSticky ? 'stick-icon' : ''}`}\r\n        className=\"main-content\"\r\n      >\r\n        <BlockIcon iconList={iconList} />\r\n      </div>\r\n      <div ref={refFooter}>\r\n        <Footer data={dataFooter} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(BrandProductPage);\r\n","export default __webpack_public_path__ + \"static/media/addToCart-white.47327068.svg\";","import React, { memo } from 'react';\r\n\r\nfunction BlockTitle(props: any) {\r\n  return (\r\n    <div className=\"container\" style={props?.styleDiv}>\r\n      <h1 className=\"title-block-default\" style={props?.styleText}>\r\n        {props?.title}\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(BlockTitle);\r\n","export default __webpack_public_path__ + \"static/media/logo.d1cd0572.png\";","import React, { useEffect, useRef, useState } from 'react';\r\nimport icAddToCart from '../../../images/icons/addToCart-white.svg';\r\nimport Picture from '../../Picture';\r\nimport { useDispatch, useSelector, RootStateOrAny } from 'react-redux';\r\nimport * as action from '../../../redux/product/actions';\r\nimport * as actionHome from '../../../redux/home/actions';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { moneyFormater } from '../../../redux/Helpers';\r\nimport { addProductToCart } from '../../../utils/helpers/productTracker';\r\n\r\nfunction itemProduct({ productItem }: { productItem: any }) {\r\n  const state = useSelector((state: RootStateOrAny) => state.productReducer);\r\n  const itemProductRef = useRef<any>(null);\r\n  const [image, setImage] = useState({});\r\n  const dispatch = useDispatch();\r\n  const keyEndpoint = productItem?.value ? productItem?.value : productItem;\r\n  const handleCheckoutProduct = (e: any) => {\r\n    e.stopPropagation();\r\n    const variant = keyEndpoint?.product_variants[0] || {};\r\n    const data = {\r\n      // variant_id: 39482168017060,\r\n      variant_id: variant?.variant_id ?? '',\r\n      quantity: 1,\r\n    };\r\n    const index = state?.lineItems.findIndex(function (e: any) {\r\n      return e.variant_id == data.variant_id;\r\n    });\r\n    const copyArr = [...state?.lineItems];\r\n\r\n    if (index != -1) {\r\n      const newData = {\r\n        variant_id: data.variant_id,\r\n        quantity: state?.lineItems[index].quantity + data.quantity,\r\n      };\r\n      copyArr[index] = newData;\r\n    } else {\r\n      copyArr.push(data);\r\n    }\r\n\r\n    addProductToCart({\r\n      ...keyEndpoint,\r\n      variant_id: variant.variant_id,\r\n      price: variant?.price,\r\n      title: variant?.title,\r\n      quantity: 1,\r\n    });\r\n\r\n    dispatch(action.checkoutProduct(copyArr));\r\n\r\n    dispatch(actionHome.toggleShoppingbag(true));\r\n  };\r\n  const history = useHistory();\r\n\r\n  const directDetailProduct = (handle: any, brandName: any) => {\r\n    history.push('/brand/' + brandName + '/' + handle);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (itemProductRef && itemProductRef.current) {\r\n      const width = itemProductRef.current.clientHeight;\r\n      const height = itemProductRef.current.clientHeight;\r\n      setImage({\r\n        ...keyEndpoint.images[0]?.url,\r\n        width: width,\r\n        height: height,\r\n      });\r\n    }\r\n  }, [keyEndpoint, itemProductRef]);\r\n  return (\r\n    <div\r\n      className=\"product-item-box\"\r\n      // onClick={() => {\r\n      //   directDetailProduct(keyEndpoint.handle, keyEndpoint?.brand_page?.page_ptr?.handle);\r\n      // }}\r\n    >\r\n      <div className=\"favorite-box\">\r\n        {/* <img\r\n          src={icHeart}\r\n          alt=\"\"\r\n          style={{ visibility: !productItem.is_favorite ? 'visible' : 'hidden' }}\r\n        /> */}\r\n        <div></div>\r\n\r\n        {keyEndpoint.fixed_rebate ? (\r\n          <span\r\n            className=\"sale-inf\"\r\n            style={{ visibility: keyEndpoint.fixed_rebate > 0 ? 'visible' : 'hidden' }}\r\n          >\r\n            {keyEndpoint.fixed_rebate > 0 ? `-${keyEndpoint.fixed_rebate}%` : ''}\r\n          </span>\r\n        ) : (\r\n          ''\r\n        )}\r\n        {/* <span\r\n          className=\"sale-inf bonus\"\r\n          style={{ display: productItem.bonus ? 'flex' : 'none' }}\r\n        >\r\n          3{' '}\r\n          <span>\r\n            <span>FOR</span> 2\r\n          </span>\r\n        </span> */}\r\n      </div>\r\n      <div className=\"img-product\" ref={itemProductRef}>\r\n        <Picture data={image} />\r\n      </div>\r\n      <div className=\"bot\">\r\n        <div className=\"row\">\r\n          <div className=\"info\">\r\n            <p className=\"title-item\">{keyEndpoint.brand?.name}</p>\r\n            <p className=\"title-info\">{keyEndpoint?.name}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\" info\">\r\n            <span className={`money ${productItem.sale ? 'sale-price' : ''}`}>\r\n              {moneyFormater(keyEndpoint?.product_variants[0].price)}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"btn-detail\"\r\n          onClick={() => {\r\n            directDetailProduct(keyEndpoint.handle, keyEndpoint?.brand_page?.page_ptr?.handle);\r\n          }}\r\n        >\r\n          Discover\r\n        </button>\r\n        <button className=\"btn-add\" onClick={handleCheckoutProduct}>\r\n          ADD TO BAG\r\n          <img src={icAddToCart} alt=\"ic-add-to-cart\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// itemProduct.propTypes = {\r\n//   productItem: PropTypes.object.isRequired,\r\n// };\r\n\r\nexport default itemProduct;\r\n","import React, { memo, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ItemProduct from './itemProduct';\r\nimport { map } from 'lodash';\r\nimport { isMobile } from '../../../DetectScreen';\r\nimport AwesomeSlider from 'react-awesome-slider';\r\n\r\nfunction BlockProduct({\r\n  productList,\r\n  title,\r\n  subTitle,\r\n}: {\r\n  productList: any;\r\n  title: string;\r\n  subTitle: string;\r\n}) {\r\n  const [selectedIndex, setSelectedIndex] = useState<number>(0);\r\n\r\n  const handleSlider = (type: string) => {\r\n    if (type == 'next') {\r\n      setSelectedIndex(\r\n        selectedIndex + 1 >= productList.length ? productList.length - 1 : selectedIndex + 1,\r\n      );\r\n      return;\r\n    }\r\n    if (type == 'prev') {\r\n      setSelectedIndex(selectedIndex - 1 <= 0 ? 0 : selectedIndex - 1);\r\n      return;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"blk-questionnaire-product\">\r\n      <div className=\"container\">\r\n        {/* Title */}\r\n        {title ? <h3 className=\"title-block\">{title}</h3> : ''}\r\n\r\n        {/* Sub title */}\r\n        {subTitle ? <p className=\"sub-title-block\">{subTitle}</p> : ''}\r\n\r\n        {/* line center */}\r\n        <div className=\"line-center\"></div>\r\n\r\n        <div className={`${!isMobile ? 'row' : ''} list-product`}>\r\n          {isMobile ? (\r\n            <>\r\n              <AwesomeSlider\r\n                selected={selectedIndex}\r\n                fillParent={false}\r\n                mobileTouch={true}\r\n                buttons={false}\r\n                bullets={true}\r\n                className=\"animation-slider\"\r\n                onTransitionEnd={(e: any) => {\r\n                  setSelectedIndex(e.currentIndex);\r\n                }}\r\n              >\r\n                {map(productList, (item: any, index: number) => (\r\n                  <div\r\n                    className=\"animated fasted fade-in\"\r\n                    key={index}\r\n                    style={{ marginBottom: 16 }}\r\n                  >\r\n                    <ItemProduct productItem={item} />\r\n                  </div>\r\n                ))}\r\n              </AwesomeSlider>\r\n              <div className=\"group-button\">\r\n                <button\r\n                  className={`next ${\r\n                    selectedIndex == productList.length - 1 ? 'btn-end' : ''\r\n                  }`}\r\n                  onClick={() => {\r\n                    handleSlider('next');\r\n                  }}\r\n                >\r\n                  <span className=\"material-icons\">navigate_next</span>\r\n                </button>\r\n                <button\r\n                  className={`prev ${selectedIndex == 0 ? 'btn-end' : ''}`}\r\n                  onClick={() => {\r\n                    handleSlider('prev');\r\n                  }}\r\n                >\r\n                  <span className=\"material-icons\">navigate_next</span>\r\n                </button>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              {map(productList, (item: any, index: number) => (\r\n                <div\r\n                  className=\"col-lg-3 col-md-4 col-6 animated fasted fade-in\"\r\n                  key={index}\r\n                  style={{ marginBottom: 16 }}\r\n                >\r\n                  <ItemProduct productItem={item} />\r\n                </div>\r\n              ))}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nBlockProduct.propTypes = {\r\n  productList: PropTypes.array,\r\n  title: PropTypes.string,\r\n};\r\n\r\nexport default memo(BlockProduct);\r\n","export default __webpack_public_path__ + \"static/media/left-arrow.3c5c1c94.svg\";","export default __webpack_public_path__ + \"static/media/home.9bf8126f.svg\";","import { isEmpty } from 'lodash';\r\nimport React, { memo, useEffect, useState } from 'react';\r\nimport SundoraLogo from '../../images/block-questionnaire/logo.png';\r\nimport { GET_QUESTIONNAIRE } from '../../config';\r\nimport { fetchClient } from '../../redux/Helpers';\r\nimport AwesomeSlider from 'react-awesome-slider';\r\nimport 'react-awesome-slider/src/core/styles.scss';\r\nimport DotLoader from '../DotLoader';\r\nimport BlockProduct from './BlockProduct';\r\nimport { isMobile } from '../../DetectScreen';\r\nimport icBack from '../../images/block-questionnaire/left-arrow.svg';\r\nimport icHome from '../../images/block-questionnaire/home.svg';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction BlockQuestionnaire({ data }: { data: any }) {\r\n  const [dataQuestionnaire, setDataQuestionnaire] = useState<any>([]);\r\n  const [question, setQuestion] = useState<any>([]);\r\n  const [questionSliderIndex, setQuestionSliderIndex] = useState<any>(0);\r\n  const [answerTemp, setAnswerTemp] = useState<any>({\r\n    questionIndex: null,\r\n    answerKey: null,\r\n  });\r\n  // const [questionReady, setQuestionReady] = useState<boolean>(false);\r\n  const [loadingProduct, setLoadingProduct] = useState<boolean>(false);\r\n  const [dotClick, setDotClick] = useState<boolean>(false);\r\n  const [products, setProducts] = useState<Array<any>>([]);\r\n  const [productNotExists, setProductNotExists] = useState<boolean>(false);\r\n  const [lastQuestion, setLastQuestion] = useState<boolean>(false);\r\n\r\n  const fetchDataInit = async () => {\r\n    if (isEmpty(dataQuestionnaire)) {\r\n      const options = {\r\n        url: `${GET_QUESTIONNAIRE}${data?.value}`,\r\n        method: 'GET',\r\n        body: null,\r\n      };\r\n      try {\r\n        const res = await fetchClient(options);\r\n        if (res.length > 0) {\r\n          setDataQuestionnaire(res);\r\n          setQuestion([...question, { ...res[0] }]);\r\n        }\r\n      } catch (error) {\r\n        // toastrError(error.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleAnswerTemp = (index: any, answerKey: any) => {\r\n    if (index == 5) {\r\n      setLastQuestion(true);\r\n    } else {\r\n      setLastQuestion(false);\r\n    }\r\n    setAnswerTemp({\r\n      ...answerTemp,\r\n      questionIndex: index,\r\n      answerKey: answerKey,\r\n    });\r\n  };\r\n\r\n  const handleQuestionSliderDot = (index: any) => {\r\n    if (index < question.length && index != questionSliderIndex) {\r\n      if (questionSliderIndex > 0) {\r\n        const questionClone = [...question];\r\n        setQuestion(questionClone.slice(0, index + 1));\r\n      }\r\n      setQuestionSliderIndex(index);\r\n      setDotClick(true);\r\n    }\r\n  };\r\n\r\n  const handleBackOrReStartQuestion = () => {\r\n    if (productNotExists || products.length > 0) {\r\n      setProducts([]);\r\n      setQuestion([{ ...dataQuestionnaire[0] }]);\r\n      setQuestionSliderIndex(0);\r\n      setProductNotExists(false);\r\n      return;\r\n    }\r\n    if (questionSliderIndex > 0) {\r\n      const questionClone = [...question];\r\n      questionClone.pop();\r\n      setQuestion(questionClone);\r\n    }\r\n    const index = questionSliderIndex == 0 ? 0 : questionSliderIndex - 1;\r\n    setQuestionSliderIndex(index);\r\n    setDotClick(true);\r\n  };\r\n\r\n  const handleQuestion = () => {\r\n    if (answerTemp.questionIndex == null) {\r\n      return;\r\n    }\r\n    const questionParent = question.find(\r\n      (item: any, index: any) => index == answerTemp.questionIndex,\r\n    );\r\n    if (!lastQuestion && questionParent && questionParent.children) {\r\n      const answer = questionParent.children.find(\r\n        (item: any) => item.data.parent_answer == `answer_${answerTemp.answerKey}`,\r\n      );\r\n      if (answer) {\r\n        if (dotClick) {\r\n          const questionTemp = question.slice(0, answerTemp.questionIndex + 1);\r\n          setQuestion([...questionTemp, { ...answer }]);\r\n          setQuestionSliderIndex(questionTemp.length);\r\n          setDotClick(false);\r\n        } else {\r\n          setQuestion([...question, { ...answer }]);\r\n          setQuestionSliderIndex(question.length);\r\n        }\r\n        setAnswerTemp({\r\n          ...answerTemp,\r\n          questionIndex: null,\r\n          answerKey: null,\r\n        });\r\n        // setQuestionReady(true);\r\n      } else {\r\n        setLoadingProduct(true);\r\n      }\r\n      return;\r\n    }\r\n    setLoadingProduct(true);\r\n  };\r\n\r\n  const handleGetProduct = async () => {\r\n    const lastQuestion = question[question.length - 1];\r\n    let childQuestion = lastQuestion;\r\n    if (lastQuestion?.children && lastQuestion?.children.length > 0) {\r\n      childQuestion = lastQuestion.children.find(\r\n        (item: any) => item.data.parent_answer == `answer_${answerTemp.answerKey}`,\r\n      );\r\n    }\r\n    const params = {\r\n      questionnaire_id: childQuestion?.id,\r\n      collections: childQuestion?.data?.collection,\r\n      scents: childQuestion?.data?.scent,\r\n    };\r\n    const options = {\r\n      url: `${GET_QUESTIONNAIRE}`,\r\n      method: 'POST',\r\n      body: params,\r\n    };\r\n    try {\r\n      const res = await fetchClient(options);\r\n      setProducts(res.products);\r\n      setLoadingProduct(false);\r\n      if (res.products.length == 0) {\r\n        setProductNotExists(true);\r\n      }\r\n    } catch (error) {\r\n      // console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDataInit();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (loadingProduct) {\r\n      handleGetProduct();\r\n    }\r\n  }, [loadingProduct]);\r\n\r\n  useEffect(() => {\r\n    handleQuestion();\r\n  }, [answerTemp]);\r\n\r\n  return (\r\n    <div\r\n      className=\"site-questionnaire\"\r\n      style={{ backgroundImage: `url('${data?.background?.webp}')`, backgroundSize: 'cover' }}\r\n    >\r\n      {loadingProduct ? <DotLoader /> : ''}\r\n      <div className={`container ${products.length > 0 ? 'opacity-none' : ''}`}>\r\n        {/* Posision asoluste */}\r\n        <button className={`btn-back`} onClick={handleBackOrReStartQuestion}>\r\n          {/* <span className=\"material-icons\">trending_flat</span> */}\r\n          <img className=\"ic-back\" src={icBack} alt=\"ic-back\" />\r\n          <span>{productNotExists || products.length > 0 ? 'RESTART QUIZ' : 'BACK'}</span>\r\n        </button>\r\n\r\n        <Link className={`btn-home`} to=\"/\">\r\n          {/* <span className=\"material-icons\">home</span> */}\r\n          <img className=\"ic-home\" src={icHome} alt=\"ic-home\" />\r\n          <br />\r\n          <span>HOME</span>\r\n        </Link>\r\n\r\n        {/* Logo */}\r\n        <div className=\"logo\">\r\n          <img src={SundoraLogo} width={130} height=\"auto\" alt=\"sundora-logo\" />\r\n        </div>\r\n\r\n        {productNotExists ? (\r\n          <div className=\"product-not-exists\">\r\n            <h2>\r\n              There is no suitable product for you,{' '}\r\n              <span onClick={handleBackOrReStartQuestion}>please try again</span>.\r\n            </h2>\r\n          </div>\r\n        ) : products.length > 0 ? (\r\n          <BlockProduct\r\n            productList={products}\r\n            title={'Top products for you:'}\r\n            subTitle={'Based on your answers here it what we recommend'}\r\n          />\r\n        ) : (\r\n          <div className=\"question\">\r\n            {/* Text question */}\r\n            <h2 className=\"text-question-step\">Question {questionSliderIndex + 1} / 6</h2>\r\n\r\n            <AwesomeSlider\r\n              selected={questionSliderIndex}\r\n              fillParent={false}\r\n              mobileTouch={false}\r\n              bullets={false}\r\n              className=\"animation-slider\"\r\n              buttons={false}\r\n            >\r\n              {question.map((item: any, index: any) => (\r\n                <div key={index} className=\"detail-question\">\r\n                  {/* Text question name */}\r\n                  <h1 className=\"text-question-name\">{item.data.question}</h1>\r\n\r\n                  {/* line center */}\r\n                  <div className=\"line-center\"></div>\r\n\r\n                  {/* Block answer */}\r\n                  <div className=\"row\" style={{ padding: isMobile ? 20 : 13 }}>\r\n                    {[1, 2, 3, 4].map((answer: any) => (\r\n                      <button\r\n                        key={answer}\r\n                        onClick={() => {\r\n                          handleAnswerTemp(index, answer);\r\n                        }}\r\n                        className={`${isMobile ? 'col-12' : 'col'} block-answer ${\r\n                          answerTemp.answerKey == answer ? 'block-answer-active' : ''\r\n                        } ${item.data[`answer_${answer}`] != '' ? '' : 'd-none'}`}\r\n                      >\r\n                        <p>{item.data[`answer_${answer}`]}</p>\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </AwesomeSlider>\r\n\r\n            {/* btn next {question */}\r\n            {/* <button className=\"btn-next\" onClick={handleQuestion}>\r\n              <span>Next question</span>\r\n              <span className=\"material-icons\">\r\n                navigate_next\r\n              </span>\r\n            </button> */}\r\n\r\n            {/* group dot */}\r\n            <div className=\"group-dot\">\r\n              {Array.from(Array(6).keys()).map((item: any, index: any) => (\r\n                <button\r\n                  key={index}\r\n                  className={`btn-dot${index < question.length ? ' btn-dot-active' : ''}`}\r\n                  onClick={() => handleQuestionSliderDot(index)}\r\n                ></button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(BlockQuestionnaire);\r\n","import React, { memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { map, reduce } from 'lodash';\r\n\r\nconst alphabet = [\r\n  '#',\r\n  'A',\r\n  'B',\r\n  'C',\r\n  'D',\r\n  'E',\r\n  'F',\r\n  'G',\r\n  'H',\r\n  'I',\r\n  'J',\r\n  'K',\r\n  'L',\r\n  'M',\r\n  'N',\r\n  'O',\r\n  'P',\r\n  'Q',\r\n  'R',\r\n  'S',\r\n  'T',\r\n  'U',\r\n  'V',\r\n  'W',\r\n  'X',\r\n  'Y',\r\n  'Z',\r\n];\r\n\r\nfunction BlockAllBrands({ data }: { data: any }) {\r\n  const brands = reduce(\r\n    data.brands,\r\n    (r: any, e: any) => {\r\n      // get first letter of name of current element\r\n      let group = e.name[0];\r\n      if (group == '#' || (group != '#' && alphabet.indexOf(group) == -1)) {\r\n        group = '#';\r\n      }\r\n\r\n      // if there is no property in accumulator with this letter create it\r\n      if (!r[group]) r[group] = { group, children: [e] };\r\n      // if there is push current element to children array for that letter\r\n      else r[group].children.push(e);\r\n      // return accumulator\r\n      return r;\r\n    },\r\n    {},\r\n  );\r\n  const resultGroupBrandsAlphabet = Object.values(brands);\r\n  return (\r\n    <>\r\n      <section className=\"blk-all-brands container\">\r\n        <div className=\"box-title\">\r\n          <p>{data?.headline}</p>\r\n        </div>\r\n        <div className=\"box-alplabet\">\r\n          {map(alphabet, (i: any, index: number) => (\r\n            <div key={index} className=\"box-alplabet__detail\">\r\n              <a href={`#${i}`}>{i}</a>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"box-all-brands\">\r\n          {resultGroupBrandsAlphabet\r\n            .sort((a: any, b: any) => a.group.localeCompare(b.group))\r\n            .map((item: any, index: any) => (\r\n              <div id={item.group} key={index} className=\"box-all-brands__detail\">\r\n                <span>{item.group}</span>\r\n                <ul>\r\n                  {map(item.children, (i: any) => (\r\n                    <li>\r\n                      <a\r\n                        className={`${i?.brand_page?.relative_url ? '' : 'un-active'}`}\r\n                        href={i?.brand_page?.relative_url}\r\n                        dangerouslySetInnerHTML={{ __html: i.name }}\r\n                      ></a>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\nBlockAllBrands.propTypes = {\r\n  data: PropTypes.object,\r\n};\r\n\r\nexport default memo(BlockAllBrands);\r\n"],"sourceRoot":""}