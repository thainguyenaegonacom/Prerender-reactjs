(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[30],{260:function(e,t,c){"use strict";t.a=c.p+"static/media/star-solid.a72ad899.svg"},261:function(e,t,c){"use strict";t.a=c.p+"static/media/star-regular.b7450f45.svg"},391:function(e,t,c){},392:function(e,t,c){},393:function(e,t,c){},394:function(e,t,c){},616:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),i=c(14),s=c(10),l=c(17),o=c(1),r=c(66),d=c(28),j=c(11),u=(c(250),c(391),c(249)),v=c(5),b=c(607),m=c(0),h=["size","stroke"],O=["size","stroke"],p=function(e){var t=e.size,c=void 0===t?20:t,n=e.stroke,a=void 0===n?"currentColor":n,i=Object(b.a)(e,h);return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("svg",Object(v.a)(Object(v.a)({width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"icon-chevron-down"},i),{},{children:Object(m.jsx)("path",{d:"M6 9l6 6 6-6"})}))})},x=function(e){var t=e.size,c=void 0===t?20:t,n=e.stroke,a=void 0===n?"currentColor":n,i=Object(b.a)(e,O);return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("svg",Object(v.a)(Object(v.a)({width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"icon-chevron-up"},i),{},{children:Object(m.jsx)("path",{d:"M18 15l-6-6-6 6"})}))})},f=(c(392),c.p+"static/media/shoppingCart-white.397624b1.svg"),g=c.p+"static/media/avatar-white.963773ed.svg",N=c.p+"static/media/ic-sundora-vip.a9adce31.svg",_=c.p+"static/media/heart-border-white.f7671c32.svg",w=c.p+"static/media/tag-white.698699e2.svg",y=c.p+"static/media/location-white.0e951e65.svg";function k(e){var t=e.name,c=function(e){switch(e){case"order":return Object(m.jsx)("img",{src:f});case"sundora-vip":return Object(m.jsx)("img",{src:N,width:"24"});case"account":return Object(m.jsx)("img",{src:g});case"heart":return Object(m.jsx)("img",{src:_});case"tag":return Object(m.jsx)("img",{src:w});case"location":return Object(m.jsx)("img",{src:y});default:return""}};return c(t)?Object(m.jsx)("section",{className:"icon",children:c(t)}):Object(m.jsx)(m.Fragment,{})}k.displayName="Icon";var I=k,C=function(e){var t=e.activeItemId,c=e.onSelect,n=e.items,a=Object(o.useState)({expanded:!0,selectedId:t}),i=Object(s.a)(a,2),l=i[0],r=i[1];function d(e){null===c||void 0===c||c({itemId:e})}return Object(o.useEffect)((function(){r((function(e){return{expanded:e.expanded,selectedId:t}}))}),[t]),Object(m.jsx)(m.Fragment,{children:n.length>0&&Object(m.jsx)("nav",{role:"navigation","aria-label":"side-navigation",className:"side-navigation-panel",children:n.map((function(e){var t=l.expanded&&(e.itemId===l.selectedId||e.subNav&&e.subNav.some((function(e){return e.itemId===l.selectedId}))||!1);return Object(m.jsxs)("ul",{className:"side-navigation-panel-select",children:[Object(m.jsx)("li",{className:"side-navigation-panel-select-wrap",children:Object(m.jsxs)("div",{onClick:function(){!function(e){if(l.expanded){var t=e.itemId===l.selectedId||e.subNav&&e.subNav.some((function(e){return e.itemId===l.selectedId}))||!1;r({expanded:!!(e.subNav&&e.subNav.length>0)&&!t,selectedId:e.itemId})}else r({expanded:!!(e.subNav&&e.subNav.length>0),selectedId:e.itemId})}(e),d(e.itemId)},className:"side-navigation-panel-select-option hover:bg-gray-100 hover:text-gray-800 hover:border-pink-500 focus:outline-none ".concat(l.selectedId===e.itemId?"side-navigation-panel-select-option-selected":""),children:[Object(m.jsxs)("span",{className:"side-navigation-panel-select-option-wrap",children:[Object(m.jsx)(I,{name:e.iconName}),Object(m.jsx)("span",{className:"side-navigation-panel-select-option-text",children:e.title})]}),e.subNav&&e.subNav.length>0&&(t?Object(m.jsx)(x,{}):Object(m.jsx)(p,{}))]})}),e.subNav&&e.subNav.length>0&&t&&Object(m.jsx)("ul",{className:"side-navigation-panel-select-inner",children:e.subNav.map((function(e){return Object(m.jsx)("li",{className:"side-navigation-panel-select-inner-wrap",children:Object(m.jsx)("div",{onClick:function(){r(Object(v.a)(Object(v.a)({},l),{},{selectedId:e.itemId})),d(e.itemId)},className:"side-navigation-panel-select-inner-option hover:bg-gray-100 hover:text-gray-800 hover:border-pink-500 ".concat(l.selectedId===e.itemId?"side-navigation-panel-select-inner-option-selected":""," "),children:e.title})},e.itemId)}))})]},e.itemId)}))})})},S=(c(393),c(29)),E=c(64),P=c.p+"static/media/document.17573b27.svg",A=c.p+"static/media/package.c1149b56.svg",M=c(18),R=c(43),D=c(269),T=c.n(D),B=c(19),Y=c(20),L=c(6),F=c(67);var q=function(e){var t=e.orderId,c=e.isOpen,n=e.onClickAway,a=e.onKeyPress,i=e.fetchDataOrder,l=Object(o.useState)(""),r=Object(s.a)(l,2),u=r[0],v=r[1];return Object(m.jsx)(F.default,{isOpen:c,minWidth:d.a?"70%":"36%",maskBg:!0,onKeyPress:a,onClickAway:n,children:Object(m.jsxs)("div",{className:"cancel-order",children:[Object(m.jsx)("textarea",{className:"comment",value:u,name:"message",onChange:function(e){return function(e){var t=e.currentTarget.value;e instanceof HTMLTextAreaElement&&(t=e.currentTarget.innerText),v(t)}(e)},rows:8,placeholder:" Cancelling order? Tell us why (Optional)"}),Object(m.jsxs)("div",{className:"cancel-order-action btn-group",children:[Object(m.jsx)("button",{className:"cancel btn-primary-outline",onClick:function(){if(null===t||void 0===t?void 0:t.length){var e={url:"".concat(L.R).concat(t,"/cancel"),method:"PUT",body:{message:u}};Object(j.e)(e).then((function(e){e.success?(Object(j.q)("Cancel successful"),i(!0),n()):e.isError&&(Object(j.p)("Cancel fail"),n())}))}},children:"CANCEL ORDER"}),Object(m.jsx)("button",{className:"back btn-primary",onClick:function(){v(""),n()},children:"GO BACK"})]})]})})};var G=function(e){var t=Object(B.d)((function(e){return e.productReducer})),c=Object(B.c)(),n=Object(Y.g)(),a=Object(o.useState)(""),i=Object(s.a)(a,2),r=i[0],d=i[1],u=Object(o.useState)(!1),v=Object(s.a)(u,2),b=v[0],h=v[1],O=function(){n.push("/page/return-policy")};return Object(m.jsxs)(m.Fragment,{children:[Object(l.map)(null===e||void 0===e?void 0:e.data,(function(e,n){var a,i,s,o,r,u,v;return Object(m.jsxs)("div",{className:"wrapper-row-item",children:[Object(m.jsxs)("div",{className:"row info-extra",children:[Object(m.jsx)("div",{className:"col-2",children:T()(null===e||void 0===e?void 0:e.created_at).format("MMM DD YYYY")}),Object(m.jsx)("div",{className:"col-4",children:null===e||void 0===e||null===(a=e.order)||void 0===a?void 0:a.name}),Object(m.jsx)("div",{className:"col-4",children:(null===e||void 0===e?void 0:e.shipping)&&(null===e||void 0===e?void 0:e.expected_date_of_receipt)?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{children:T()(null===e||void 0===e?void 0:e.expected_date_of_receipt).format("MMM DD YYYY")}),Object(m.jsxs)("p",{className:"text-store-location",children:["(",(null===e||void 0===e?void 0:e.cash_on_pickup)?"Cash on pickup":"Paid",")"]})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{children:"Picked up in store"}),!(null===e||void 0===e?void 0:e.shipping)&&(null===e||void 0===e?void 0:e.cash_on_pickup)?Object(m.jsx)("p",{className:"text-store-location",children:"(Cash on pickup)"}):"",(null===e||void 0===e||null===(i=e.store_location)||void 0===i?void 0:i.address1)?Object(m.jsxs)("p",{className:"text-store-location",children:["(",null===e||void 0===e||null===(s=e.store_location)||void 0===s?void 0:s.address1,")"]}):""]})}),Object(m.jsx)("div",{className:"col-2",style:{textAlign:"right"},children:Object(j.l)(null===e||void 0===e||null===(o=e.order)||void 0===o?void 0:o.current_total_price)})]}),Object(l.map)(null===e||void 0===e||null===(r=e.order)||void 0===r?void 0:r.line_items,(function(n,a){var i,s,l,o,r;return Object(m.jsxs)("div",{className:"rowItem row",children:[Object(m.jsx)("div",{className:"col-md-2 col-3",children:Object(m.jsx)("div",{className:"wrapper-img",children:Object(m.jsx)(E.default,{data:null===n||void 0===n||null===(i=n.image)||void 0===i?void 0:i.url})})}),Object(m.jsx)("div",{className:"col-md-4 col-9",children:Object(m.jsxs)("div",{className:"info",children:[Object(m.jsx)("h3",{children:null===n||void 0===n?void 0:n.vendor}),Object(m.jsx)("h4",{children:null===n||void 0===n?void 0:n.title}),Object(m.jsxs)("div",{children:[(null===n||void 0===n?void 0:n.variant_title)&&Object(m.jsxs)("p",{children:[Object(m.jsx)("label",{children:"Size:"})," ",Object(m.jsx)("span",{children:null===n||void 0===n?void 0:n.variant_title})]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("label",{children:"Quantity:"})," ",Object(m.jsx)("span",{children:null===n||void 0===n?void 0:n.quantity})]})]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("label",{children:"Price:"})," ",Object(m.jsx)("span",{children:Object(j.l)(null===n||void 0===n?void 0:n.updated_price)})]})]})}),Object(m.jsx)("div",{className:"col-md-4 col-12",children:"fulfilled"==(null===e||void 0===e||null===(s=e.order)||void 0===s?void 0:s.fulfillment_status)?Object(m.jsxs)("div",{className:"delevery-info",children:[Object(m.jsx)("img",{src:A,alt:"",className:"package-ic"}),Object(m.jsxs)("p",{className:"status",children:[Object(m.jsx)("i",{className:"gg-check"})," Completed"]})]}):"cancelled"==(null===e||void 0===e||null===(l=e.order)||void 0===l?void 0:l.fulfillment_status)?Object(m.jsxs)("div",{className:"delevery-info",children:[Object(m.jsx)("img",{src:P,alt:"",style:{marginLeft:"3.3em"}}),Object(m.jsxs)("p",{className:"status",children:[Object(m.jsx)("i",{className:"gg-check"})," Cancelled"]})]}):"in_transit"==(null===e||void 0===e||null===(o=e.order)||void 0===o?void 0:o.fulfillment_status)?Object(m.jsxs)("div",{className:"delevery-info",children:[Object(m.jsx)("img",{src:P,alt:"",style:{marginLeft:"3.3em"}}),Object(m.jsxs)("p",{className:"status",children:[Object(m.jsx)("i",{className:"gg-check"})," In transit"]})]}):Object(m.jsxs)("div",{className:"delevery-info",children:[Object(m.jsx)("img",{src:P,alt:""}),Object(m.jsxs)("p",{className:"status",children:[Object(m.jsx)("i",{className:"gg-check"})," Order placed"]}),(null===e||void 0===e?void 0:e.expected_date_of_receipt)?Object(m.jsxs)("p",{children:["You have until"," ",T()(null===e||void 0===e?void 0:e.expected_date_of_receipt).utcOffset(null===e||void 0===e?void 0:e.expected_date_of_receipt).format("MMM DD hh:mm a")," ","to cancel this order"]}):""]})}),Object(m.jsx)("div",{className:"col-md-2 col-12",children:"fulfilled"==(null===e||void 0===e||null===(r=e.order)||void 0===r?void 0:r.fulfillment_status)?Object(m.jsxs)("div",{className:"btn-group group-fullfiled",children:[Object(m.jsx)("button",{className:"btn-primary-outline",onClick:function(){return function(e){var n={variant_id:(null===e||void 0===e?void 0:e.variant_id)||"",quantity:1},a=null===t||void 0===t?void 0:t.lineItems.findIndex((function(e){return e.variant_id==n.variant_id})),i=Object(S.a)(null===t||void 0===t?void 0:t.lineItems);if(-1!=a){var s={variant_id:n.variant_id,quantity:(null===t||void 0===t?void 0:t.lineItems[a].quantity)+n.quantity};i[a]=s}else i.push(n);c(M.a(i)),c(R.c(!0))}(n)},children:"ORDER AGAIN"}),Object(m.jsx)("button",{className:"btn-policy",onClick:O,children:"Return policy"})]}):""})]},a)})),Object(m.jsx)("div",{className:"row action-order-history",children:"cancelled"!=(null===e||void 0===e||null===(u=e.order)||void 0===u?void 0:u.fulfillment_status)?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"btn-group",children:[(null===e||void 0===e?void 0:e.uuid)?Object(m.jsx)("a",{target:"__blank",className:"btn-receipt",href:"/receipt/".concat(null===e||void 0===e?void 0:e.uuid)||!1,children:"Receipt"}):"",1==(null===e||void 0===e?void 0:e.shipping)?Object(m.jsx)("button",{className:"btn-primary",onClick:function(){return function(e){(null===e||void 0===e?void 0:e.tracking_url)&&window.open(null===e||void 0===e?void 0:e.tracking_url,"_blank")}(e)},children:"TRACK ORDER"}):"","unfulfilled"==(null===e||void 0===e||null===(v=e.order)||void 0===v?void 0:v.fulfillment_status)?Object(m.jsx)("button",{className:"btn-primary-outline",onClick:function(){return function(e){h(!0),d(null===e||void 0===e?void 0:e.order_id)}(e)},children:"CANCEL ORDER"}):""]})}):""})]},n)})),Object(m.jsx)(q,{isOpen:b,orderId:r,onClickAway:function(){h(!1),d("")},fetchDataOrder:e.fetchDataOrder})]})};var z=function(){var e=Object(o.useState)({}),t=Object(s.a)(e,2),c=t[0],n=t[1],a=Object(o.useState)(!1),i=Object(s.a)(a,2),r=i[0],d=i[1];Object(o.useEffect)((function(){u(!0)}),[]);var u=function(e){e&&d(!0);var t={url:L.h,method:"GET",body:null};Object(j.e)(t).then((function(e){e.success&&(!function(e){var t=Object(l.groupBy)(e.data,(function(e){return T()(new Date(e.created_at),"DD/MM/YYYY").startOf("month")}));n(t)}(e),d(!1))}))};return Object(m.jsxs)("section",{className:"tab-OrderHistory animated faster fadeIn",children:[Object(m.jsx)("h1",{children:"ORDER HISTORY"}),r?Object(m.jsx)("div",{className:"wrapper-loading",children:Object(m.jsxs)("div",{className:"lds-ellipsis",children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]})}):Object(m.jsx)(m.Fragment,{children:Object.keys(c).length?Object(l.map)(Object.keys(c),(function(e,t){return Object(m.jsxs)("div",{className:"wrapper-month-list",children:[Object(m.jsx)("h2",{children:e?T()(e).format("MMMM YYYY"):""}),Object(m.jsxs)("div",{className:"table-custom-order-history",style:{paddingBottom:"8px"},children:[Object(m.jsx)("div",{className:"head",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-2",children:"Order Placed"}),Object(m.jsx)("div",{className:"col-4",children:"Order#"}),Object(m.jsx)("div",{className:"col-4",children:"Est delivery date"}),Object(m.jsx)("div",{className:"col-2",style:{textAlign:"right"},children:"total"})]})}),Object(m.jsx)("div",{className:"main",children:Object(m.jsx)(G,{data:c[e],fetchDataOrder:u})})]})]},t)})):Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-12",children:"No order history found"})})})]})},W=c(606),U=(c(394),c.p+"static/media/expand.026d37b8.svg"),H=c.p+"static/media/close-small.ac6695c8.svg",V=function(){var e,t=Object(o.useState)((e=0,Array.from({length:e},(function(e,t){return t})).map((function(e){return{id:"item-".concat(e),content:"item ".concat(e)}})))),c=Object(s.a)(t,2),n=c[0],a=c[1],i=Object(o.useState)(null),r=Object(s.a)(i,2),d=r[0],u=r[1],b=function(e){if(e.destination&&n){var t=function(e,t,c){var n=Array.from(e),a=n.splice(t,1),i=Object(s.a)(a,1)[0];n.splice(c,0,i);var o=Object(l.map)(n,(function(e,t){return{id:null===e||void 0===e?void 0:e.content.id,ordinal_number:t+1}})),r={url:"".concat(L.v,"/").concat(d,"/"),method:"PUT",body:{products:o}};return Object(j.e)(r),n}(n,e.source.index,e.destination.index);a(t)}};Object(o.useEffect)((function(){var e={url:"".concat(L.v,"/"),method:"GET",body:null};Object(j.e)(e).then((function(e){if(e.success){var t,c,i=Object(S.a)(n);u(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id),Object(l.map)(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.products,(function(e,t){var c=[{id:"item-".concat(t),content:e}];i=[].concat(Object(S.a)(i),c)})),a(i)}}))}),[]);var h=Object(Y.g)(),O=function(e,t){h.push("/brand/"+t+"/"+e)};return Object(m.jsxs)("section",{className:"tab-WishList animated faster fadeIn",children:[Object(m.jsx)("h1",{children:"MY WISH LIST"}),Object(m.jsxs)("div",{className:"head row",children:[Object(m.jsx)("div",{className:"col-1"}),Object(m.jsx)("div",{className:"col-2",children:Object(m.jsx)("p",{children:"Product"})}),Object(m.jsx)("div",{className:"col-5"}),Object(m.jsx)("div",{className:"col-4",children:Object(m.jsx)("p",{children:"Price"})})]}),n.length?Object(m.jsx)(W.a,{onDragEnd:b,children:Object(m.jsx)(W.c,{droppableId:"droppable",children:function(e){return Object(m.jsxs)("div",Object(v.a)(Object(v.a)({},e.droppableProps),{},{ref:e.innerRef,style:{width:"100%"},children:[Object(l.map)(n,(function(e,t){return Object(m.jsx)(W.b,{draggableId:e.id,index:t,children:function(t,c){var n,i,s,o,r,d,b,h,p,x,f,g,N;return Object(m.jsx)("div",Object(v.a)(Object(v.a)(Object(v.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:(g=c.isDragging,N=t.draggableProps.style,Object(v.a)({userSelect:"none",padding:"16px 0",borderBottom:"1px solid #cccccc",margin:"0",background:"white",boxShadow:g?"0px 3px 5px #e8e7e7":""},N)),children:Object(m.jsxs)("div",{className:"row-item row ".concat(c.isDragging?"dragging":""),children:[Object(m.jsx)("div",{className:"col-1 info",children:Object(m.jsx)("img",{src:U,alt:"",className:"expand-ic"})}),Object(m.jsx)("div",{className:"col-2",onClick:function(){var t,c,n;return O(null===e||void 0===e?void 0:e.content.handle,null===e||void 0===e||null===(t=e.content)||void 0===t||null===(c=t.brand_page)||void 0===c||null===(n=c.page_ptr)||void 0===n?void 0:n.handle)},children:Object(m.jsx)("div",{className:"wrapper-img",children:(null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.images)&&(null===e||void 0===e||null===(i=e.content)||void 0===i?void 0:i.images.length)>0?Object(m.jsx)(E.default,{data:null===e||void 0===e||null===(s=e.content)||void 0===s||null===(o=s.images[0])||void 0===o?void 0:o.url}):""})}),Object(m.jsxs)("div",{className:"col-5 info",onClick:function(){var t,c,n;return O(null===e||void 0===e?void 0:e.content.handle,null===e||void 0===e||null===(t=e.content)||void 0===t||null===(c=t.brand_page)||void 0===c||null===(n=c.page_ptr)||void 0===n?void 0:n.handle)},children:[Object(m.jsx)("h4",{children:null===e||void 0===e||null===(r=e.content)||void 0===r?void 0:r.name}),Object(m.jsx)("p",{children:null===e||void 0===e||null===(d=e.content)||void 0===d||null===(b=d.brand)||void 0===b?void 0:b.name})]}),Object(m.jsx)("div",{className:"col-4 price-info",onClick:function(){var t,c,n;return O(null===e||void 0===e?void 0:e.content.handle,null===e||void 0===e||null===(t=e.content)||void 0===t||null===(c=t.brand_page)||void 0===c||null===(n=c.page_ptr)||void 0===n?void 0:n.handle)},children:(null===e||void 0===e||null===(h=e.content)||void 0===h?void 0:h.product_variants)&&(null===e||void 0===e||null===(p=e.content)||void 0===p?void 0:p.product_variants.length)>0?Object(m.jsx)("h3",{children:Object(j.l)(null===e||void 0===e||null===(x=e.content)||void 0===x||null===(f=x.product_variants[0])||void 0===f?void 0:f.price)}):""}),Object(m.jsx)("button",{onClick:function(){return function(e){var t,c={url:"".concat(L.v,"/"),method:"DELETE",body:{product_id:(null===e||void 0===e||null===(t=e.content)||void 0===t?void 0:t.id)||null}};Object(j.e)(c).then((function(e){if(e.success){var t,c;u(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id);var n=Object(l.map)(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.products,(function(e,t){return{id:"item-".concat(t),content:e}}));a(Object(S.a)(n))}}))}(e)},className:"close-ic",children:Object(m.jsx)("img",{src:H,alt:""})})]})}))}},e.id)})),e.placeholder]}))}})}):Object(m.jsx)("div",{className:"row-item row",children:Object(m.jsx)("div",{className:"col-12 no-products",children:"No products found in wish list!"})})]})},K=c(54),J=c(388),Q=c(39),X=c(12);var Z=function(e){var t,c,n,a,i=Object(B.c)(),r=Object(o.createRef)(),d=Object(o.createRef)(),u=Object(o.useState)({addressInfo:null,isBillingAddress:!0,billingInfo:""}),b=Object(s.a)(u,2),h=b[0],O=b[1],p=Object(o.useState)({first_name_last_name:"",password:"",email:"",phone:""}),x=Object(s.a)(p,2),f=x[0],g=x[1],N=Object(o.useState)({first_name:null,last_name:null,password:"",confirm_password:"",email:null,phone:null}),_=Object(s.a)(N,2),w=_[0],y=_[1],k=function(){if(localStorage.getItem("sundoraToken")){var e={url:L.s,method:"GET",body:null};Object(j.e)(e).then((function(e){if(e.success){if(e.data.phone){var t=e.data.phone;e.data.phone=t.slice(t.indexOf("0"),t.length)}var c=e.data;if(c.guest){var n,a,i,s,o,r,d,j;if(null===c||void 0===c||null===(n=c.note)||void 0===n||null===(a=n.guest)||void 0===a?void 0:a.email)c.email=null===c||void 0===c||null===(o=c.note)||void 0===o||null===(r=o.guest)||void 0===r?void 0:r.email;if(null===c||void 0===c||null===(i=c.note)||void 0===i||null===(s=i.guest)||void 0===s?void 0:s.phone)c.phone=Object(l.replace)(null===c||void 0===c||null===(d=c.note)||void 0===d||null===(j=d.guest)||void 0===j?void 0:j.phone,"+88","")}y(c)}}))}};Object(o.useEffect)((function(){localStorage.getItem("sundoraToken")&&(i(X.c("shipping")),i(X.c("billing"))),k()}),[]);var I=function(e){O(Object(v.a)(Object(v.a)({},h),{},{addressInfo:e,isShowStep2:!1}))},C=function(e){y(Object(v.a)(Object(v.a)({},w),{},Object(K.a)({},e.target.name,e.target.value)))},S=function(){return w.email?0==Object(j.t)(w.email.trim())?"Please enter valid email":void 0:"Please enter email"},E=function(){var e=function(){var e=w.first_name&&(null===w||void 0===w?void 0:w.first_name.trim().replace(/\s+/g," ").length)>0?w.first_name.trim().replace(/\s+/g," ").length:0,t=w.last_name&&(null===w||void 0===w?void 0:w.last_name.trim().replace(/\s+/g," ").length)>0?w.last_name.trim().replace(/\s+/g," ").length:0;return 0===e&&0===t?(r.current.focus(),r.current.scrollIntoView({block:"center",behavior:"smooth"}),"Please enter first name and last name!"):0===e?(r.current.focus(),r.current.scrollIntoView({block:"center",behavior:"smooth"}),"Please enter first name!"):0===t?(d.current.focus(),d.current.scrollIntoView({block:"center",behavior:"smooth"}),"Please enter last name!"):void 0}(),t=function(){if((w.password||w.confirm_password)&&w.password!=w.confirm_password)return"Password confirmation doesn't match password"}(),c=S(),n=function(){if(!w.phone||""==(null===w||void 0===w?void 0:w.phone))return"Please enter phone number";var e=Object(j.g)(w.phone);return 0==Object(j.u)(e)?"Please enter valid phone number":void 0}();return S(),g(Object(v.a)(Object(v.a)({},f),{user_name_last_name:e,password:t,email:c,phone:n})),!!(e||t||c||n)};return Object(m.jsxs)("section",{className:"tab-MyAccount",children:[Object(m.jsxs)("h1",{children:["My Account ",(null===w||void 0===w?void 0:w.guest)?Object(m.jsx)("span",{className:"text-guest",children:"(guest)"}):""]}),Object(m.jsxs)("div",{className:"row",style:{marginBottom:32,paddingBottom:24,borderBottom:"1px solid #ddd"},children:[Object(m.jsx)("div",{className:"col-md-2 col-12",children:Object(m.jsx)("h3",{children:"Account"})}),Object(m.jsx)("div",{className:"col-lg-6 col-md-10 col-12",children:Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-6",children:Object(m.jsx)(Q.a,{type:"text",for:"First name",label:"First name",name:"first_name",value:null===w||void 0===w?void 0:w.first_name,handleChange:C,refName:r})}),Object(m.jsx)("div",{className:"col-6",children:Object(m.jsx)(Q.a,{type:"text",for:"Last name",label:"Last name",name:"last_name",value:null===w||void 0===w?void 0:w.last_name,handleChange:C,validate:!!f.user_name_last_name,validateContent:f.user_name_last_name,refName:d})})]}),Object(m.jsxs)("div",{className:"row p-0",children:[Object(m.jsx)("div",{className:"col-6 off-animation-text",children:Object(m.jsx)(Q.a,{type:"text",for:"Birthday",label:"Birthday",name:"",readOnly:!0,value:null!==(t=null===w||void 0===w||null===(c=w.note)||void 0===c?void 0:c.birthday)&&void 0!==t?t:""})}),Object(m.jsx)("div",{className:"col-6",children:Object(m.jsx)(Q.a,{type:"text",for:"gender",label:"Gender",name:"",readOnly:!0,value:null!==(n=null===w||void 0===w||null===(a=w.note)||void 0===a?void 0:a.gender)&&void 0!==n?n:""})})]}),Object(m.jsx)(Q.a,{type:"text",for:"Email address",label:"Email address",name:"email",value:(null===w||void 0===w?void 0:w.email)||"",validate:!!f.email,validateContent:f.email,handleChange:C}),Object(m.jsx)("div",{className:"phone-input",children:Object(m.jsx)(Q.a,{type:"text",for:"Phone number",label:"Phone number",name:"phone",value:(null===w||void 0===w?void 0:w.phone)||"",validate:!!f.phone,validateContent:f.phone,handleChange:C})}),(null===w||void 0===w?void 0:w.guest)?"":Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-6",children:Object(m.jsx)(Q.a,{type:"password",for:"Password",label:"Password",name:"password",value:(null===w||void 0===w?void 0:w.password)||"",handleChange:C})}),Object(m.jsx)("div",{className:"col-6",children:Object(m.jsx)(Q.a,{type:"password",for:"Confirm password",label:"Confirm password",name:"confirm_password",value:(null===w||void 0===w?void 0:w.confirm_password)||"",validate:!0,handleChange:C,validateContent:f.password})})]}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("button",{className:"btn-change-password",onClick:function(){if(!E()){var e={url:L.S,method:"PUT",body:{first_name:w.first_name,last_name:w.last_name,password:w.password?w.password.trim():"",email:w.email||"",phone:w.phone?Object(j.g)(w.phone.trim()):"",confirm_password:w.confirm_password?w.confirm_password.trim():""}};Object(j.e)(e).then((function(e){e.success?(k(),Object(j.q)("Update info successfully")):e.isError}))}},children:"Change"})})]})}),Object(m.jsx)("div",{className:"col-lg-4 col-md-1 col-12"})]}),Object(m.jsxs)("div",{className:"row",style:{marginBottom:32,paddingBottom:24,borderBottom:"1px solid #ddd"},children:[Object(m.jsx)("div",{className:"col-md-2 col-12",children:Object(m.jsx)("h3",{children:"Address"})}),Object(m.jsx)("div",{className:"col-lg-6 col-md-10 col-12",children:Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)(J.a,{google:e.google,center:{lat:18.5204,lng:73.8567},height:"300px",zoom:15,confirmAddressStep:I,isAllowDelete:!0,type:"shipping"}),Object(m.jsxs)("label",{className:"checkbox-button",children:[Object(m.jsx)("input",{type:"checkbox",className:"checkbox-button__input",id:"choice1-1",name:"isBillingAddress",checked:h.isBillingAddress,onChange:function(e){O(Object(v.a)(Object(v.a)({},h),{},Object(K.a)({},e.target.name,e.target.checked)))}}),Object(m.jsx)("span",{className:"checkbox-button__control"}),Object(m.jsx)("span",{className:"checkbox-button__label",children:"Yes, make this to my billing address"})]})]})}),Object(m.jsx)("div",{className:"col-md-4 col-12"})]}),(null===h||void 0===h?void 0:h.isBillingAddress)?"":Object(m.jsxs)("div",{className:"row",style:{marginBottom:24,marginTop:32},children:[Object(m.jsx)("div",{className:"col-md-2 col-12",children:Object(m.jsx)("h3",{children:"Billing"})}),Object(m.jsx)("div",{className:"col-lg-6 col-md-10 col-12",children:Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)(J.a,{google:e.google,center:{lat:18.5204,lng:73.8567},height:"300px",zoom:15,confirmAddressStep:I,isAllowDelete:!0,type:"billing"})})}),Object(m.jsx)("div",{className:"col-md-4 col-12"})]})]})},$=c(51),ee=c.n($),te=c(260),ce=c(261);var ne=function(e){var t=Object(o.useState)({stars:[1,2,3,4,5],rating:0,hovered:0}),c=Object(s.a)(t,2),n=c[0],a=c[1];Object(o.useEffect)((function(){a({stars:[1,2,3,4,5],rating:(null===e||void 0===e?void 0:e.star)||0,hovered:0})}),[e.star]);var i=function(e){var t=Object(v.a)({},n);t.hovered=e,a(t)},r=n.stars,d=n.rating,j=n.hovered;return Object(m.jsxs)("section",{className:"rating",children:[Object(m.jsx)("span",{className:"title",children:"Overall rating:"}),Object(l.map)(r,(function(t,c){return Object(m.jsx)("span",{style:{cursor:"pointer"},onClick:function(){var c;c=t,a(Object(v.a)(Object(v.a)({},n),{},{rating:c})),e.onChange&&e.onChange(c)},onMouseEnter:function(){i(t)},onMouseLeave:function(){i(0)},children:d<t&&j<t?Object(m.jsx)("img",{src:ce.a,alt:""}):Object(m.jsx)("img",{src:te.a,alt:""})},c)}))]})};var ae=function(e){var t,c=e.item,n=Object(o.useState)(""),a=Object(s.a)(n,2),i=a[0],l=a[1],r=Object(o.useState)(0),d=Object(s.a)(r,2),u=d[0],v=d[1],b=Object(o.useState)(!1),h=Object(s.a)(b,2),O=h[0],p=h[1],x=Object(Y.g)(),f=function(e,t){x.push("/brand/"+t+"/"+e)};return Object(m.jsxs)("div",{className:"row-item row",children:[Object(m.jsx)("div",{className:"col-md-2 col-3",onClick:function(){var e,t;return f(null===c||void 0===c?void 0:c.handle,null===c||void 0===c||null===(e=c.brand_page)||void 0===e||null===(t=e.page_ptr)||void 0===t?void 0:t.handle)},children:Object(m.jsx)("div",{className:"wrapper-img",children:Object(m.jsx)(E.default,{data:null===c||void 0===c||null===(t=c.image)||void 0===t?void 0:t.url})})}),Object(m.jsxs)("div",{className:"col-md-4 col-9 info",onClick:function(){var e,t;return f(null===c||void 0===c?void 0:c.handle,null===c||void 0===c||null===(e=c.brand_page)||void 0===e||null===(t=e.page_ptr)||void 0===t?void 0:t.handle)},children:[Object(m.jsx)("h4",{children:null===c||void 0===c?void 0:c.title}),Object(m.jsx)("p",{children:null===c||void 0===c?void 0:c.vendor})]}),Object(m.jsxs)("div",{className:"col-md-6 col-12 review-wrapper",children:[Object(m.jsxs)("div",{className:"review-section",children:[Object(m.jsx)("textarea",{rows:5,onChange:function(e){l(null===e||void 0===e?void 0:e.target.value)},value:i}),Object(m.jsx)(ne,{onChange:function(e){v(e)},star:u}),Object(m.jsxs)("label",{className:"checkbox-button",children:[Object(m.jsx)("input",{type:"checkbox",className:"checkbox-button__input",id:"choice",checked:O,onChange:function(){p(!O)}}),Object(m.jsx)("span",{className:"checkbox-button__control"}),Object(m.jsx)("span",{className:"checkbox-button__label",children:"I want to remain anomynous"})]})]}),Object(m.jsx)("button",{onClick:function(){return function(t){if(""!=i){var c={url:L.p,method:"POST",body:{variant_id:t.variant_id,comment:i,star:u||null,anonymous:O}};Object(j.e)(c).then((function(t){(null===t||void 0===t?void 0:t.success)?(l(""),v(0),p(!1),e.fetchDataReview(),ee.a.info("Review success")):ee.a.error("Review error")}))}else ee.a.error("Please enter reviews")}(c)},children:"Send reviews"})]})]})},ie=function(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),c=t[0],n=t[1],a=function(){var e={url:L.p,method:"GET",body:null};Object(j.e)(e).then((function(e){e.success&&n(e.data)}))};return Object(o.useEffect)((function(){a()}),[]),Object(m.jsxs)("section",{className:"tab-Reviews animated faster fadeIn",children:[Object(m.jsx)("h1",{children:"MY REVIEWS"}),Object(m.jsxs)("div",{className:"head row",children:[Object(m.jsx)("div",{className:"col-2",children:Object(m.jsx)("p",{children:"Product"})}),Object(m.jsx)("div",{className:"col-4"}),Object(m.jsx)("div",{className:"col-6",children:d.a?"":Object(m.jsx)("p",{children:"Reviews"})})]}),c.length?Object(l.map)(c,(function(e,t){return Object(m.jsx)(ae,{item:e,fetchDataReview:a},t)})):Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-12 no-review",children:"No review found"})})]})},se=c(96);var le=function(){var e=Object(o.useState)(!1),t=Object(s.a)(e,1)[0],c=Object(o.useState)({newsletter_email:!0,newsletter_sms:!0}),n=Object(s.a)(c,2),a=n[0],i=n[1],l=function(){if(localStorage.getItem("sundoraToken")){var e={url:L.s,method:"GET",body:null};Object(j.e)(e).then((function(e){e.success&&i({newsletter_email:e.data.newsletter_email,newsletter_sms:e.data.newsletter_sms})}))}};Object(o.useEffect)((function(){l()}),[]);var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=e.target.value;t&&(c=e.target.checked),i(Object(v.a)(Object(v.a)({},a),{},Object(K.a)({},e.currentTarget.name,c)))},d=function(){var e={url:L.Q,method:"PUT",body:a};Object(j.e)(e).then((function(e){e.success?(l(),Object(j.q)("Update info successfully")):e.isError}))};return Object(m.jsxs)("section",{className:"tab-Newsletter animated faster fadeIn",children:[Object(m.jsx)("h1",{children:"Newsletters"}),t?Object(m.jsx)("div",{className:"wrapper-loading",children:Object(m.jsxs)("div",{className:"lds-ellipsis",children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]})}):Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"newsletter-text",children:"I consent to Sundora and its service providers, sending me marketing information and materials of Sundora's and its partners' products, services and events, by the following methods:"}),Object(m.jsxs)("div",{className:"newsletter",children:[Object(m.jsxs)("label",{className:"checkbox-button",htmlFor:"newsletter_email",children:[Object(m.jsx)("input",{type:"checkbox",className:"checkbox-button__input",id:"newsletter_email",name:"newsletter_email",onChange:function(e){return r(e,!0)},checked:a.newsletter_email}),Object(m.jsx)("div",{className:"checkbox-button__control"})]}),Object(m.jsx)("label",{className:"checkbox-button__label",htmlFor:"newsletter_email",children:"Email"}),"\xa0",Object(m.jsxs)("label",{className:"checkbox-button",htmlFor:"newsletter_sms",children:[Object(m.jsx)("input",{type:"checkbox",className:"checkbox-button__input",id:"newsletter_sms",name:"newsletter_sms",onChange:function(e){return r(e,!0)},checked:a.newsletter_sms}),Object(m.jsx)("div",{className:"checkbox-button__control"})]}),Object(m.jsx)("label",{className:"checkbox-button__label",htmlFor:"newsletter_sms",children:"SMS"})]}),Object(m.jsx)("button",{className:"btn-primary",onClick:d,children:"SAVE"})]})]})};function oe(e){var t,c,n=Object(B.c)(),v=Object(o.useState)([]),b=Object(s.a)(v,2),h=b[0],O=b[1],p=Object(o.useState)([]),x=Object(s.a)(p,2),f=x[0],g=x[1],N=Object(o.useState)([]),_=Object(s.a)(N,2),w=_[0],y=_[1],k=Object(o.useState)(""),I=Object(s.a)(k,2),S=I[0],E=I[1],P=function(){var t=Object(i.a)(a.a.mark((function t(){var c,n,i,s,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.match.params?e.match.params:void 0,!(Object(l.isEmpty)(h)||c||Object(l.isEmpty)(w))){t.next=16;break}return n=[Object(j.d)(L.E)],t.prev=3,t.next=6,Promise.all(n);case 6:i=t.sent,s=i[0],o=Object(l.get)(s,"dynamic_links"),O(null===o||void 0===o?void 0:o.navigation),y(null===o||void 0===o?void 0:o.footer),g(!1),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(3);case 16:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){P()}),[]),Object(o.useEffect)((function(){E(e.match.params.tabName)}),[e.match.params.tabName]),Object(m.jsxs)("div",{className:"site-AccountPage",children:[Object(m.jsxs)(se.a,{children:[Object(m.jsx)("meta",{property:"og:title",content:"Account page | Sundora"}),Object(m.jsx)("meta",{property:"og:description",content:"Account page | Sundora"}),Object(m.jsx)("title",{children:"Account page | Sundora"}),Object(m.jsx)("meta",{name:"description",content:"Account page | Sundora"})]}),f?Object(m.jsx)(r.default,{}):"",Object(m.jsx)("main",{children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-lg-3 col-md-12 col-12",children:Object(m.jsx)(C,{activeItemId:(null===e||void 0===e||null===(t=e.match)||void 0===t?void 0:t.url)?null===e||void 0===e||null===(c=e.match)||void 0===c?void 0:c.url:"/account/my-account",onSelect:function(t){var c=t.itemId;e.history.push(c)},items:[{title:"My account",itemId:"/account/my-account",iconName:"account"},{title:"Wish list",itemId:"/account/wish-list",iconName:"heart"},{title:"Newsletter",itemId:"/account/newsletter",iconName:"tag"},{title:"Order history",itemId:"/account/order-history",iconName:"order"},{title:"My reviews",itemId:"/account/my-reviews",iconName:""},{title:"Logout",itemId:"/account/logout",iconName:""}]})}),Object(m.jsx)("div",{className:"col-lg-9 col-md-12 col-12",style:{padding:d.a?"0 1em":"0 2em"},children:function(){switch(S){case"order-history":return Object(m.jsx)(z,{});case"wish-list":return Object(m.jsx)(V,{});case"my-account":return Object(m.jsx)(Z,{});case"my-reviews":return Object(m.jsx)(ie,{});case"newsletter":return Object(m.jsx)(le,{});case"logout":return void n(X.k());default:return""}}()})]})})}),Object(m.jsx)(u.default,{data:w})]})}t.default=Object(o.memo)(oe)}}]);
//# sourceMappingURL=30.fd562d14.chunk.js.map